import{s as Ne,u as Vt,e as y,c as D,h as T,d as c,a as _,i as U,y as Ut,z as Lt,A as Nt,b as ve,r as it,D as nt,R as Mt,S as kt,n as Q,F as De,l as N,t as W,o as M,m as Y,p as g,x as ae,L as qt,P as Ee,B as je,H as ue,g as Ce,k as Oe,q as x,j as Z}from"../chunks/scheduler.BD3IPErK.js";import{h as yt,u as Dt,E as Et,M as At}from"../chunks/ErrorMessage.C_-DmavX.js";import{S as Me,i as qe,t as w,b as $,c as H,a as P,m as G,d as j,f as we,g as se,e as oe,h as J,j as ze,k as Ke}from"../chunks/index.CufQnT-K.js";import{F as Ie,k as Bt,c as Rt,s as ne,d as pe,e as Se,o as Ft,p as Ht,P as Pt,h as wt}from"../chunks/Page.DNGIaKrR.js";import{w as Gt}from"../chunks/index.Bq99oXf3.js";import{g as jt}from"../chunks/stores.CsfdB5nm.js";import{A as $e,n as Fe,b as He,a as Te}from"../chunks/eslint4b.es.C89pjaTy.js";import{T as Ot,a as zt}from"../chunks/TablePlaceholder.Cg2Oo5AA.js";import{R as Kt}from"../chunks/RadioItem.kZwCYZzn.js";import{D as Xt}from"../chunks/DropdownKvP.v2F58Eld.js";import{M as Jt}from"../chunks/MultiSelect.DlYEx5Wv.js";import{y as Qt,p as Wt,P as ye,v as Ge,M as Yt,T as rt}from"../chunks/vest.production.DBLC5iAh.js";import{T as Zt}from"../chunks/TextArea.a3zJiS0i.js";import{T as xt}from"../chunks/tableOptions.Dpr8r06l.js";function ei(l){let e,t,i;const r=l[15].default,a=Vt(r,l,l[14],null);return{c(){e=y("div"),a&&a.c(),this.h()},l(n){e=D(n,"DIV",{class:!0,"data-testid":!0,role:!0,"aria-labelledby":!0});var s=T(e);a&&a.l(s),s.forEach(c),this.h()},h(){_(e,"class",t="radio-group "+l[1]),_(e,"data-testid","radio-group"),_(e,"role","radiogroup"),_(e,"aria-labelledby",l[0])},m(n,s){U(n,e,s),a&&a.m(e,null),i=!0},p(n,[s]){a&&a.p&&(!i||s&16384)&&Ut(a,r,n,n[14],i?Nt(r,n[14],s,null):Lt(n[14]),null),(!i||s&2&&t!==(t="radio-group "+n[1]))&&_(e,"class",t),(!i||s&1)&&_(e,"aria-labelledby",n[0])},i(n){i||(w(a,n),i=!0)},o(n){$(a,n),i=!1},d(n){n&&c(e),a&&a.d(n)}}}const ti="p-1";function ii(l,e,t){let i,{$$slots:r={},$$scope:a}=e,{display:n="inline-flex"}=e,{flexDirection:s="flex-row"}=e,{gap:o="gap-1"}=e,{background:u="bg-surface-200-700-token"}=e,{border:d="border-token border-surface-400-500-token"}=e,{rounded:h="rounded-token"}=e,{padding:m="px-4 py-1"}=e,{active:I="variant-filled"}=e,{hover:S="hover:variant-soft"}=e,{color:f=""}=e,{fill:E=""}=e,{regionLabel:p=""}=e,{labelledby:k=""}=e;return ve("rounded",h),ve("padding",m),ve("active",I),ve("hover",S),ve("color",f),ve("fill",E),ve("regionLabel",p),l.$$set=v=>{t(16,e=it(it({},e),nt(v))),"display"in v&&t(2,n=v.display),"flexDirection"in v&&t(3,s=v.flexDirection),"gap"in v&&t(4,o=v.gap),"background"in v&&t(5,u=v.background),"border"in v&&t(6,d=v.border),"rounded"in v&&t(7,h=v.rounded),"padding"in v&&t(8,m=v.padding),"active"in v&&t(9,I=v.active),"hover"in v&&t(10,S=v.hover),"color"in v&&t(11,f=v.color),"fill"in v&&t(12,E=v.fill),"regionLabel"in v&&t(13,p=v.regionLabel),"labelledby"in v&&t(0,k=v.labelledby),"$$scope"in v&&t(14,a=v.$$scope)},l.$$.update=()=>{t(1,i=`${ti} ${n} ${s} ${o} ${u} ${d} ${h} ${e.class??""}`)},e=nt(e),[k,i,n,s,o,u,d,h,m,I,S,f,E,p,a,r]}class ni extends Me{constructor(e){super(),qe(this,e,ii,ei,Ne,{display:2,flexDirection:3,gap:4,background:5,border:6,rounded:7,padding:8,active:9,hover:10,color:11,fill:12,regionLabel:13,labelledby:0})}}const ri=async()=>{try{return(await $e.get("/rpm/unit/GetUnits")).data}catch(l){throw console.error(l),l}},li=async()=>{try{return(await $e.get("/rpm/unit/GetMeasurementSystems")).data}catch(l){throw console.error(l),l}},ai=async()=>{try{return(await $e.get("/rpm/unit/GetDataTypes")).data}catch(l){throw console.error(l),l}},si=async()=>{try{return(await $e.get("/rpm/unit/GetDimensions")).data}catch(l){throw console.error(l),l}},oi=async l=>{try{return(await $e.post("/rpm/unit/EditUnit",l)).data}catch(e){throw console.error(e),e}},ui=async l=>{try{return(await $e.post("/rpm/unit/DeleteUnit",{id:l})).data}catch(e){throw console.error(e),e}},be=Qt((l,e)=>{Wt(e),ye("name","name is required",()=>{Ge(l.unit.name).isNotBlank()}),ye("name","name is not unique",()=>l.units.find(t=>t.name.toLowerCase().trim()===l.unit.name.toLowerCase().trim())==null||l.units.filter(t=>t.name.toLowerCase().trim()===l.unit.name.toLowerCase().trim()&&t.id!=l.unit.id).length==0),ye("abbreviation","abbreviation is required",()=>{Ge(l.unit.abbreviation).isNotBlank()}),ye("abbreviation","abbreviation is not unique",()=>l.units.find(t=>t.abbreviation.trim()===l.unit.abbreviation.trim())==null||l.units.filter(t=>t.abbreviation.toLowerCase().trim()===l.unit.abbreviation.toLowerCase().trim()&&t.id!=l.unit.id).length==0),ye("description","description is required",()=>{Ge(l.unit.description).isNotBlank()}),Yt(l.measurementSystems,t=>{ye(t,"measurementSystem is required",()=>l.measurementSystems.find(i=>i.trim()===l.unit.measurementSystem.trim())!=null)})});function lt(l,e,t){const i=l.slice();return i[32]=e[t],i}function at(l,e,t){const i=l.slice();return i[35]=e[t],i}function fi(l){let e,t,i;return t=new Et({props:{error:l[38]}}),{c(){e=y("div"),H(t.$$.fragment),this.h()},l(r){e=D(r,"DIV",{class:!0});var a=T(e);P(t.$$.fragment,a),a.forEach(c),this.h()},h(){_(e,"class","flex justify-center")},m(r,a){U(r,e,a),G(t,e,null),i=!0},p:Q,i(r){i||(w(t.$$.fragment,r),i=!0)},o(r){$(t.$$.fragment,r),i=!1},d(r){r&&c(e),j(t)}}}function ci(l){let e,t,i,r,a,n,s,o,u,d,h,m,I,S,f,E,p,k,v,V,q,ee,X,fe,O,z,Ve,ge,Ue,te,Le,ie,K,re,C,A,le,Ae,he,Pe,Xe;function Tt(b){l[17](b)}let Je={id:"name",label:"Name",help:!0,required:!0,valid:l[2].isValid("name"),invalid:l[2].hasErrors("name"),feedback:l[2].getErrors("name")};l[0].name!==void 0&&(Je.value=l[0].name),r=new rt({props:Je}),De.push(()=>we(r,"value",Tt)),r.$on("input",l[10]);function It(b){l[18](b)}let Qe={id:"abbreviation",label:"Abbreviation",help:!0,required:!0,valid:l[2].isValid("abbreviation"),invalid:l[2].hasErrors("abbreviation"),feedback:l[2].getErrors("abbreviation")};l[0].abbreviation!==void 0&&(Qe.value=l[0].abbreviation),o=new rt({props:Qe}),De.push(()=>we(o,"value",It)),o.$on("input",l[10]);function St(b){l[19](b)}let We={id:"description",label:"Description",help:!0,required:!0,valid:l[2].isValid("description"),invalid:l[2].hasErrors("description"),feedback:l[2].getErrors("description")};l[0].description!==void 0&&(We.value=l[0].description),m=new Zt({props:We}),De.push(()=>we(m,"value",St)),m.$on("input",l[10]);function Ct(b){l[20](b)}let Ye={title:"Data Types",id:"dataTypes",source:l[7],itemId:"id",itemLabel:"name",complexSource:!0,complexTarget:!0,required:!0,help:!0};l[0].datatypes!==void 0&&(Ye.target=l[0].datatypes),E=new Jt({props:Ye}),De.push(()=>we(E,"target",Ct));let B=l[0].datatypes!=null&&l[0].datatypes!=null&&l[0].datatypes.length>0&&st(l);function $t(b){l[23](b)}let Ze={id:"dimension",title:"Dimension",source:l[6],required:!0,complexTarget:!0,help:!0};l[3]!==void 0&&(Ze.target=l[3]),q=new Xt({props:Ze}),De.push(()=>we(q,"target",$t));let R=l[0].dimension!=null&&l[0].dimension!=null&&ct(l);return te=new ni({props:{help:!0,id:"measurementSystems",$$slots:{default:[hi]},$$scope:{ctx:l}}}),re=new Ie({props:{icon:Bt}}),le=new Ie({props:{icon:Rt}}),{c(){e=y("form"),t=y("div"),i=y("div"),H(r.$$.fragment),n=N(),s=y("div"),H(o.$$.fragment),d=N(),h=y("div"),H(m.$$.fragment),S=N(),f=y("div"),H(E.$$.fragment),k=N(),B&&B.c(),v=N(),V=y("div"),H(q.$$.fragment),X=N(),R&&R.c(),fe=N(),O=y("div"),z=y("label"),Ve=W("Measurement System"),Ue=N(),H(te.$$.fragment),Le=N(),ie=y("div"),K=y("button"),H(re.$$.fragment),C=N(),A=y("button"),H(le.$$.fragment),this.h()},l(b){e=D(b,"FORM",{});var L=T(e);t=D(L,"DIV",{class:!0});var F=T(t);i=D(F,"DIV",{class:!0,title:!0});var ce=T(i);P(r.$$.fragment,ce),ce.forEach(c),n=M(F),s=D(F,"DIV",{class:!0,title:!0});var de=T(s);P(o.$$.fragment,de),de.forEach(c),d=M(F),h=D(F,"DIV",{class:!0,title:!0});var ke=T(h);P(m.$$.fragment,ke),ke.forEach(c),S=M(F),f=D(F,"DIV",{class:!0,title:!0});var me=T(f);P(E.$$.fragment,me),k=M(me),B&&B.l(me),me.forEach(c),v=M(F),V=D(F,"DIV",{class:!0,title:!0});var _e=T(V);P(q.$$.fragment,_e),X=M(_e),R&&R.l(_e),_e.forEach(c),fe=M(F),O=D(F,"DIV",{class:!0,title:!0});var Be=T(O);z=D(Be,"LABEL",{for:!0,class:!0});var xe=T(z);Ve=Y(xe,"Measurement System"),xe.forEach(c),Ue=M(Be),P(te.$$.fragment,Be),Be.forEach(c),Le=M(F),ie=D(F,"DIV",{class:!0});var Re=T(ie);K=D(Re,"BUTTON",{type:!0,class:!0,title:!0,id:!0});var et=T(K);P(re.$$.fragment,et),et.forEach(c),C=M(Re),A=D(Re,"BUTTON",{type:!0,class:!0,title:!0,id:!0});var tt=T(A);P(le.$$.fragment,tt),tt.forEach(c),Re.forEach(c),F.forEach(c),L.forEach(c),this.h()},h(){_(i,"class","pb-3"),_(i,"title","Name"),_(s,"class","pb-3"),_(s,"title","Abbreviation"),_(h,"class","pb-3 col-span-2"),_(h,"title","Description"),_(f,"class","pb-3"),_(f,"title","Data Types"),_(V,"class","pb-3"),_(V,"title","Dimension"),_(z,"for",ge=l[0].measurementSystem),_(z,"class","text-sm"),_(O,"class","pb-3"),_(O,"title","Measurement System"),_(K,"type","button"),_(K,"class","btn variant-filled-warning h-9 w-16 shadow-md"),_(K,"title","Cancel"),_(K,"id","cancel"),_(A,"type","submit"),_(A,"class","btn variant-filled-primary h-9 w-16 shadow-md"),_(A,"title",Ae="Save Unit, "+l[0].name),_(A,"id","save"),A.disabled=l[8],_(ie,"class","py-5 text-right col-span-2"),_(t,"class","grid grid-cols-2 gap-5")},m(b,L){U(b,e,L),g(e,t),g(t,i),G(r,i,null),g(t,n),g(t,s),G(o,s,null),g(t,d),g(t,h),G(m,h,null),g(t,S),g(t,f),G(E,f,null),g(f,k),B&&B.m(f,null),g(t,v),g(t,V),G(q,V,null),g(V,X),R&&R.m(V,null),g(t,fe),g(t,O),g(O,z),g(z,Ve),g(O,Ue),G(te,O,null),g(t,Le),g(t,ie),g(ie,K),G(re,K,null),g(ie,C),g(ie,A),G(le,A,null),he=!0,Pe||(Xe=[ae(O,"mouseover",l[26]),ae(K,"mouseover",l[27]),ae(K,"click",l[28]),ae(A,"mouseover",l[29]),ae(e,"submit",qt(l[11]))],Pe=!0)},p(b,L){const F={};L[0]&4&&(F.valid=b[2].isValid("name")),L[0]&4&&(F.invalid=b[2].hasErrors("name")),L[0]&4&&(F.feedback=b[2].getErrors("name")),!a&&L[0]&1&&(a=!0,F.value=b[0].name,Ee(()=>a=!1)),r.$set(F);const ce={};L[0]&4&&(ce.valid=b[2].isValid("abbreviation")),L[0]&4&&(ce.invalid=b[2].hasErrors("abbreviation")),L[0]&4&&(ce.feedback=b[2].getErrors("abbreviation")),!u&&L[0]&1&&(u=!0,ce.value=b[0].abbreviation,Ee(()=>u=!1)),o.$set(ce);const de={};L[0]&4&&(de.valid=b[2].isValid("description")),L[0]&4&&(de.invalid=b[2].hasErrors("description")),L[0]&4&&(de.feedback=b[2].getErrors("description")),!I&&L[0]&1&&(I=!0,de.value=b[0].description,Ee(()=>I=!1)),m.$set(de);const ke={};L[0]&128&&(ke.source=b[7]),!p&&L[0]&1&&(p=!0,ke.target=b[0].datatypes,Ee(()=>p=!1)),E.$set(ke),b[0].datatypes!=null&&b[0].datatypes!=null&&b[0].datatypes.length>0?B?(B.p(b,L),L[0]&1&&w(B,1)):(B=st(b),B.c(),w(B,1),B.m(f,null)):B&&(se(),$(B,1,1,()=>{B=null}),oe());const me={};L[0]&64&&(me.source=b[6]),!ee&&L[0]&8&&(ee=!0,me.target=b[3],Ee(()=>ee=!1)),q.$set(me),b[0].dimension!=null&&b[0].dimension!=null?R?(R.p(b,L),L[0]&1&&w(R,1)):(R=ct(b),R.c(),w(R,1),R.m(V,null)):R&&(se(),$(R,1,1,()=>{R=null}),oe()),(!he||L[0]&1&&ge!==(ge=b[0].measurementSystem))&&_(z,"for",ge);const _e={};L[0]&23|L[1]&256&&(_e.$$scope={dirty:L,ctx:b}),te.$set(_e),(!he||L[0]&1&&Ae!==(Ae="Save Unit, "+b[0].name))&&_(A,"title",Ae),(!he||L[0]&256)&&(A.disabled=b[8])},i(b){he||(w(r.$$.fragment,b),w(o.$$.fragment,b),w(m.$$.fragment,b),w(E.$$.fragment,b),w(B),w(q.$$.fragment,b),w(R),w(te.$$.fragment,b),w(re.$$.fragment,b),w(le.$$.fragment,b),he=!0)},o(b){$(r.$$.fragment,b),$(o.$$.fragment,b),$(m.$$.fragment,b),$(E.$$.fragment,b),$(B),$(q.$$.fragment,b),$(R),$(te.$$.fragment,b),$(re.$$.fragment,b),$(le.$$.fragment,b),he=!1},d(b){b&&c(e),j(r),j(o),j(m),j(E),B&&B.d(),j(q),R&&R.d(),j(te),j(re),j(le),Pe=!1,je(Xe)}}}function st(l){let e,t,i,r,a=l[0].datatypes.length>1&&ot(l),n=(l[5]||l[0].datatypes.length===1)&&ut(l);return{c(){e=y("div"),a&&a.c(),t=N(),n&&n.c(),this.h()},l(s){e=D(s,"DIV",{class:!0});var o=T(e);a&&a.l(o),t=M(o),n&&n.l(o),o.forEach(c),this.h()},h(){_(e,"class","card p-2 my-1 shadow-md")},m(s,o){U(s,e,o),a&&a.m(e,null),g(e,t),n&&n.m(e,null),r=!0},p(s,o){s[0].datatypes.length>1?a?(a.p(s,o),o[0]&1&&w(a,1)):(a=ot(s),a.c(),w(a,1),a.m(e,t)):a&&(se(),$(a,1,1,()=>{a=null}),oe()),s[5]||s[0].datatypes.length===1?n?(n.p(s,o),o[0]&33&&w(n,1)):(n=ut(s),n.c(),w(n,1),n.m(e,null)):n&&(se(),$(n,1,1,()=>{n=null}),oe())},i(s){r||(w(a),w(n),s&&ue(()=>{r&&(i||(i=J(e,ne,{},!0)),i.run(1))}),r=!0)},o(s){$(a),$(n),s&&(i||(i=J(e,ne,{},!1)),i.run(0)),r=!1},d(s){s&&c(e),a&&a.d(),n&&n.d(),s&&i&&i.end()}}}function ot(l){let e,t,i="Details",r,a,n,s,o,u,d,h,m,I;const S=[mi,di],f=[];function E(p,k){return p[5]?0:1}return s=E(l),o=f[s]=S[s](l),{c(){e=y("div"),t=y("div"),t.textContent=i,r=N(),a=y("div"),n=y("div"),o.c(),this.h()},l(p){e=D(p,"DIV",{class:!0});var k=T(e);t=D(k,"DIV",{class:!0,"data-svelte-h":!0}),Ce(t)!=="svelte-18b9gzj"&&(t.textContent=i),r=M(k),a=D(k,"DIV",{class:!0});var v=T(a);n=D(v,"DIV",{class:!0,title:!0,id:!0});var V=T(n);o.l(V),V.forEach(c),v.forEach(c),k.forEach(c),this.h()},h(){_(t,"class","h4"),_(n,"class","badge variant-filled-tertiary rounded-xl shadow-md w-7 h-7"),_(n,"title","Show datatypes details"),_(n,"id","create"),_(a,"class","text-right"),_(e,"class","grid grid-cols-2 gap-5 pb-1")},m(p,k){U(p,e,k),g(e,t),g(e,r),g(e,a),g(a,n),f[s].m(n,null),h=!0,m||(I=[ae(n,"mouseover",l[21]),ae(n,"click",l[22])],m=!0)},p(p,k){let v=s;s=E(p),s!==v&&(se(),$(f[v],1,1,()=>{f[v]=null}),oe(),o=f[s],o||(o=f[s]=S[s](p),o.c()),w(o,1),o.m(n,null))},i(p){h||(w(o),p&&ue(()=>{h&&(u||(u=J(n,pe,{},!0)),u.run(1))}),p&&ue(()=>{h&&(d||(d=J(e,ne,{},!0)),d.run(1))}),h=!0)},o(p){$(o),p&&(u||(u=J(n,pe,{},!1)),u.run(0)),p&&(d||(d=J(e,ne,{},!1)),d.run(0)),h=!1},d(p){p&&c(e),f[s].d(),p&&u&&u.end(),p&&d&&d.end(),m=!1,je(I)}}}function di(l){let e,t;return e=new Ie({props:{icon:Ft}}),{c(){H(e.$$.fragment)},l(i){P(e.$$.fragment,i)},m(i,r){G(e,i,r),t=!0},i(i){t||(w(e.$$.fragment,i),t=!0)},o(i){$(e.$$.fragment,i),t=!1},d(i){j(e,i)}}}function mi(l){let e,t;return e=new Ie({props:{icon:Ht}}),{c(){H(e.$$.fragment)},l(i){P(e.$$.fragment,i)},m(i,r){G(e,i,r),t=!0},i(i){t||(w(e.$$.fragment,i),t=!0)},o(i){$(e.$$.fragment,i),t=!1},d(i){j(e,i)}}}function ut(l){let e,t,i,r='<th class="text-left px-1">Name</th> <th class="text-left px-1">System Type</th> <th class="text-left px-1">Description</th>',a,n,s,o=Se(l[0].datatypes),u=[];for(let d=0;d<o.length;d+=1)u[d]=ft(at(l,o,d));return{c(){e=y("div"),t=y("table"),i=y("tr"),i.innerHTML=r,a=N();for(let d=0;d<u.length;d+=1)u[d].c();this.h()},l(d){e=D(d,"DIV",{class:!0});var h=T(e);t=D(h,"TABLE",{class:!0});var m=T(t);i=D(m,"TR",{class:!0,"data-svelte-h":!0}),Ce(i)!=="svelte-ibuguj"&&(i.innerHTML=r),a=M(m);for(let I=0;I<u.length;I+=1)u[I].l(m);m.forEach(c),h.forEach(c),this.h()},h(){_(i,"class","bg-primary-300"),_(t,"class","table table-compact bg-tertiary-500/30"),_(e,"class","table-container my-2 w-full")},m(d,h){U(d,e,h),g(e,t),g(t,i),g(t,a);for(let m=0;m<u.length;m+=1)u[m]&&u[m].m(t,null);s=!0},p(d,h){if(h[0]&1){o=Se(d[0].datatypes);let m;for(m=0;m<o.length;m+=1){const I=at(d,o,m);u[m]?u[m].p(I,h):(u[m]=ft(I),u[m].c(),u[m].m(t,null))}for(;m<u.length;m+=1)u[m].d(1);u.length=o.length}},i(d){s||(d&&ue(()=>{s&&(n||(n=J(e,ne,{},!0)),n.run(1))}),s=!0)},o(d){d&&(n||(n=J(e,ne,{},!1)),n.run(0)),s=!1},d(d){d&&c(e),Oe(u,d),d&&n&&n.end()}}}function ft(l){let e,t,i=l[35].systemType+"",r,a,n,s=l[35].name+"",o,u,d,h=l[35].description+"",m,I;return{c(){e=y("tr"),t=y("td"),r=W(i),a=N(),n=y("td"),o=W(s),u=N(),d=y("td"),m=W(h),I=N(),this.h()},l(S){e=D(S,"TR",{});var f=T(e);t=D(f,"TD",{class:!0});var E=T(t);r=Y(E,i),E.forEach(c),a=M(f),n=D(f,"TD",{class:!0});var p=T(n);o=Y(p,s),p.forEach(c),u=M(f),d=D(f,"TD",{class:!0});var k=T(d);m=Y(k,h),k.forEach(c),I=M(f),f.forEach(c),this.h()},h(){_(t,"class","text-left px-1"),_(n,"class","text-left px-1"),_(d,"class","text-left px-1")},m(S,f){U(S,e,f),g(e,t),g(t,r),g(e,a),g(e,n),g(n,o),g(e,u),g(e,d),g(d,m),g(e,I)},p(S,f){f[0]&1&&i!==(i=S[35].systemType+"")&&x(r,i),f[0]&1&&s!==(s=S[35].name+"")&&x(o,s),f[0]&1&&h!==(h=S[35].description+"")&&x(m,h)},d(S){S&&c(e)}}}function ct(l){let e,t,i,r='<th class="text-left px-1">Name</th> <th class="text-left px-1">Specification</th> <th class="text-left px-1">Description</th>',a,n,s,o=l[0].dimension.name+"",u,d,h,m=l[0].dimension.specification+"",I,S,f,E=l[0].dimension.description+"",p,k,v;return{c(){e=y("div"),t=y("table"),i=y("tr"),i.innerHTML=r,a=N(),n=y("tr"),s=y("td"),u=W(o),d=N(),h=y("td"),I=W(m),S=N(),f=y("td"),p=W(E),this.h()},l(V){e=D(V,"DIV",{class:!0});var q=T(e);t=D(q,"TABLE",{class:!0});var ee=T(t);i=D(ee,"TR",{class:!0,"data-svelte-h":!0}),Ce(i)!=="svelte-39ino5"&&(i.innerHTML=r),a=M(ee),n=D(ee,"TR",{});var X=T(n);s=D(X,"TD",{class:!0});var fe=T(s);u=Y(fe,o),fe.forEach(c),d=M(X),h=D(X,"TD",{class:!0});var O=T(h);I=Y(O,m),O.forEach(c),S=M(X),f=D(X,"TD",{class:!0});var z=T(f);p=Y(z,E),z.forEach(c),X.forEach(c),ee.forEach(c),q.forEach(c),this.h()},h(){_(i,"class","bg-primary-300"),_(s,"class","text-left px-1"),_(h,"class","text-left px-1"),_(f,"class","text-left px-1"),_(t,"class","table table-compact bg-tertiary-500/30"),_(e,"class","card p-2 my-1 shadow-md")},m(V,q){U(V,e,q),g(e,t),g(t,i),g(t,a),g(t,n),g(n,s),g(s,u),g(n,d),g(n,h),g(h,I),g(n,S),g(n,f),g(f,p),v=!0},p(V,q){(!v||q[0]&1)&&o!==(o=V[0].dimension.name+"")&&x(u,o),(!v||q[0]&1)&&m!==(m=V[0].dimension.specification+"")&&x(I,m),(!v||q[0]&1)&&E!==(E=V[0].dimension.description+"")&&x(p,E)},i(V){v||(V&&ue(()=>{v&&(k||(k=J(e,ne,{},!0)),k.run(1))}),v=!0)},o(V){V&&(k||(k=J(e,ne,{},!1)),k.run(0)),v=!1},d(V){V&&c(e),V&&k&&k.end()}}}function pi(l){let e=l[32]+"",t;return{c(){t=W(e)},l(i){t=Y(i,e)},m(i,r){U(i,t,r)},p(i,r){r[0]&16&&e!==(e=i[32]+"")&&x(t,e)},d(i){i&&c(t)}}}function dt(l){let e,t,i;function r(n){l[24](n)}let a={name:l[32],id:l[32],value:l[32],$$slots:{default:[pi]},$$scope:{ctx:l}};return l[0].measurementSystem!==void 0&&(a.group=l[0].measurementSystem),e=new Kt({props:a}),De.push(()=>we(e,"group",r)),e.$on("change",l[25]),{c(){H(e.$$.fragment)},l(n){P(e.$$.fragment,n)},m(n,s){G(e,n,s),i=!0},p(n,s){const o={};s[0]&16&&(o.name=n[32]),s[0]&16&&(o.id=n[32]),s[0]&16&&(o.value=n[32]),s[0]&16|s[1]&256&&(o.$$scope={dirty:s,ctx:n}),!t&&s[0]&1&&(t=!0,o.group=n[0].measurementSystem,Ee(()=>t=!1)),e.$set(o)},i(n){i||(w(e.$$.fragment,n),i=!0)},o(n){$(e.$$.fragment,n),i=!1},d(n){j(e,n)}}}function hi(l){let e,t,i=Se(l[4]),r=[];for(let n=0;n<i.length;n+=1)r[n]=dt(lt(l,i,n));const a=n=>$(r[n],1,1,()=>{r[n]=null});return{c(){for(let n=0;n<r.length;n+=1)r[n].c();e=Z()},l(n){for(let s=0;s<r.length;s+=1)r[s].l(n);e=Z()},m(n,s){for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(n,s);U(n,e,s),t=!0},p(n,s){if(s[0]&23){i=Se(n[4]);let o;for(o=0;o<i.length;o+=1){const u=lt(n,i,o);r[o]?(r[o].p(u,s),w(r[o],1)):(r[o]=dt(u),r[o].c(),w(r[o],1),r[o].m(e.parentNode,e))}for(se(),o=i.length;o<r.length;o+=1)a(o);oe()}},i(n){if(!t){for(let s=0;s<i.length;s+=1)w(r[s]);t=!0}},o(n){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)$(r[s]);t=!1},d(n){n&&c(e),Oe(r,n)}}}function _i(l){let e,t='<div class="pb-3"><div class="h-9 placeholder animate-pulse"></div></div> <div class="pb-3"><div class="h-9 placeholder animate-pulse"></div></div> <div class="pb-3 col-span-2"><div class="h-14 placeholder animate-pulse"></div></div> <div class="pb-3"><div class="h-9 placeholder animate-pulse"></div></div> <div class="pb-3"><div class="h-9 placeholder animate-pulse"></div></div> <div class="pb-3 col-span-2"><div class="h-9 placeholder animate-pulse"></div></div> <div class="py-5 flex justify-end col-span-2"><div class="placeholder animate-pulse h-9 w-16"></div> <div class="placeholder animate-pulse h-9 w-16"></div></div>';return{c(){e=y("div"),e.innerHTML=t,this.h()},l(i){e=D(i,"DIV",{class:!0,"data-svelte-h":!0}),Ce(e)!=="svelte-1r7tvyg"&&(e.innerHTML=t),this.h()},h(){_(e,"class","grid grid-cols-2 gap-5")},m(i,r){U(i,e,r)},p:Q,i:Q,o:Q,d(i){i&&c(e)}}}function vi(l){let e,t,i={ctx:l,current:null,token:null,hasCatch:!0,pending:_i,then:ci,catch:fi,error:38,blocks:[,,,]};return yt(l[9](),i),{c(){e=y("div"),i.block.c(),this.h()},l(r){e=D(r,"DIV",{class:!0});var a=T(e);i.block.l(a),a.forEach(c),this.h()},h(){_(e,"class","card p-5 shadow-md my-3")},m(r,a){U(r,e,a),i.block.m(e,i.anchor=null),i.mount=()=>e,i.anchor=null,t=!0},p(r,a){l=r,Dt(i,l,a)},i(r){t||(w(i.block),t=!0)},o(r){for(let a=0;a<3;a+=1){const n=i.blocks[a];$(n)}t=!1},d(r){r&&c(e),i.block.d(),i.token=null,i=null}}}function bi(l,e,t){let i,r,a,n;const s=Mt();let o=be.get(),{unit:u}=e,{units:d}=e,h=!1,m,I,S=[],f=u===void 0||u.dimension===void 0?void 0:{id:u.dimension.id,text:u.dimension.name};kt(async()=>{p()});async function E(){t(15,I=await li()),t(14,m=await ai()),t(16,S=await si())}function p(){a!=null&&a.length>0&&(u.id==0?be.reset():setTimeout(async()=>{t(2,o=be({unit:u,units:d,measurementSystems:a},""))},10))}function k(C){setTimeout(async()=>{t(2,o=be({unit:u,units:d,measurementSystems:a},C.target.id))},10)}async function v(){let C=await oi(u),A;C.validationResult.isValid!=!0?(A="Can't save Unit",C.unitListItem.name!=""&&C.unitListItem.abbreviation!=""&&(A+=' "'+C.unitListItem.name+'" ('+C.unitListItem.abbreviation+")."),C.validationResult.validationItems!=null&&C.validationResult.validationItems.length>0&&C.validationResult.validationItems.forEach(le=>{A+="<li>"+le.message+"</li>"}),Fe.showNotification({notificationType:He.error,message:A})):(A='Unit "'+C.unitListItem.name+'" ('+C.unitListItem.abbreviation+") saved.",Fe.showNotification({notificationType:He.success,message:A}),be.reset(),s("save"))}function V(){be.reset(),s("cancel")}function q(){t(5,h=!h)}function ee(C){l.$$.not_equal(u.name,C)&&(u.name=C,t(0,u),t(3,f),t(16,S))}function X(C){l.$$.not_equal(u.abbreviation,C)&&(u.abbreviation=C,t(0,u),t(3,f),t(16,S))}function fe(C){l.$$.not_equal(u.description,C)&&(u.description=C,t(0,u),t(3,f),t(16,S))}function O(C){l.$$.not_equal(u.datatypes,C)&&(u.datatypes=C,t(0,u),t(3,f),t(16,S))}const z=()=>{Te.show("datatypesDetails")},Ve=()=>q();function ge(C){f=C,t(3,f)}function Ue(C){l.$$.not_equal(u.measurementSystem,C)&&(u.measurementSystem=C,t(0,u),t(3,f),t(16,S))}const te=()=>{setTimeout(async()=>{t(2,o=be({unit:u,units:d,measurementSystems:a},a))},10)},Le=()=>{Te.show("measurementSystem")},ie=()=>{Te.show("cancel")},K=()=>V(),re=()=>{Te.show("save")};return l.$$set=C=>{"unit"in C&&t(0,u=C.unit),"units"in C&&t(1,d=C.units)},l.$$.update=()=>{l.$$.dirty[0]&4&&t(8,i=!o.isValid()),l.$$.dirty[0]&16384&&t(7,r=m),l.$$.dirty[0]&32768&&t(4,a=I),l.$$.dirty[0]&65536&&t(6,n=S.map(({id:C,name:A})=>({id:C,text:A}))),l.$$.dirty[0]&65544&&t(0,u.dimension=f===void 0?void 0:S.find(C=>C.id===(f==null?void 0:f.id)),u),l.$$.dirty[0]&16&&p()},[u,d,o,f,a,h,n,r,i,E,k,v,V,q,m,I,S,ee,X,fe,O,z,Ve,ge,Ue,te,Le,ie,K,re]}class gi extends Me{constructor(e){super(),qe(this,e,bi,vi,Ne,{unit:0,units:1},null,[-1,-1])}}function mt(l){let e=l[0].name+"",t;return{c(){t=W(e)},l(i){t=Y(i,e)},m(i,r){U(i,t,r)},p(i,r){r&1&&e!==(e=i[0].name+"")&&x(t,e)},d(i){i&&c(t)}}}function ki(l){let e,t=l[0]!=null&&l[0].name!=null&&mt(l);return{c(){t&&t.c(),e=Z()},l(i){t&&t.l(i),e=Z()},m(i,r){t&&t.m(i,r),U(i,e,r)},p(i,[r]){i[0]!=null&&i[0].name!=null?t?t.p(i,r):(t=mt(i),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Q,o:Q,d(i){i&&c(e),t&&t.d(i)}}}function yi(l,e,t){let{value:i}=e;return l.$$set=r=>{"value"in r&&t(0,i=r.value)},[i]}class Di extends Me{constructor(e){super(),qe(this,e,yi,ki,Ne,{value:0})}}function pt(l,e,t){const i=l.slice();return i[1]=e[t],i}function ht(l){let e;function t(a,n){if(a[0].length>1)return wi;if(a[0][0]!=null&&a[0][0].name!=null)return Ei}let i=t(l),r=i&&i(l);return{c(){r&&r.c(),e=Z()},l(a){r&&r.l(a),e=Z()},m(a,n){r&&r.m(a,n),U(a,e,n)},p(a,n){i===(i=t(a))&&r?r.p(a,n):(r&&r.d(1),r=i&&i(a),r&&(r.c(),r.m(e.parentNode,e)))},d(a){a&&c(e),r&&r.d(a)}}}function Ei(l){let e=l[0][0].name+"",t;return{c(){t=W(e)},l(i){t=Y(i,e)},m(i,r){U(i,t,r)},p(i,r){r&1&&e!==(e=i[0][0].name+"")&&x(t,e)},d(i){i&&c(t)}}}function wi(l){let e,t=Se(l[0]),i=[];for(let r=0;r<t.length;r+=1)i[r]=vt(pt(l,t,r));return{c(){for(let r=0;r<i.length;r+=1)i[r].c();e=Z()},l(r){for(let a=0;a<i.length;a+=1)i[a].l(r);e=Z()},m(r,a){for(let n=0;n<i.length;n+=1)i[n]&&i[n].m(r,a);U(r,e,a)},p(r,a){if(a&1){t=Se(r[0]);let n;for(n=0;n<t.length;n+=1){const s=pt(r,t,n);i[n]?i[n].p(s,a):(i[n]=vt(s),i[n].c(),i[n].m(e.parentNode,e))}for(;n<i.length;n+=1)i[n].d(1);i.length=t.length}},d(r){r&&c(e),Oe(i,r)}}}function _t(l){let e,t=l[1].name+"",i;return{c(){e=y("li"),i=W(t)},l(r){e=D(r,"LI",{});var a=T(e);i=Y(a,t),a.forEach(c)},m(r,a){U(r,e,a),g(e,i)},p(r,a){a&1&&t!==(t=r[1].name+"")&&x(i,t)},d(r){r&&c(e)}}}function vt(l){let e,t=l[1].name!=null&&_t(l);return{c(){t&&t.c(),e=Z()},l(i){t&&t.l(i),e=Z()},m(i,r){t&&t.m(i,r),U(i,e,r)},p(i,r){i[1].name!=null?t?t.p(i,r):(t=_t(i),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(i){i&&c(e),t&&t.d(i)}}}function Ti(l){let e,t=l[0]!=null&&ht(l);return{c(){e=y("div"),t&&t.c()},l(i){e=D(i,"DIV",{});var r=T(e);t&&t.l(r),r.forEach(c)},m(i,r){U(i,e,r),t&&t.m(e,null)},p(i,[r]){i[0]!=null?t?t.p(i,r):(t=ht(i),t.c(),t.m(e,null)):t&&(t.d(1),t=null)},i:Q,o:Q,d(i){i&&c(e),t&&t.d()}}}function Ii(l,e,t){let{value:i}=e;return l.$$set=r=>{"value"in r&&t(0,i=r.value)},[i]}class Si extends Me{constructor(e){super(),qe(this,e,Ii,Ti,Ne,{value:0})}}const Ci=[{id:"create",name:"Create neẇ Unit",description:"Click here to create a new unit"},{id:"delete",name:"Delete Unit",description:"Click here to delete the unit"},{id:"edit",name:"Edit Unit",description:"Click here to edit the unit"},{id:"save",name:"Save Unit",description:"Click here to save the unit"},{id:"cancel",name:"Cancel",description:"Click here to cancel"},{id:"name",name:"Name",description:"Name of the unit. <li>Has to be unique.</li>"},{id:"description",name:"Description",description:"Description of the unit. <li>a short overview how the unit should be used.</li>"},{id:"abbreviation",name:"Abbreviation",description:"Abbreviation of the unit. <li>eg., m for meter, Kg for kg etc.</li>"},{id:"dataTypes",name:"Data Types",description:"Type of the values <li>eg. number, text, boolean etc.</li>"},{id:"dimension",name:"Dimension",description:"<li>eg. length, weight, volume etc.</li>"},{id:"measurementSystem",name:"Measurement System",description:"Is the system where the unit belongs to <li>eg. Metric, Nautical etc.</li>"}],$i={helpItems:Ci};function Vi(l){let e,t;return e=new Et({props:{error:l[15]}}),{c(){H(e.$$.fragment)},l(i){P(e.$$.fragment,i)},m(i,r){G(e,i,r),t=!0},p:Q,i(i){t||(w(e.$$.fragment,i),t=!0)},o(i){$(e.$$.fragment,i),t=!1},d(i){j(e,i)}}}function Ui(l){let e,t,i,r,a,n,s,o,u,d,h;const m=[Ni,Li],I=[];function S(p,k){return p[0].id<1?0:1}i=S(l),r=I[i]=m[i](l);let f=!l[1]&&bt(l),E=l[1]&&gt(l);return d=new Ot({props:{config:{id:"Units",data:l[3],optionsComponent:xt,columns:{id:{disableFiltering:!0,exclude:!0},datatypes:{header:"Data Types",disableFiltering:!0,instructions:{renderComponent:Si}},dimension:{disableFiltering:!0,instructions:{renderComponent:Di}},measurementSystem:{header:"Measurement System"},inUse:{disableFiltering:!0,exclude:!0}}}}}),d.$on("action",l[10]),{c(){e=y("div"),t=y("div"),r.c(),a=N(),n=y("div"),f&&f.c(),s=N(),E&&E.c(),o=N(),u=y("div"),H(d.$$.fragment),this.h()},l(p){e=D(p,"DIV",{class:!0});var k=T(e);t=D(k,"DIV",{class:!0});var v=T(t);r.l(v),v.forEach(c),a=M(k),n=D(k,"DIV",{class:!0});var V=T(n);f&&f.l(V),V.forEach(c),k.forEach(c),s=M(p),E&&E.l(p),o=M(p),u=D(p,"DIV",{class:!0});var q=T(u);P(d.$$.fragment,q),q.forEach(c),this.h()},h(){_(t,"class","h3 h-9"),_(n,"class","text-right"),_(e,"class","grid grid-cols-2 gap-5 my-4 pb-1 border-b border-primary-500"),_(u,"class","table table-compact w-full")},m(p,k){U(p,e,k),g(e,t),I[i].m(t,null),g(e,a),g(e,n),f&&f.m(n,null),U(p,s,k),E&&E.m(p,k),U(p,o,k),U(p,u,k),G(d,u,null),h=!0},p(p,k){let v=i;i=S(p),i===v?I[i].p(p,k):(se(),$(I[v],1,1,()=>{I[v]=null}),oe(),r=I[i],r?r.p(p,k):(r=I[i]=m[i](p),r.c()),w(r,1),r.m(t,null)),p[1]?f&&(se(),$(f,1,1,()=>{f=null}),oe()):f?(f.p(p,k),k&2&&w(f,1)):(f=bt(p),f.c(),w(f,1),f.m(n,null)),p[1]?E?(E.p(p,k),k&2&&w(E,1)):(E=gt(p),E.c(),w(E,1),E.m(o.parentNode,o)):E&&(se(),$(E,1,1,()=>{E=null}),oe())},i(p){h||(w(r),w(f),w(E),w(d.$$.fragment,p),h=!0)},o(p){$(r),$(f),$(E),$(d.$$.fragment,p),h=!1},d(p){p&&(c(e),c(s),c(o),c(u)),I[i].d(),f&&f.d(),E&&E.d(p),j(d)}}}function Li(l){let e,t=l[0].name+"",i,r,a,n;return{c(){e=y("span"),i=W(t)},l(s){e=D(s,"SPAN",{});var o=T(e);i=Y(o,t),o.forEach(c)},m(s,o){U(s,e,o),g(e,i),n=!0},p(s,o){(!n||o&1)&&t!==(t=s[0].name+"")&&x(i,t)},i(s){n||(s&&ue(()=>{n&&(a&&a.end(1),r=ze(e,pe,{delay:400}),r.start())}),n=!0)},o(s){r&&r.invalidate(),s&&(a=Ke(e,pe,{})),n=!1},d(s){s&&c(e),s&&a&&a.end()}}}function Ni(l){let e,t="Create neẇ Unit",i,r,a;return{c(){e=y("span"),e.textContent=t},l(n){e=D(n,"SPAN",{"data-svelte-h":!0}),Ce(e)!=="svelte-1o6wb5f"&&(e.textContent=t)},m(n,s){U(n,e,s),a=!0},p:Q,i(n){a||(n&&ue(()=>{a&&(r&&r.end(1),i=ze(e,pe,{delay:400}),i.start())}),a=!0)},o(n){i&&i.invalidate(),n&&(r=Ke(e,pe,{})),a=!1},d(n){n&&c(e),n&&r&&r.end()}}}function bt(l){let e,t,i,r,a,n;return t=new Ie({props:{icon:wt}}),{c(){e=y("button"),H(t.$$.fragment),this.h()},l(s){e=D(s,"BUTTON",{class:!0,title:!0,id:!0});var o=T(e);P(t.$$.fragment,o),o.forEach(c),this.h()},h(){_(e,"class","btn variant-filled-secondary shadow-md h-9 w-16"),_(e,"title","Create neẇ Unit"),_(e,"id","create")},m(s,o){U(s,e,o),G(t,e,null),r=!0,a||(n=[ae(e,"mouseover",l[8]),ae(e,"click",l[9])],a=!0)},p:Q,i(s){r||(w(t.$$.fragment,s),s&&ue(()=>{r&&(i||(i=J(e,pe,{},!0)),i.run(1))}),r=!0)},o(s){$(t.$$.fragment,s),s&&(i||(i=J(e,pe,{},!1)),i.run(0)),r=!1},d(s){s&&c(e),j(t),s&&i&&i.end(),a=!1,je(n)}}}function gt(l){let e,t,i,r,a;return t=new gi({props:{unit:l[0],units:l[2]}}),t.$on("cancel",l[6]),t.$on("save",l[4]),{c(){e=y("div"),H(t.$$.fragment)},l(n){e=D(n,"DIV",{});var s=T(e);P(t.$$.fragment,s),s.forEach(c)},m(n,s){U(n,e,s),G(t,e,null),a=!0},p(n,s){const o={};s&1&&(o.unit=n[0]),s&4&&(o.units=n[2]),t.$set(o)},i(n){a||(w(t.$$.fragment,n),n&&ue(()=>{a&&(r&&r.end(1),i=ze(e,ne,{}),i.start())}),a=!0)},o(n){$(t.$$.fragment,n),i&&i.invalidate(),n&&(r=Ke(e,ne,{})),a=!1},d(n){n&&c(e),j(t),n&&r&&r.end()}}}function Mi(l){let e,t,i,r,a,n,s,o,u,d;return n=new Ie({props:{icon:wt}}),u=new zt({props:{cols:7}}),{c(){e=y("div"),t=y("div"),i=N(),r=y("div"),a=y("button"),H(n.$$.fragment),s=N(),o=y("div"),H(u.$$.fragment),this.h()},l(h){e=D(h,"DIV",{class:!0});var m=T(e);t=D(m,"DIV",{class:!0}),T(t).forEach(c),i=M(m),r=D(m,"DIV",{class:!0});var I=T(r);a=D(I,"BUTTON",{class:!0});var S=T(a);P(n.$$.fragment,S),S.forEach(c),I.forEach(c),m.forEach(c),s=M(h),o=D(h,"DIV",{class:!0});var f=T(o);P(u.$$.fragment,f),f.forEach(c),this.h()},h(){_(t,"class","h-9 w-96 placeholder animate-pulse"),_(a,"class","btn placeholder animate-pulse shadow-md h-9 w-16"),_(r,"class","flex justify-end"),_(e,"class","grid w-full grid-cols-2 gap-5 my-4 pb-1 border-b border-primary-500"),_(o,"class","table-container w-full")},m(h,m){U(h,e,m),g(e,t),g(e,i),g(e,r),g(r,a),G(n,a,null),U(h,s,m),U(h,o,m),G(u,o,null),d=!0},p:Q,i(h){d||(w(n.$$.fragment,h),w(u.$$.fragment,h),d=!0)},o(h){$(n.$$.fragment,h),$(u.$$.fragment,h),d=!1},d(h){h&&(c(e),c(s),c(o)),j(n),j(u)}}}function qi(l){let e,t="Units",i,r,a,n={ctx:l,current:null,token:null,hasCatch:!0,pending:Mi,then:Ui,catch:Vi,error:15,blocks:[,,,]};return yt(l[4](),n),{c(){e=y("h1"),e.textContent=t,i=N(),r=Z(),n.block.c(),this.h()},l(s){e=D(s,"H1",{class:!0,"data-svelte-h":!0}),Ce(e)!=="svelte-rb68z1"&&(e.textContent=t),i=M(s),r=Z(),n.block.l(s),this.h()},h(){_(e,"class","h1")},m(s,o){U(s,e,o),U(s,i,o),U(s,r,o),n.block.m(s,n.anchor=o),n.mount=()=>r.parentNode,n.anchor=r,a=!0},p(s,o){l=s,Dt(n,l,o)},i(s){a||(w(n.block),a=!0)},o(s){for(let o=0;o<3;o+=1){const u=n.blocks[o];$(u)}a=!1},d(s){s&&(c(e),c(i),c(r)),n.block.d(s),n.token=null,n=null}}}function Ai(l){let e,t,i,r;return e=new Pt({props:{help:!0,title:"Manage Units",$$slots:{default:[qi]},$$scope:{ctx:l}}}),i=new At({}),{c(){H(e.$$.fragment),t=N(),H(i.$$.fragment)},l(a){P(e.$$.fragment,a),t=M(a),P(i.$$.fragment,a)},m(a,n){G(e,a,n),U(a,t,n),G(i,a,n),r=!0},p(a,[n]){const s={};n&65543&&(s.$$scope={dirty:n,ctx:a}),e.$set(s)},i(a){r||(w(e.$$.fragment,a),w(i.$$.fragment,a),r=!0)},o(a){$(e.$$.fragment,a),$(i.$$.fragment,a),r=!1},d(a){a&&c(t),j(e,a),j(i,a)}}}function Bi(l,e,t){let i;const r=jt();let a=$i.helpItems,n=[],s;const o=Gt([]);let u=!1;kt(async()=>{Te.setHelpItemList(a),t(1,u=!1)});async function d(){t(1,u=!1),t(7,n=await ri()),h()}function h(){t(0,s={id:0,name:"",description:"",abbreviation:"",dimension:void 0,datatypes:[],measurementSystem:"",inUse:!1})}function m(k){if(t(0,s={...i.find(v=>v.id===k.id)}),k.action=="edit"&&t(1,u=!0),k.action=="delete"){const v={type:"confirm",title:"Delete Unit",body:'Are you sure you wish to delete Unit "'+s.name+'" ('+s.abbreviation+")?",response:V=>{V===!0&&I(k.id)}};r.trigger(v)}}async function I(k){await ui(k)!=!0?Fe.showNotification({notificationType:He.error,message:`Can't delete Unit "`+s.name+'" ('+s.abbreviation+")."}):Fe.showNotification({notificationType:He.success,message:'Unit "'+s.name+'" ('+s.abbreviation+") deleted."}),d()}function S(){u&&h(),t(1,u=!u)}const f=()=>{Te.show("create")},E=()=>S(),p=k=>m(k.detail.type);return l.$$.update=()=>{l.$$.dirty&128&&t(2,i=n),l.$$.dirty&128&&o.set(n)},[s,u,i,o,d,m,S,n,f,E,p]}class Zi extends Me{constructor(e){super(),qe(this,e,Bi,Ai,Ne,{})}}export{Zi as component};
