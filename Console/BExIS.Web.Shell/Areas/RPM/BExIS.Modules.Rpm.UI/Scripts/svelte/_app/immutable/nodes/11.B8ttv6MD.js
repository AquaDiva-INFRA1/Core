import{s as ie,e as w,c as E,a as d,i as T,n as z,d as f,h as y,k as We,j as K,t as ce,m as ue,p as L,q as Fe,l as P,o as R,x as J,L as je,B as Qe,Q as ut,F as U,P as H,O as Xe,g as Ne,R as Gt,S as Wt,E as ft,H as Oe}from"../chunks/scheduler.BD3IPErK.js";import{a as dt,M as Qt,h as Xt,u as Jt,E as Kt}from"../chunks/ErrorMessage.C_-DmavX.js";import{S as re,i as ae,t as M,b as D,c as N,a as S,m as O,d as q,f as j,g as _e,e as he,h as mt,j as Je,k as Ke}from"../chunks/index.CufQnT-K.js";import{g as Yt}from"../chunks/stores.CsfdB5nm.js";import{A as $e,a as Se,n as Ve,b as Ce}from"../chunks/eslint4b.es.C89pjaTy.js";import{e as ve,F as Y,f as Ft,a as Nt,u as Zt,k as St,c as xt,P as en,h as Ot,d as be,s as pt}from"../chunks/Page.DNGIaKrR.js";import{M as ze,e as He,m as tn}from"../chunks/types.eQO6CGud.js";import{T as nn,a as rn}from"../chunks/TablePlaceholder.Cg2Oo5AA.js";import{m as ye,e as qt,c as Bt}from"../chunks/stores.BS-gZ-KN.js";import{y as an,p as ln,P as gt,v as _t,T as sn}from"../chunks/vest.production.DBLC5iAh.js";import{M as Ge}from"../chunks/MultiSelect.DlYEx5Wv.js";import{T as on}from"../chunks/TextArea.a3zJiS0i.js";import{C as cn}from"../chunks/ConstraintsDescription.Bs_1UwF-.js";const un=async()=>{try{const a=await $e.get("/rpm/Meaning/get");console.log("ðŸš€ ~ file: services.ts:8 ~ getMeanings ~ response.data:",a.data);const e=[];for(let n=0;n<a.data.length;n++)e.push(new ze(a.data[n]));return e}catch(a){throw console.error(a),a}},fn=async()=>{try{return(await $e.get("/rpm/Meaning/getlinks")).data}catch(a){throw console.error(a),a}},dn=async()=>{try{return(await $e.get("/rpm/Meaning/getConstraints")).data}catch(a){throw console.error(a),a}},mn=async a=>{try{return(await $e.delete("/rpm/Meaning/delete?id="+a,null)).data}catch(e){throw console.error(e),e}},pn=async a=>{try{return await $e.post("/rpm/Meaning/create",a)}catch(e){throw console.error(e),e}},gn=async a=>{try{return await $e.post("/rpm/Meaning/update",a)}catch(e){throw console.error(e),e}};function _n(a){let e,n;return{c(){e=w("input"),this.h()},l(t){e=E(t,"INPUT",{type:!0,id:!0}),this.h()},h(){d(e,"type","checkbox"),d(e,"id",n=a[1].id.toString()),e.checked=a[0],e.disabled=!0},m(t,i){T(t,e,i)},p(t,[i]){i&2&&n!==(n=t[1].id.toString())&&d(e,"id",n),i&1&&(e.checked=t[0])},i:z,o:z,d(t){t&&f(e)}}}function hn(a,e,n){let{value:t}=e,{row:i}=e;return a.$$set=l=>{"value"in l&&n(0,t=l.value),"row"in l&&n(1,i=l.row)},[t,i]}class ht extends re{constructor(e){super(),ae(this,e,hn,_n,ie,{value:0,row:1})}}function vt(a,e,n){const t=a.slice();return t[1]=e[n],t}function bt(a){let e,n=a[1].mappingRelation.text+"",t,i,l=a[1].mappedLinks.map(kt).join(",")+"",r;return{c(){e=w("li"),t=ce(n),i=ce(" | "),r=ce(l)},l(s){e=E(s,"LI",{});var o=y(e);t=ue(o,n),i=ue(o," | "),r=ue(o,l),o.forEach(f)},m(s,o){T(s,e,o),L(e,t),L(e,i),L(e,r)},p(s,o){o&1&&n!==(n=s[1].mappingRelation.text+"")&&Fe(t,n),o&1&&l!==(l=s[1].mappedLinks.map(kt).join(",")+"")&&Fe(r,l)},d(s){s&&f(e)}}}function $t(a){let e,n=a[1]!=null&&a[1].mappingRelation!=null&&bt(a);return{c(){n&&n.c(),e=K()},l(t){n&&n.l(t),e=K()},m(t,i){n&&n.m(t,i),T(t,e,i)},p(t,i){t[1]!=null&&t[1].mappingRelation!=null?n?n.p(t,i):(n=bt(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){t&&f(e),n&&n.d(t)}}}function vn(a){let e,n=ve(a[0]),t=[];for(let i=0;i<n.length;i+=1)t[i]=$t(vt(a,n,i));return{c(){e=w("div");for(let i=0;i<t.length;i+=1)t[i].c()},l(i){e=E(i,"DIV",{});var l=y(e);for(let r=0;r<t.length;r+=1)t[r].l(l);l.forEach(f)},m(i,l){T(i,e,l);for(let r=0;r<t.length;r+=1)t[r]&&t[r].m(e,null)},p(i,[l]){if(l&1){n=ve(i[0]);let r;for(r=0;r<n.length;r+=1){const s=vt(i,n,r);t[r]?t[r].p(s,l):(t[r]=$t(s),t[r].c(),t[r].m(e,null))}for(;r<t.length;r+=1)t[r].d(1);t.length=n.length}},i:z,o:z,d(i){i&&f(e),We(t,i)}}}const kt=a=>a.text;function bn(a,e,n){let{value:t}=e;return a.$$set=i=>{"value"in i&&n(0,t=i.value)},[t]}class $n extends re{constructor(e){super(),ae(this,e,bn,vn,ie,{value:0})}}function wt(a,e,n){const t=a.slice();return t[1]=e[n],t}function Et(a){let e=a[1].name+"",n;return{c(){n=ce(e)},l(t){n=ue(t,e)},m(t,i){T(t,n,i)},p(t,i){i&1&&e!==(e=t[1].name+"")&&Fe(n,e)},d(t){t&&f(n)}}}function yt(a){let e,n=a[1]!=null&&a[1].name!=null&&Et(a);return{c(){n&&n.c(),e=K()},l(t){n&&n.l(t),e=K()},m(t,i){n&&n.m(t,i),T(t,e,i)},p(t,i){t[1]!=null&&t[1].name!=null?n?n.p(t,i):(n=Et(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){t&&f(e),n&&n.d(t)}}}function kn(a){let e,n=ve(a[0]),t=[];for(let i=0;i<n.length;i+=1)t[i]=yt(wt(a,n,i));return{c(){for(let i=0;i<t.length;i+=1)t[i].c();e=K()},l(i){for(let l=0;l<t.length;l+=1)t[l].l(i);e=K()},m(i,l){for(let r=0;r<t.length;r+=1)t[r]&&t[r].m(i,l);T(i,e,l)},p(i,[l]){if(l&1){n=ve(i[0]);let r;for(r=0;r<n.length;r+=1){const s=wt(i,n,r);t[r]?t[r].p(s,l):(t[r]=yt(s),t[r].c(),t[r].m(e.parentNode,e))}for(;r<t.length;r+=1)t[r].d(1);t.length=n.length}},i:z,o:z,d(i){i&&f(e),We(t,i)}}}function wn(a,e,n){let{value:t}=e;return a.$$set=i=>{"value"in i&&n(0,t=i.value)},[t]}class En extends re{constructor(e){super(),ae(this,e,wn,kn,ie,{value:0})}}function yn(a){let e,n,t,i,l,r,s,o,u,p;return n=new Y({props:{icon:Ft}}),s=new Y({props:{icon:Nt}}),{c(){e=w("button"),N(n.$$.fragment),l=P(),r=w("button"),N(s.$$.fragment),this.h()},l(m){e=E(m,"BUTTON",{type:!0,class:!0,title:!0,id:!0});var h=y(e);S(n.$$.fragment,h),h.forEach(f),l=R(m),r=E(m,"BUTTON",{type:!0,class:!0,title:!0,id:!0});var c=y(r);S(s.$$.fragment,c),c.forEach(f),this.h()},h(){d(e,"type","button"),d(e,"class","chip variant-filled-primary shadow-md"),d(e,"title",t="Edit Meaning, "+a[0].name),d(e,"id",i="edit-"+a[0].id),e.disabled=!0,d(r,"type","button"),d(r,"class","chip variant-filled-error shadow-md"),d(r,"title",o="Delete Meaning, "+a[0].name),d(r,"id",u="delete-"+a[0].id),r.disabled=!0},m(m,h){T(m,e,h),O(n,e,null),T(m,l,h),T(m,r,h),O(s,r,null),p=!0},p(m,h){(!p||h&1&&t!==(t="Edit Meaning, "+m[0].name))&&d(e,"title",t),(!p||h&1&&i!==(i="edit-"+m[0].id))&&d(e,"id",i),(!p||h&1&&o!==(o="Delete Meaning, "+m[0].name))&&d(r,"title",o),(!p||h&1&&u!==(u="delete-"+m[0].id))&&d(r,"id",u)},i(m){p||(M(n.$$.fragment,m),M(s.$$.fragment,m),p=!0)},o(m){D(n.$$.fragment,m),D(s.$$.fragment,m),p=!1},d(m){m&&(f(e),f(l),f(r)),q(n),q(s)}}}function Mn(a){let e,n,t,i,l,r,s,o,u,p,m,h;return n=new Y({props:{icon:Ft}}),s=new Y({props:{icon:Nt}}),{c(){e=w("button"),N(n.$$.fragment),l=P(),r=w("button"),N(s.$$.fragment),this.h()},l(c){e=E(c,"BUTTON",{type:!0,class:!0,title:!0,id:!0});var g=y(e);S(n.$$.fragment,g),g.forEach(f),l=R(c),r=E(c,"BUTTON",{type:!0,class:!0,title:!0,id:!0});var $=y(r);S(s.$$.fragment,$),$.forEach(f),this.h()},h(){d(e,"type","button"),d(e,"class","chip variant-filled-primary shadow-md"),d(e,"title",t="Edit Meaning, "+a[0].name),d(e,"id",i="edit-"+a[0].Id),d(r,"type","button"),d(r,"class","chip variant-filled-error shadow-md"),d(r,"title",o="Delete Meaning, "+a[0].Name),d(r,"id",u="delete-"+a[0].Id)},m(c,g){T(c,e,g),O(n,e,null),T(c,l,g),T(c,r,g),O(s,r,null),p=!0,m||(h=[J(e,"mouseover",a[2]),J(e,"click",je(a[3])),J(r,"mouseover",a[4]),J(r,"click",je(a[5]))],m=!0)},p(c,g){(!p||g&1&&t!==(t="Edit Meaning, "+c[0].name))&&d(e,"title",t),(!p||g&1&&i!==(i="edit-"+c[0].Id))&&d(e,"id",i),(!p||g&1&&o!==(o="Delete Meaning, "+c[0].Name))&&d(r,"title",o),(!p||g&1&&u!==(u="delete-"+c[0].Id))&&d(r,"id",u)},i(c){p||(M(n.$$.fragment,c),M(s.$$.fragment,c),p=!0)},o(c){D(n.$$.fragment,c),D(s.$$.fragment,c),p=!1},d(c){c&&(f(e),f(l),f(r)),q(n),q(s),m=!1,Qe(h)}}}function Ln(a){let e,n,t,i,l;const r=[Mn,yn],s=[];function o(u,p){return 0}return t=o(),i=s[t]=r[t](a),{c(){e=w("tableOption"),n=w("div"),i.c(),this.h()},l(u){e=E(u,"TABLEOPTION",{});var p=y(e);n=E(p,"DIV",{class:!0});var m=y(n);i.l(m),m.forEach(f),p.forEach(f),this.h()},h(){d(n,"class","w-18")},m(u,p){T(u,e,p),L(e,n),s[t].m(n,null),l=!0},p(u,[p]){i.p(u,p)},i(u){l||(M(i),l=!0)},o(u){D(i),l=!1},d(u){u&&f(e),s[t].d()}}}function Tn(a,e,n){let{row:t}=e,{dispatchFn:i}=e;const l=()=>{Se.show("edit")},r=()=>i({type:{action:"edit",id:t.id}}),s=()=>{Se.show("delete")},o=()=>i({type:{action:"delete",id:t.id}});return a.$$set=u=>{"row"in u&&n(0,t=u.row),"dispatchFn"in u&&n(1,i=u.dispatchFn)},[t,i,l,r,s,o]}class In extends re{constructor(e){super(),ae(this,e,Tn,Ln,ie,{row:0,dispatchFn:1})}}const Ee=an((a={},e)=>{ln(e),gt("name","name is required",()=>{_t(a.name).isNotBlank()}),gt("name","name allready exist",()=>{const n=a.id>0?ut(ye).find(i=>i.id==a.id):{id:0,name:""},t=ut(ye).map(i=>i.name!=(n==null?void 0:n.name)?i.name:"");_t(a.name).notInside(t)})}),Dn=[{id:"create",name:"Create neáº‡ Meaning",description:"Click here to ceate a new Meaning"},{id:"delete",name:"Delete Meaning",description:"Click here to detete the Meaning"},{id:"edit",name:"Edit Meaning",description:"Click here to edit the Meaning"},{id:"save",name:"Save Meaning",description:"Click here to save the Meaning"},{id:"cancel",name:"Cancel",description:"Click here to cancel"},{id:"name",name:"Name",description:"Name of the Meaning. <li>Has to be unique.</li>"},{id:"description",name:"Description",description:"Description of th Meaning. <li>a short overview how the Meaning shold be used.</li>"}];function Vn(a){let e,n,t,i,l,r,s,o,u,p;function m(v){a[4](v)}let h={id:"relation",itemId:"id",itemLabel:"text",itemGroup:"group",source:a[2],complexSource:!0,complexTarget:!0,isMulti:!1,clearable:!0};a[0].mappingRelation!==void 0&&(h.target=a[0].mappingRelation),t=new Ge({props:h}),U.push(()=>j(t,"target",m)),t.$on("change",a[5]);function c(v){a[6](v)}function g(v){a[7](v)}let $={id:"others",itemId:"id",itemLabel:"text",itemGroup:"group",complexSource:!0,complexTarget:!0,isMulti:!0,clearable:!0,placeholder:"-- Please select --"};return a[1]!==void 0&&($.source=a[1]),a[0].mappedLinks!==void 0&&($.target=a[0].mappedLinks),s=new Ge({props:$}),U.push(()=>j(s,"source",c)),U.push(()=>j(s,"target",g)),s.$on("change",a[8]),{c(){e=w("div"),n=w("div"),N(t.$$.fragment),l=P(),r=w("div"),N(s.$$.fragment),this.h()},l(v){e=E(v,"DIV",{class:!0});var k=y(e);n=E(k,"DIV",{class:!0});var I=y(n);S(t.$$.fragment,I),I.forEach(f),l=R(k),r=E(k,"DIV",{class:!0});var B=y(r);S(s.$$.fragment,B),B.forEach(f),k.forEach(f),this.h()},h(){d(n,"class","w-1/4"),d(r,"class","grow"),d(e,"class","flex gap-2 items-center")},m(v,k){T(v,e,k),L(e,n),O(t,n,null),L(e,l),L(e,r),O(s,r,null),p=!0},p(v,[k]){const I={};k&4&&(I.source=v[2]),!i&&k&1&&(i=!0,I.target=v[0].mappingRelation,H(()=>i=!1)),t.$set(I);const B={};!o&&k&2&&(o=!0,B.source=v[1],H(()=>o=!1)),!u&&k&1&&(u=!0,B.target=v[0].mappedLinks,H(()=>u=!1)),s.$set(B)},i(v){p||(M(t.$$.fragment,v),M(s.$$.fragment,v),p=!0)},o(v){D(t.$$.fragment,v),D(s.$$.fragment,v),p=!1},d(v){v&&f(e),q(t),q(s)}}}function Cn(a,e,n){let{entry:t}=e,{releationList:i=[]}=e,{othersList:l=[]}=e;function r(){console.log(t)}function s(h){a.$$.not_equal(t.mappingRelation,h)&&(t.mappingRelation=h,n(0,t))}const o=h=>r();function u(h){l=h,n(1,l)}function p(h){a.$$.not_equal(t.mappedLinks,h)&&(t.mappedLinks=h,n(0,t))}const m=h=>r();return a.$$set=h=>{"entry"in h&&n(0,t=h.entry),"releationList"in h&&n(2,i=h.releationList),"othersList"in h&&n(1,l=h.othersList)},[t,l,i,r,s,o,u,p,m]}class Fn extends re{constructor(e){super(),ae(this,e,Cn,Vn,ie,{entry:0,releationList:2,othersList:1})}}function Mt(a,e,n){const t=a.slice();return t[10]=e[n],t[11]=e,t[12]=n,t}function Nn(a){let e,n=`to give the meaning a context you need at least one relation link and one another external
			link type`,t,i,l="go here";return{c(){e=w("b"),e.textContent=n,t=P(),i=w("a"),i.textContent=l,this.h()},l(r){e=E(r,"B",{"data-svelte-h":!0}),Ne(e)!=="svelte-5opn9k"&&(e.textContent=n),t=R(r),i=E(r,"A",{href:!0,"data-svelte-h":!0}),Ne(i)!=="svelte-n8vorw"&&(i.textContent=l),this.h()},h(){d(i,"href","/rpm/externallink")},m(r,s){T(r,e,s),T(r,t,s),T(r,i,s)},p:z,i:z,o:z,d(r){r&&(f(e),f(t),f(i))}}}function Sn(a){let e,n='<div class="w-12"></div> <div class="w-1/4 h3">Relation</div> <div class="grow h3">Objects</div>',t,i,l,r,s,o,u,p,m,h,c=a[0]&&Lt(a);return u=new Y({props:{icon:Zt}}),{c(){e=w("div"),e.innerHTML=n,t=P(),i=w("hr"),l=P(),c&&c.c(),r=P(),s=w("div"),o=w("button"),N(u.$$.fragment),this.h()},l(g){e=E(g,"DIV",{class:!0,"data-svelte-h":!0}),Ne(e)!=="svelte-1ikwz5p"&&(e.innerHTML=n),t=R(g),i=E(g,"HR",{}),l=R(g),c&&c.l(g),r=R(g),s=E(g,"DIV",{class:!0});var $=y(s);o=E($,"BUTTON",{type:!0,class:!0});var v=y(o);S(u.$$.fragment,v),v.forEach(f),$.forEach(f),this.h()},h(){d(e,"class","flex"),d(o,"type","button"),d(o,"class","chip variant-filled-primary"),d(s,"class","inline-block align-bottom")},m(g,$){T(g,e,$),T(g,t,$),T(g,i,$),T(g,l,$),c&&c.m(g,$),T(g,r,$),T(g,s,$),L(s,o),O(u,o,null),p=!0,m||(h=J(o,"click",a[3]),m=!0)},p(g,$){g[0]?c?(c.p(g,$),$&1&&M(c,1)):(c=Lt(g),c.c(),M(c,1),c.m(r.parentNode,r)):c&&(_e(),D(c,1,1,()=>{c=null}),he())},i(g){p||(M(c),M(u.$$.fragment,g),p=!0)},o(g){D(c),D(u.$$.fragment,g),p=!1},d(g){g&&(f(e),f(t),f(i),f(l),f(r),f(s)),c&&c.d(g),q(u),m=!1,h()}}}function Lt(a){let e,n,t=ve(a[0]),i=[];for(let r=0;r<t.length;r+=1)i[r]=Tt(Mt(a,t,r));const l=r=>D(i[r],1,1,()=>{i[r]=null});return{c(){for(let r=0;r<i.length;r+=1)i[r].c();e=K()},l(r){for(let s=0;s<i.length;s+=1)i[s].l(r);e=K()},m(r,s){for(let o=0;o<i.length;o+=1)i[o]&&i[o].m(r,s);T(r,e,s),n=!0},p(r,s){if(s&23){t=ve(r[0]);let o;for(o=0;o<t.length;o+=1){const u=Mt(r,t,o);i[o]?(i[o].p(u,s),M(i[o],1)):(i[o]=Tt(u),i[o].c(),M(i[o],1),i[o].m(e.parentNode,e))}for(_e(),o=t.length;o<i.length;o+=1)l(o);he()}},i(r){if(!n){for(let s=0;s<t.length;s+=1)M(i[s]);n=!0}},o(r){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)D(i[s]);n=!1},d(r){r&&f(e),We(i,r)}}}function Tt(a){let e,n,t,i,l,r,s,o,u,p,m,h,c,g;i=new Y({props:{icon:St}});function $(){return a[5](a[12])}function v(V){a[6](V,a[10],a[11],a[12])}function k(V){a[7](V)}function I(V){a[8](V)}let B={};return a[10]!==void 0&&(B.entry=a[10]),a[2]!==void 0&&(B.othersList=a[2]),a[1]!==void 0&&(B.releationList=a[1]),s=new Fn({props:B}),U.push(()=>j(s,"entry",v)),U.push(()=>j(s,"othersList",k)),U.push(()=>j(s,"releationList",I)),{c(){e=w("div"),n=w("div"),t=w("button"),N(i.$$.fragment),l=P(),r=w("div"),N(s.$$.fragment),m=P(),this.h()},l(V){e=E(V,"DIV",{class:!0});var _=y(e);n=E(_,"DIV",{class:!0});var C=y(n);t=E(C,"BUTTON",{type:!0,class:!0});var ee=y(t);S(i.$$.fragment,ee),ee.forEach(f),C.forEach(f),l=R(_),r=E(_,"DIV",{class:!0});var fe=y(r);S(s.$$.fragment,fe),fe.forEach(f),m=R(_),_.forEach(f),this.h()},h(){d(t,"type","button"),d(t,"class","chip variant-filled-error"),d(n,"class","w-12 inline-block align-bottom"),d(r,"class","grow"),d(e,"class","flex items-center")},m(V,_){T(V,e,_),L(e,n),L(n,t),O(i,t,null),L(e,l),L(e,r),O(s,r,null),L(e,m),h=!0,c||(g=J(t,"click",$),c=!0)},p(V,_){a=V;const C={};!o&&_&1&&(o=!0,C.entry=a[10],H(()=>o=!1)),!u&&_&4&&(u=!0,C.othersList=a[2],H(()=>u=!1)),!p&&_&2&&(p=!0,C.releationList=a[1],H(()=>p=!1)),s.$set(C)},i(V){h||(M(i.$$.fragment,V),M(s.$$.fragment,V),h=!0)},o(V){D(i.$$.fragment,V),D(s.$$.fragment,V),h=!1},d(V){V&&f(e),q(i),q(s),c=!1,g()}}}function On(a){let e,n,t,i;const l=[Sn,Nn],r=[];function s(o,u){return o[1].length>0&&o[2].length>0?0:1}return n=s(a),t=r[n]=l[n](a),{c(){e=w("div"),t.c(),this.h()},l(o){e=E(o,"DIV",{class:!0});var u=y(e);t.l(u),u.forEach(f),this.h()},h(){d(e,"class","card p-5 space-y-3")},m(o,u){T(o,e,u),r[n].m(e,null),i=!0},p(o,[u]){let p=n;n=s(o),n===p?r[n].p(o,u):(_e(),D(r[p],1,1,()=>{r[p]=null}),he(),t=r[n],t?t.p(o,u):(t=r[n]=l[n](o),t.c()),M(t,1),t.m(e,null))},i(o){i||(M(t),i=!0)},o(o){D(t),i=!1},d(o){o&&f(e),r[n].d()}}}function qn(a,e,n){let t;Xe(a,qt,c=>n(9,t=c));let{entries:i}=e,l=t.filter(c=>{var g;return((g=c.type)==null?void 0:g.id)==He.relationship}).map(c=>({id:c.id,text:c.name,group:"",description:""}));console.log("ðŸš€ ~ file: MeaningEntry.svelte:10 ~ releationList:",l);let r=t.filter(c=>{var g,$;return((g=c.type)==null?void 0:g.id)!=He.relationship&&(($=c.type)==null?void 0:$.id)!=He.prefix}).map(c=>{var g;return{id:c.id,text:c.name,group:(g=c.type)==null?void 0:g.text,description:""}});console.log("ðŸš€ ~ file: MeaningEntry.svelte:12 ~ othersList:",r);function s(){n(0,i=[...i,new tn])}function o(c){n(0,i=i.filter(g=>g!=i[c]))}const u=c=>o(c);function p(c,g,$,v){$[v]=c,n(0,i)}function m(c){r=c,n(2,r)}function h(c){l=c,n(1,l)}return a.$$set=c=>{"entries"in c&&n(0,i=c.entries)},a.$$.update=()=>{a.$$.dirty&1},[i,l,r,s,o,u,p,m,h]}class Bn extends re{constructor(e){super(),ae(this,e,qn,On,ie,{entries:0})}}function Pn(a){let e;return{c(){e=ce("Approved")},l(n){e=ue(n,"Approved")},m(n,t){T(n,e,t)},d(n){n&&f(e)}}}function Rn(a){let e;return{c(){e=ce("Selectable")},l(n){e=ue(n,"Selectable")},m(n,t){T(n,e,t)},d(n){n&&f(e)}}}function An(a){let e,n,t,i,l,r,s,o,u,p,m,h,c,g,$,v,k,I,B,V,_,C,ee,fe,te,de,Z,qe,Be,me,x,Pe,Re,ne,W,le,Ae,G,se,Me,Le,Te,oe,Ue,Ye;function Pt(b){a[7](b)}let Ze={id:"name",label:"Name",valid:a[1].isValid("name"),invalid:a[1].hasErrors("name"),feedback:a[1].getErrors("name"),required:!0,help:It};a[0].name!==void 0&&(Ze.value=a[0].name),l=new sn({props:Ze}),U.push(()=>j(l,"value",Pt)),l.$on("input",a[4]);function Rt(b){a[8](b)}let xe={id:"description",label:"Description",valid:a[1].isValid("description"),invalid:a[1].hasErrors("description"),feedback:a[1].getErrors("description"),help:It,required:!1};a[0].description!==void 0&&(xe.value=a[0].description),u=new on({props:xe}),U.push(()=>j(u,"value",Rt)),u.$on("input",a[4]);function At(b){a[9](b)}let et={};a[0].externalLinks!==void 0&&(et.entries=a[0].externalLinks),c=new Bn({props:et}),U.push(()=>j(c,"entries",At));function Ut(b){a[10](b)}let tt={active:"bg-secondary-500",size:"sm",id:"approved",name:"Approved",$$slots:{default:[Pn]},$$scope:{ctx:a}};a[0].approved!==void 0&&(tt.checked=a[0].approved),I=new dt({props:tt}),U.push(()=>j(I,"checked",Ut)),I.$on("change",a[11]);function Ht(b){a[12](b)}let nt={active:"bg-secondary-500",size:"sm",id:"selectable",name:"Selectable",$$slots:{default:[Rn]},$$scope:{ctx:a}};a[0].selectable!==void 0&&(nt.checked=a[0].selectable),C=new dt({props:nt}),U.push(()=>j(C,"checked",Ht)),C.$on("change",a[13]);function jt(b){a[14](b)}let it={id:"constraints",title:"Constraints",source:a[3],itemId:"id",itemLabel:"text",itemGroup:"group",complexSource:!0,complexTarget:!0,isMulti:!0,clearable:!0,placeholder:"-- Please select --",invalid:a[1].hasErrors("constraints"),feedback:a[1].getErrors("constraints")};a[0].constraints!==void 0&&(it.target=a[0].constraints),Z=new Ge({props:it}),U.push(()=>j(Z,"target",jt));function zt(b){a[15](b)}let rt={};return a[0].constraints!==void 0&&(rt.list=a[0].constraints),x=new cn({props:rt}),U.push(()=>j(x,"list",zt)),le=new Y({props:{icon:St}}),se=new Y({props:{icon:xt}}),{c(){e=w("form"),n=w("div"),t=w("div"),i=w("div"),N(l.$$.fragment),s=P(),o=w("div"),N(u.$$.fragment),m=P(),h=w("div"),N(c.$$.fragment),$=P(),v=w("div"),k=w("div"),N(I.$$.fragment),V=P(),_=w("div"),N(C.$$.fragment),fe=P(),te=w("div"),de=w("div"),N(Z.$$.fragment),Be=P(),me=w("div"),N(x.$$.fragment),Re=P(),ne=w("div"),W=w("button"),N(le.$$.fragment),Ae=P(),G=w("button"),N(se.$$.fragment),this.h()},l(b){e=E(b,"FORM",{});var F=y(e);n=E(F,"DIV",{id:!0,class:!0});var A=y(n);t=E(A,"DIV",{class:!0});var Q=y(t);i=E(Q,"DIV",{class:!0});var ke=y(i);S(l.$$.fragment,ke),ke.forEach(f),s=R(Q),o=E(Q,"DIV",{class:!0});var pe=y(o);S(u.$$.fragment,pe),pe.forEach(f),Q.forEach(f),m=R(A),h=E(A,"DIV",{class:!0});var ge=y(h);S(c.$$.fragment,ge),ge.forEach(f),$=R(A),v=E(A,"DIV",{class:!0});var X=y(v);k=E(X,"DIV",{});var we=y(k);S(I.$$.fragment,we),we.forEach(f),V=R(X),_=E(X,"DIV",{});var at=y(_);S(C.$$.fragment,at),at.forEach(f),X.forEach(f),fe=R(A),te=E(A,"DIV",{class:!0});var Ie=y(te);de=E(Ie,"DIV",{class:!0});var lt=y(de);S(Z.$$.fragment,lt),lt.forEach(f),Be=R(Ie),me=E(Ie,"DIV",{class:!0});var st=y(me);S(x.$$.fragment,st),st.forEach(f),Ie.forEach(f),Re=R(A),ne=E(A,"DIV",{class:!0});var De=y(ne);W=E(De,"BUTTON",{type:!0,class:!0,title:!0,id:!0});var ot=y(W);S(le.$$.fragment,ot),ot.forEach(f),Ae=R(De),G=E(De,"BUTTON",{type:!0,class:!0,title:!0,id:!0});var ct=y(G);S(se.$$.fragment,ct),ct.forEach(f),De.forEach(f),A.forEach(f),F.forEach(f),this.h()},h(){d(i,"class","grow"),d(o,"class","grow"),d(t,"class","flex gap-5"),d(h,"class","py-5"),d(v,"class","flex gap-3 items-center"),d(de,"class","w-1/2"),d(me,"class","w-1/2"),d(te,"class","flex gap-5 items-center"),d(W,"type","button"),d(W,"class","btn variant-filled-warning h-9 w-16 shadow-md"),d(W,"title","Cancel"),d(W,"id","cancel"),d(G,"type","submit"),d(G,"class","btn variant-filled-primary h-9 w-16 shadow-md"),d(G,"title",Me="Save Meaning Template, "+a[0].name),d(G,"id","save"),G.disabled=Le=!a[2]||!Dt,d(ne,"class","py-5 text-right col-span-2"),d(n,"id",Te="meaning-"+a[0].id+"-form"),d(n,"class","flex-col space-y-5 card shadow-md p-5")},m(b,F){T(b,e,F),L(e,n),L(n,t),L(t,i),O(l,i,null),L(t,s),L(t,o),O(u,o,null),L(n,m),L(n,h),O(c,h,null),L(n,$),L(n,v),L(v,k),O(I,k,null),L(v,V),L(v,_),O(C,_,null),L(n,fe),L(n,te),L(te,de),O(Z,de,null),L(te,Be),L(te,me),O(x,me,null),L(n,Re),L(n,ne),L(ne,W),O(le,W,null),L(ne,Ae),L(ne,G),O(se,G,null),oe=!0,Ue||(Ye=[J(W,"click",a[16]),J(e,"submit",je(a[6]))],Ue=!0)},p(b,[F]){const A={};F&2&&(A.valid=b[1].isValid("name")),F&2&&(A.invalid=b[1].hasErrors("name")),F&2&&(A.feedback=b[1].getErrors("name")),!r&&F&1&&(r=!0,A.value=b[0].name,H(()=>r=!1)),l.$set(A);const Q={};F&2&&(Q.valid=b[1].isValid("description")),F&2&&(Q.invalid=b[1].hasErrors("description")),F&2&&(Q.feedback=b[1].getErrors("description")),!p&&F&1&&(p=!0,Q.value=b[0].description,H(()=>p=!1)),u.$set(Q);const ke={};!g&&F&1&&(g=!0,ke.entries=b[0].externalLinks,H(()=>g=!1)),c.$set(ke);const pe={};F&524288&&(pe.$$scope={dirty:F,ctx:b}),!B&&F&1&&(B=!0,pe.checked=b[0].approved,H(()=>B=!1)),I.$set(pe);const ge={};F&524288&&(ge.$$scope={dirty:F,ctx:b}),!ee&&F&1&&(ee=!0,ge.checked=b[0].selectable,H(()=>ee=!1)),C.$set(ge);const X={};F&8&&(X.source=b[3]),F&2&&(X.invalid=b[1].hasErrors("constraints")),F&2&&(X.feedback=b[1].getErrors("constraints")),!qe&&F&1&&(qe=!0,X.target=b[0].constraints,H(()=>qe=!1)),Z.$set(X);const we={};!Pe&&F&1&&(Pe=!0,we.list=b[0].constraints,H(()=>Pe=!1)),x.$set(we),(!oe||F&1&&Me!==(Me="Save Meaning Template, "+b[0].name))&&d(G,"title",Me),(!oe||F&4&&Le!==(Le=!b[2]||!Dt))&&(G.disabled=Le),(!oe||F&1&&Te!==(Te="meaning-"+b[0].id+"-form"))&&d(n,"id",Te)},i(b){oe||(M(l.$$.fragment,b),M(u.$$.fragment,b),M(c.$$.fragment,b),M(I.$$.fragment,b),M(C.$$.fragment,b),M(Z.$$.fragment,b),M(x.$$.fragment,b),M(le.$$.fragment,b),M(se.$$.fragment,b),oe=!0)},o(b){D(l.$$.fragment,b),D(u.$$.fragment,b),D(c.$$.fragment,b),D(I.$$.fragment,b),D(C.$$.fragment,b),D(Z.$$.fragment,b),D(x.$$.fragment,b),D(le.$$.fragment,b),D(se.$$.fragment,b),oe=!1},d(b){b&&f(e),q(l),q(u),q(c),q(I),q(C),q(Z),q(x),q(le),q(se),Ue=!1,Qe(Ye)}}}let It=!0,Dt=!0;function Un(a,e,n){let t,i;Xe(a,Bt,_=>n(3,i=_));let{meaning:l}=e,r=Ee.get();const s=Gt();Wt(()=>{Se.setHelpItemList(Dn),console.log("meaning",l),Ee.reset(),setTimeout(async()=>{l.id>0&&n(1,r=Ee(l,""))},10)});function o(_){setTimeout(async()=>{n(1,r=Ee(l,_.target.id))},100)}function u(){Ee.reset(),s("cancel")}async function p(){console.log("ðŸš€ ~ file: Meaning.svelte:77 ~ submit ~ meaning:",l);var _=await(l.id==0)?pn(l):gn(l);console.log("ðŸš€ ~ file: Meaning.svelte:67 ~ submit ~ res:",r),(await _).status===200?s("success"):s("fail")}function m(_){a.$$.not_equal(l.name,_)&&(l.name=_,n(0,l))}function h(_){a.$$.not_equal(l.description,_)&&(l.description=_,n(0,l))}function c(_){a.$$.not_equal(l.externalLinks,_)&&(l.externalLinks=_,n(0,l))}function g(_){a.$$.not_equal(l.approved,_)&&(l.approved=_,n(0,l))}function $(_){ft.call(this,a,_)}function v(_){a.$$.not_equal(l.selectable,_)&&(l.selectable=_,n(0,l))}function k(_){ft.call(this,a,_)}function I(_){a.$$.not_equal(l.constraints,_)&&(l.constraints=_,n(0,l))}function B(_){a.$$.not_equal(l.constraints,_)&&(l.constraints=_,n(0,l))}const V=()=>u();return a.$$set=_=>{"meaning"in _&&n(0,l=_.meaning)},a.$$.update=()=>{a.$$.dirty&1,a.$$.dirty&2&&n(2,t=r.isValid())},[l,r,t,i,o,u,p,m,h,c,g,$,v,k,I,B,V]}class Hn extends re{constructor(e){super(),ae(this,e,Un,An,ie,{meaning:0})}}function jn(a){let e,n;return e=new Kt({props:{error:a[18]}}),{c(){N(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,i){O(e,t,i),n=!0},p:z,i(t){n||(M(e.$$.fragment,t),n=!0)},o(t){D(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function zn(a){let e,n,t,i,l,r,s,o,u,p,m;const h=[Wn,Gn],c=[];function g(k,I){return k[0].id<1?0:1}t=g(a),i=c[t]=h[t](a);let $=!a[1]&&Vt(a),v=a[1]&&Ct(a);return p=new nn({props:{config:a[3]}}),p.$on("action",a[13]),{c(){e=w("div"),n=w("div"),i.c(),l=P(),r=w("div"),$&&$.c(),s=P(),v&&v.c(),o=P(),u=w("div"),N(p.$$.fragment),this.h()},l(k){e=E(k,"DIV",{class:!0});var I=y(e);n=E(I,"DIV",{class:!0});var B=y(n);i.l(B),B.forEach(f),l=R(I),r=E(I,"DIV",{class:!0});var V=y(r);$&&$.l(V),V.forEach(f),I.forEach(f),s=R(k),v&&v.l(k),o=R(k),u=E(k,"DIV",{class:!0});var _=y(u);S(p.$$.fragment,_),_.forEach(f),this.h()},h(){d(n,"class","h3 h-9"),d(r,"class","text-right"),d(e,"class","grid grid-cols-2 gap-5 my-4 pb-1 border-b border-primary-500"),d(u,"class","table table-compact w-full")},m(k,I){T(k,e,I),L(e,n),c[t].m(n,null),L(e,l),L(e,r),$&&$.m(r,null),T(k,s,I),v&&v.m(k,I),T(k,o,I),T(k,u,I),O(p,u,null),m=!0},p(k,I){let B=t;t=g(k),t===B?c[t].p(k,I):(_e(),D(c[B],1,1,()=>{c[B]=null}),he(),i=c[t],i?i.p(k,I):(i=c[t]=h[t](k),i.c()),M(i,1),i.m(n,null)),k[1]?$&&(_e(),D($,1,1,()=>{$=null}),he()):$?($.p(k,I),I&2&&M($,1)):($=Vt(k),$.c(),M($,1),$.m(r,null)),k[1]?v?(v.p(k,I),I&2&&M(v,1)):(v=Ct(k),v.c(),M(v,1),v.m(o.parentNode,o)):v&&(_e(),D(v,1,1,()=>{v=null}),he())},i(k){m||(M(i),M($),M(v),M(p.$$.fragment,k),m=!0)},o(k){D(i),D($),D(v),D(p.$$.fragment,k),m=!1},d(k){k&&(f(e),f(s),f(o),f(u)),c[t].d(),$&&$.d(),v&&v.d(k),q(p)}}}function Gn(a){let e,n=a[0].name+"",t,i,l,r;return{c(){e=w("span"),t=ce(n)},l(s){e=E(s,"SPAN",{});var o=y(e);t=ue(o,n),o.forEach(f)},m(s,o){T(s,e,o),L(e,t),r=!0},p(s,o){(!r||o&1)&&n!==(n=s[0].name+"")&&Fe(t,n)},i(s){r||(s&&Oe(()=>{r&&(l&&l.end(1),i=Je(e,be,{delay:400}),i.start())}),r=!0)},o(s){i&&i.invalidate(),s&&(l=Ke(e,be,{})),r=!1},d(s){s&&f(e),s&&l&&l.end()}}}function Wn(a){let e,n="Create neáº‡ Meaning",t,i,l;return{c(){e=w("span"),e.textContent=n},l(r){e=E(r,"SPAN",{"data-svelte-h":!0}),Ne(e)!=="svelte-16kx8hm"&&(e.textContent=n)},m(r,s){T(r,e,s),l=!0},p:z,i(r){l||(r&&Oe(()=>{l&&(i&&i.end(1),t=Je(e,be,{delay:400}),t.start())}),l=!0)},o(r){t&&t.invalidate(),r&&(i=Ke(e,be,{})),l=!1},d(r){r&&f(e),r&&i&&i.end()}}}function Vt(a){let e,n,t,i,l,r;return n=new Y({props:{icon:Ot}}),{c(){e=w("button"),N(n.$$.fragment),this.h()},l(s){e=E(s,"BUTTON",{class:!0,title:!0,id:!0});var o=y(e);S(n.$$.fragment,o),o.forEach(f),this.h()},h(){d(e,"class","btn variant-filled-secondary shadow-md h-9 w-16"),d(e,"title","Create neáº‡ Meaning"),d(e,"id","create")},m(s,o){T(s,e,o),O(n,e,null),i=!0,l||(r=[J(e,"mouseover",a[9]),J(e,"click",a[10])],l=!0)},p:z,i(s){i||(M(n.$$.fragment,s),s&&Oe(()=>{i&&(t||(t=mt(e,be,{},!0)),t.run(1))}),i=!0)},o(s){D(n.$$.fragment,s),s&&(t||(t=mt(e,be,{},!1)),t.run(0)),i=!1},d(s){s&&f(e),q(n),s&&t&&t.end(),l=!1,Qe(r)}}}function Ct(a){let e,n,t,i,l;return n=new Hn({props:{meaning:a[0]}}),n.$on("cancel",a[11]),n.$on("success",a[12]),n.$on("fail",a[8]),{c(){e=w("div"),N(n.$$.fragment)},l(r){e=E(r,"DIV",{});var s=y(e);S(n.$$.fragment,s),s.forEach(f)},m(r,s){T(r,e,s),O(n,e,null),l=!0},p(r,s){const o={};s&1&&(o.meaning=r[0]),n.$set(o)},i(r){l||(M(n.$$.fragment,r),r&&Oe(()=>{l&&(i&&i.end(1),t=Je(e,pt,{}),t.start())}),l=!0)},o(r){D(n.$$.fragment,r),t&&t.invalidate(),r&&(i=Ke(e,pt,{})),l=!1},d(r){r&&f(e),q(n),r&&i&&i.end()}}}function Qn(a){let e,n,t,i,l,r,s,o,u,p;return r=new Y({props:{icon:Ot}}),u=new rn({props:{cols:5}}),{c(){e=w("div"),n=w("div"),t=P(),i=w("div"),l=w("button"),N(r.$$.fragment),s=P(),o=w("div"),N(u.$$.fragment),this.h()},l(m){e=E(m,"DIV",{class:!0});var h=y(e);n=E(h,"DIV",{class:!0}),y(n).forEach(f),t=R(h),i=E(h,"DIV",{class:!0});var c=y(i);l=E(c,"BUTTON",{class:!0});var g=y(l);S(r.$$.fragment,g),g.forEach(f),c.forEach(f),h.forEach(f),s=R(m),o=E(m,"DIV",{class:!0});var $=y(o);S(u.$$.fragment,$),$.forEach(f),this.h()},h(){d(n,"class","h-9 w-96 placeholder animate-pulse"),d(l,"class","btn placeholder animate-pulse shadow-md h-9 w-16"),d(i,"class","flex justify-end"),d(e,"class","grid w-full grid-cols-2 gap-5 my-4 pb-1 border-b border-primary-500"),d(o,"class","table-container w-full")},m(m,h){T(m,e,h),L(e,n),L(e,t),L(e,i),L(i,l),O(r,l,null),T(m,s,h),T(m,o,h),O(u,o,null),p=!0},p:z,i(m){p||(M(r.$$.fragment,m),M(u.$$.fragment,m),p=!0)},o(m){D(r.$$.fragment,m),D(u.$$.fragment,m),p=!1},d(m){m&&(f(e),f(s),f(o)),q(r),q(u)}}}function Xn(a){let e,n,t={ctx:a,current:null,token:null,hasCatch:!0,pending:Qn,then:zn,catch:jn,error:18,blocks:[,,,]};return Xt(a[2](),t),{c(){e=K(),t.block.c()},l(i){e=K(),t.block.l(i)},m(i,l){T(i,e,l),t.block.m(i,t.anchor=l),t.mount=()=>e.parentNode,t.anchor=e,n=!0},p(i,l){a=i,Jt(t,a,l)},i(i){n||(M(t.block),n=!0)},o(i){for(let l=0;l<3;l+=1){const r=t.blocks[l];D(r)}n=!1},d(i){i&&f(e),t.block.d(i),t.token=null,t=null}}}function Jn(a){let e,n,t,i;return e=new en({props:{help:!0,title:"Manage Meanings",$$slots:{default:[Xn]},$$scope:{ctx:a}}}),t=new Qt({}),{c(){N(e.$$.fragment),n=P(),N(t.$$.fragment)},l(l){S(e.$$.fragment,l),n=R(l),S(t.$$.fragment,l)},m(l,r){O(e,l,r),T(l,n,r),O(t,l,r),i=!0},p(l,[r]){const s={};r&524291&&(s.$$scope={dirty:r,ctx:l}),e.$set(s)},i(l){i||(M(e.$$.fragment,l),M(t.$$.fragment,l),i=!0)},o(l){D(e.$$.fragment,l),D(t.$$.fragment,l),i=!1},d(l){l&&f(n),q(e,l),q(t,l)}}}function Kn(a,e,n){let t;Xe(a,ye,_=>n(15,t=_));let i,l=new ze(null),r=!1;const s=Yt();async function o(){n(1,r=!1),i=await un(),ye.set(i);const _=await dn();Bt.set(_);const C=await fn();qt.set(C),console.log("store",t)}const u={id:"Meaning",data:ye,optionsComponent:In,columns:{approved:{disableFiltering:!0,instructions:{renderComponent:ht},exclude:!1},description:{disableFiltering:!0,exclude:!1},externalLinks:{header:"External Link",instructions:{renderComponent:$n},disableFiltering:!0,exclude:!0},id:{fixedWidth:60,disableFiltering:!0,exclude:!1},name:{disableFiltering:!1,exclude:!1},related_meaning:{header:"Related to",instructions:{renderComponent:En},disableFiltering:!0,exclude:!0},selectable:{instructions:{renderComponent:ht},disableFiltering:!0,exclude:!1},constraints:{disableFiltering:!0,exclude:!0},optionsColumn:{fixedWidth:100}}};function p(){r&&m(),n(1,r=!r)}function m(){n(0,l=new ze(null)),n(1,r=!1)}function h(_){if(_.action=="edit"&&(n(1,r=!1),n(0,l=t.find(C=>C.id===_.id)),n(1,r=!0)),_.action=="delete"){const C={type:"confirm",title:"Delete Meaning",body:"Are you sure you wish to delete Meaning "+l.name+"?",response:ee=>{ee===!0&&c(_.id)}};s.trigger(C)}}async function c(_){const C=await mn(_);console.log("ðŸš€ ~ file: +page.svelte:135 ~ deleteFn ~ res:",C),C?(Ve.showNotification({notificationType:Ce.success,message:"Meaning deleted."}),o()):Ve.showNotification({notificationType:Ce.error,message:"Can't delete Meaning."})}function g(_){const C=_>0?"Meaning updated.":"Meaning created.";Ve.showNotification({notificationType:Ce.success,message:C}),n(1,r=!1),setTimeout(async()=>{o()},10)}function $(){Ve.showNotification({notificationType:Ce.error,message:"Can't save Meaning."})}return[l,r,o,u,p,m,h,g,$,()=>{Se.show("create")},()=>p(),()=>m(),()=>g(l.id),_=>h(_.detail.type)]}class ui extends re{constructor(e){super(),ae(this,e,Kn,Jn,ie,{})}}export{ui as component};
