import{E as Ht,A as be,h as Se,F as ee,i as Vt,j as St,B as zt,a as Nt,c as Gt,P as Wt,n as De,g as Ve,k as Ft,d as ve,s as ot}from"../chunks/eslint4b.es.291451ed.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.0e3888ae.js";import{S as le,i as se,s as oe,k,l as w,n as m,b as V,I as z,h as c,m as T,a2 as ze,e as te,q as W,r as K,H as y,u as Ne,g as D,d as S,y as C,a as R,z as O,c as A,A as B,B as q,M as x,Z as Ue,O as Ge,a6 as ct,w as U,Y as j,_ as H,v as _e,f as he,J as We,W as Kt,o as Jt,R as ut,a3 as Xt,a4 as Yt,$ as Fe,a5 as ft,a0 as Ke,a1 as Je}from"../chunks/index.59d1c272.js";import{g as Zt}from"../chunks/stores.78226074.js";import{S as dt,M as Qt,E as xt}from"../chunks/ErrorMessage.13e1af6e.js";import{M as je,e as Pe,m as en}from"../chunks/types.d39feee0.js";import{T as tn,a as nn}from"../chunks/TablePlaceholder.f956c013.js";import{m as Ee,e as Ct,c as Ot}from"../chunks/stores.50b218e7.js";import{K as rn,V as an,v as mt,w as pt,T as ln}from"../chunks/vest.production.0974e7aa.js";import{M as He}from"../chunks/MultiSelect.6e9522c1.js";import{T as sn}from"../chunks/TextArea.d1c31edd.js";import{C as on}from"../chunks/ConstraintsDescription.19833df8.js";function cn(){return console.log(Ht),{}}const ci=Object.freeze(Object.defineProperty({__proto__:null,load:cn},Symbol.toStringTag,{value:"Module"})),un=async()=>{try{const r=await be.get("/rpm/Meaning/get");console.log("ðŸš€ ~ file: services.ts:8 ~ getMeanings ~ response.data:",r.data);const e=[];for(let n=0;n<r.data.length;n++)e.push(new je(r.data[n]));return e}catch(r){throw console.error(r),r}},fn=async()=>{try{return(await be.get("/rpm/Meaning/getlinks")).data}catch(r){throw console.error(r),r}},dn=async()=>{try{return(await be.get("/rpm/Meaning/getConstraints")).data}catch(r){throw console.error(r),r}},mn=async r=>{try{return(await be.delete("/rpm/Meaning/delete?id="+r,null)).data}catch(e){throw console.error(e),e}},pn=async r=>{try{return await be.post("/rpm/Meaning/create",r)}catch(e){throw console.error(e),e}},gn=async r=>{try{return await be.post("/rpm/Meaning/update",r)}catch(e){throw console.error(e),e}};function _n(r){let e,n;return{c(){e=k("input"),this.h()},l(t){e=w(t,"INPUT",{type:!0,id:!0}),this.h()},h(){m(e,"type","checkbox"),m(e,"id",n=r[1].id.toString()),e.checked=r[0],e.disabled=!0},m(t,i){V(t,e,i)},p(t,[i]){i&2&&n!==(n=t[1].id.toString())&&m(e,"id",n),i&1&&(e.checked=t[0])},i:z,o:z,d(t){t&&c(e)}}}function hn(r,e,n){let{value:t}=e,{row:i}=e;return r.$$set=l=>{"value"in l&&n(0,t=l.value),"row"in l&&n(1,i=l.row)},[t,i]}class gt extends le{constructor(e){super(),se(this,e,hn,_n,oe,{value:0,row:1})}}function _t(r,e,n){const t=r.slice();return t[1]=e[n],t}function ht(r){let e,n=r[1].mappingRelation.text+"",t,i,l=r[1].mappedLinks.map(bt).join(",")+"",a;return{c(){e=k("li"),t=W(n),i=W(" | "),a=W(l)},l(s){e=w(s,"LI",{});var o=T(e);t=K(o,n),i=K(o," | "),a=K(o,l),o.forEach(c)},m(s,o){V(s,e,o),y(e,t),y(e,i),y(e,a)},p(s,o){o&1&&n!==(n=s[1].mappingRelation.text+"")&&Ne(t,n),o&1&&l!==(l=s[1].mappedLinks.map(bt).join(",")+"")&&Ne(a,l)},d(s){s&&c(e)}}}function vt(r){let e,n=r[1]!=null&&r[1].mappingRelation!=null&&ht(r);return{c(){n&&n.c(),e=te()},l(t){n&&n.l(t),e=te()},m(t,i){n&&n.m(t,i),V(t,e,i)},p(t,i){t[1]!=null&&t[1].mappingRelation!=null?n?n.p(t,i):(n=ht(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&c(e)}}}function vn(r){let e,n=r[0],t=[];for(let i=0;i<n.length;i+=1)t[i]=vt(_t(r,n,i));return{c(){e=k("div");for(let i=0;i<t.length;i+=1)t[i].c()},l(i){e=w(i,"DIV",{});var l=T(e);for(let a=0;a<t.length;a+=1)t[a].l(l);l.forEach(c)},m(i,l){V(i,e,l);for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(e,null)},p(i,[l]){if(l&1){n=i[0];let a;for(a=0;a<n.length;a+=1){const s=_t(i,n,a);t[a]?t[a].p(s,l):(t[a]=vt(s),t[a].c(),t[a].m(e,null))}for(;a<t.length;a+=1)t[a].d(1);t.length=n.length}},i:z,o:z,d(i){i&&c(e),ze(t,i)}}}const bt=r=>r.text;function bn(r,e,n){let{value:t}=e;return r.$$set=i=>{"value"in i&&n(0,t=i.value)},[t]}class $n extends le{constructor(e){super(),se(this,e,bn,vn,oe,{value:0})}}function $t(r,e,n){const t=r.slice();return t[1]=e[n],t}function kt(r){let e=r[1].name+"",n;return{c(){n=W(e)},l(t){n=K(t,e)},m(t,i){V(t,n,i)},p(t,i){i&1&&e!==(e=t[1].name+"")&&Ne(n,e)},d(t){t&&c(n)}}}function wt(r){let e,n=r[1]!=null&&r[1].name!=null&&kt(r);return{c(){n&&n.c(),e=te()},l(t){n&&n.l(t),e=te()},m(t,i){n&&n.m(t,i),V(t,e,i)},p(t,i){t[1]!=null&&t[1].name!=null?n?n.p(t,i):(n=kt(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&c(e)}}}function kn(r){let e,n=r[0],t=[];for(let i=0;i<n.length;i+=1)t[i]=wt($t(r,n,i));return{c(){for(let i=0;i<t.length;i+=1)t[i].c();e=te()},l(i){for(let l=0;l<t.length;l+=1)t[l].l(i);e=te()},m(i,l){for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(i,l);V(i,e,l)},p(i,[l]){if(l&1){n=i[0];let a;for(a=0;a<n.length;a+=1){const s=$t(i,n,a);t[a]?t[a].p(s,l):(t[a]=wt(s),t[a].c(),t[a].m(e.parentNode,e))}for(;a<t.length;a+=1)t[a].d(1);t.length=n.length}},i:z,o:z,d(i){ze(t,i),i&&c(e)}}}function wn(r,e,n){let{value:t}=e;return r.$$set=i=>{"value"in i&&n(0,t=i.value)},[t]}class En extends le{constructor(e){super(),se(this,e,wn,kn,oe,{value:0})}}function yn(r){let e,n,t,i,l,a,s,o,d,_;return n=new ee({props:{icon:Vt}}),s=new ee({props:{icon:St}}),{c(){e=k("button"),C(n.$$.fragment),l=R(),a=k("button"),C(s.$$.fragment),this.h()},l(p){e=w(p,"BUTTON",{type:!0,class:!0,title:!0,id:!0});var g=T(e);O(n.$$.fragment,g),g.forEach(c),l=A(p),a=w(p,"BUTTON",{type:!0,class:!0,title:!0,id:!0});var u=T(a);O(s.$$.fragment,u),u.forEach(c),this.h()},h(){m(e,"type","button"),m(e,"class","chip variant-filled-primary shadow-md"),m(e,"title",t="Edit Meaning, "+r[0].name),m(e,"id",i="edit-"+r[0].id),e.disabled=!0,m(a,"type","button"),m(a,"class","chip variant-filled-error shadow-md"),m(a,"title",o="Delete Meaning, "+r[0].name),m(a,"id",d="delete-"+r[0].id),a.disabled=!0},m(p,g){V(p,e,g),B(n,e,null),V(p,l,g),V(p,a,g),B(s,a,null),_=!0},p(p,g){(!_||g&1&&t!==(t="Edit Meaning, "+p[0].name))&&m(e,"title",t),(!_||g&1&&i!==(i="edit-"+p[0].id))&&m(e,"id",i),(!_||g&1&&o!==(o="Delete Meaning, "+p[0].name))&&m(a,"title",o),(!_||g&1&&d!==(d="delete-"+p[0].id))&&m(a,"id",d)},i(p){_||(D(n.$$.fragment,p),D(s.$$.fragment,p),_=!0)},o(p){S(n.$$.fragment,p),S(s.$$.fragment,p),_=!1},d(p){p&&c(e),q(n),p&&c(l),p&&c(a),q(s)}}}function Mn(r){let e,n,t,i,l,a,s,o,d,_,p,g;return n=new ee({props:{icon:Vt}}),s=new ee({props:{icon:St}}),{c(){e=k("button"),C(n.$$.fragment),l=R(),a=k("button"),C(s.$$.fragment),this.h()},l(u){e=w(u,"BUTTON",{type:!0,class:!0,title:!0,id:!0});var M=T(e);O(n.$$.fragment,M),M.forEach(c),l=A(u),a=w(u,"BUTTON",{type:!0,class:!0,title:!0,id:!0});var E=T(a);O(s.$$.fragment,E),E.forEach(c),this.h()},h(){m(e,"type","button"),m(e,"class","chip variant-filled-primary shadow-md"),m(e,"title",t="Edit Meaning, "+r[0].name),m(e,"id",i="edit-"+r[0].Id),m(a,"type","button"),m(a,"class","chip variant-filled-error shadow-md"),m(a,"title",o="Delete Meaning, "+r[0].Name),m(a,"id",d="delete-"+r[0].Id)},m(u,M){V(u,e,M),B(n,e,null),V(u,l,M),V(u,a,M),B(s,a,null),_=!0,p||(g=[x(e,"mouseover",r[2]),x(e,"click",Ue(r[3])),x(a,"mouseover",r[4]),x(a,"click",Ue(r[5]))],p=!0)},p(u,M){(!_||M&1&&t!==(t="Edit Meaning, "+u[0].name))&&m(e,"title",t),(!_||M&1&&i!==(i="edit-"+u[0].Id))&&m(e,"id",i),(!_||M&1&&o!==(o="Delete Meaning, "+u[0].Name))&&m(a,"title",o),(!_||M&1&&d!==(d="delete-"+u[0].Id))&&m(a,"id",d)},i(u){_||(D(n.$$.fragment,u),D(s.$$.fragment,u),_=!0)},o(u){S(n.$$.fragment,u),S(s.$$.fragment,u),_=!1},d(u){u&&c(e),q(n),u&&c(l),u&&c(a),q(s),p=!1,Ge(g)}}}function Tn(r){let e,n,t,i,l;const a=[Mn,yn],s=[];function o(d,_){return 0}return t=o(),i=s[t]=a[t](r),{c(){e=k("tableOption"),n=k("div"),i.c(),this.h()},l(d){e=w(d,"TABLEOPTION",{});var _=T(e);n=w(_,"DIV",{class:!0});var p=T(n);i.l(p),p.forEach(c),_.forEach(c),this.h()},h(){m(n,"class","w-18")},m(d,_){V(d,e,_),y(e,n),s[t].m(n,null),l=!0},p(d,[_]){i.p(d,_)},i(d){l||(D(i),l=!0)},o(d){S(i),l=!1},d(d){d&&c(e),s[t].d()}}}function In(r,e,n){let{row:t}=e,{dispatchFn:i}=e;const l=()=>{Se.show("edit")},a=()=>i({type:{action:"edit",id:t.id}}),s=()=>{Se.show("delete")},o=()=>i({type:{action:"delete",id:t.id}});return r.$$set=d=>{"row"in d&&n(0,t=d.row),"dispatchFn"in d&&n(1,i=d.dispatchFn)},[t,i,l,a,s,o]}class Ln extends le{constructor(e){super(),se(this,e,In,Tn,oe,{row:0,dispatchFn:1})}}const we=rn((r={},e)=>{an(e),mt("name","name is required",()=>{pt(r.name).isNotBlank()}),mt("name","name allready exist",()=>{const n=r.id>0?ct(Ee).find(i=>i.id==r.id):{id:0,name:""},t=ct(Ee).map(i=>i.name!=(n==null?void 0:n.name)?i.name:"");pt(r.name).notInside(t)})}),Dn=[{id:"create",name:"Create neáº‡ Meaning",description:"Click here to ceate a new Meaning"},{id:"delete",name:"Delete Meaning",description:"Click here to detete the Meaning"},{id:"edit",name:"Edit Meaning",description:"Click here to edit the Meaning"},{id:"save",name:"Save Meaning",description:"Click here to save the Meaning"},{id:"cancel",name:"Cancel",description:"Click here to cancel"},{id:"name",name:"Name",description:"Name of the Meaning. <li>Has to be unique.</li>"},{id:"description",name:"Description",description:"Description of th Meaning. <li>a short overview how the Meaning shold be used.</li>"}];function Vn(r){let e,n,t,i,l,a,s,o,d,_;function p(h){r[4](h)}let g={id:"relation",itemId:"id",itemLabel:"text",itemGroup:"group",source:r[2],complexSource:!0,complexTarget:!0,isMulti:!1,clearable:!0};r[0].mappingRelation!==void 0&&(g.target=r[0].mappingRelation),t=new He({props:g}),U.push(()=>j(t,"target",p)),t.$on("change",r[5]);function u(h){r[6](h)}function M(h){r[7](h)}let E={id:"others",itemId:"id",itemLabel:"text",itemGroup:"group",complexSource:!0,complexTarget:!0,isMulti:!0,clearable:!0,placeholder:"-- Please select --"};return r[1]!==void 0&&(E.source=r[1]),r[0].mappedLinks!==void 0&&(E.target=r[0].mappedLinks),s=new He({props:E}),U.push(()=>j(s,"source",u)),U.push(()=>j(s,"target",M)),s.$on("change",r[8]),{c(){e=k("div"),n=k("div"),C(t.$$.fragment),l=R(),a=k("div"),C(s.$$.fragment),this.h()},l(h){e=w(h,"DIV",{class:!0});var v=T(e);n=w(v,"DIV",{class:!0});var L=T(n);O(t.$$.fragment,L),L.forEach(c),l=A(v),a=w(v,"DIV",{class:!0});var I=T(a);O(s.$$.fragment,I),I.forEach(c),v.forEach(c),this.h()},h(){m(n,"class","w-1/4"),m(a,"class","grow"),m(e,"class","flex gap-2 items-center")},m(h,v){V(h,e,v),y(e,n),B(t,n,null),y(e,l),y(e,a),B(s,a,null),_=!0},p(h,[v]){const L={};v&4&&(L.source=h[2]),!i&&v&1&&(i=!0,L.target=h[0].mappingRelation,H(()=>i=!1)),t.$set(L);const I={};!o&&v&2&&(o=!0,I.source=h[1],H(()=>o=!1)),!d&&v&1&&(d=!0,I.target=h[0].mappedLinks,H(()=>d=!1)),s.$set(I)},i(h){_||(D(t.$$.fragment,h),D(s.$$.fragment,h),_=!0)},o(h){S(t.$$.fragment,h),S(s.$$.fragment,h),_=!1},d(h){h&&c(e),q(t),q(s)}}}function Sn(r,e,n){let{entry:t}=e,{releationList:i=[]}=e,{othersList:l=[]}=e;function a(){console.log(t)}function s(g){r.$$.not_equal(t.mappingRelation,g)&&(t.mappingRelation=g,n(0,t))}const o=g=>a();function d(g){l=g,n(1,l)}function _(g){r.$$.not_equal(t.mappedLinks,g)&&(t.mappedLinks=g,n(0,t))}const p=g=>a();return r.$$set=g=>{"entry"in g&&n(0,t=g.entry),"releationList"in g&&n(2,i=g.releationList),"othersList"in g&&n(1,l=g.othersList)},[t,l,i,a,s,o,d,_,p]}class Nn extends le{constructor(e){super(),se(this,e,Sn,Vn,oe,{entry:0,releationList:2,othersList:1})}}function Et(r,e,n){const t=r.slice();return t[10]=e[n],t[11]=e,t[12]=n,t}function Fn(r){let e,n,t,i,l;return{c(){e=k("b"),n=W("to give the meaning a context you need at least one relation link and one another external link type"),t=R(),i=k("a"),l=W("go here"),this.h()},l(a){e=w(a,"B",{});var s=T(e);n=K(s,"to give the meaning a context you need at least one relation link and one another external link type"),s.forEach(c),t=A(a),i=w(a,"A",{href:!0});var o=T(i);l=K(o,"go here"),o.forEach(c),this.h()},h(){m(i,"href","/rpm/externallink")},m(a,s){V(a,e,s),y(e,n),V(a,t,s),V(a,i,s),y(i,l)},p:z,i:z,o:z,d(a){a&&c(e),a&&c(t),a&&c(i)}}}function Cn(r){let e,n,t,i,l,a,s,o,d,_,p,g,u,M,E,h,v,L,I=r[0]&&yt(r);return E=new ee({props:{icon:zt}}),{c(){e=k("div"),n=k("div"),t=R(),i=k("div"),l=W("Relation"),a=R(),s=k("div"),o=W("Objects"),d=R(),_=k("hr"),p=R(),I&&I.c(),g=R(),u=k("div"),M=k("button"),C(E.$$.fragment),this.h()},l(b){e=w(b,"DIV",{class:!0});var f=T(e);n=w(f,"DIV",{class:!0}),T(n).forEach(c),t=A(f),i=w(f,"DIV",{class:!0});var N=T(i);l=K(N,"Relation"),N.forEach(c),a=A(f),s=w(f,"DIV",{class:!0});var J=T(s);o=K(J,"Objects"),J.forEach(c),f.forEach(c),d=A(b),_=w(b,"HR",{}),p=A(b),I&&I.l(b),g=A(b),u=w(b,"DIV",{class:!0});var ne=T(u);M=w(ne,"BUTTON",{type:!0,class:!0});var X=T(M);O(E.$$.fragment,X),X.forEach(c),ne.forEach(c),this.h()},h(){m(n,"class","w-12"),m(i,"class","w-1/4 h3"),m(s,"class","grow h3"),m(e,"class","flex"),m(M,"type","button"),m(M,"class","chip variant-filled-primary"),m(u,"class","inline-block align-bottom")},m(b,f){V(b,e,f),y(e,n),y(e,t),y(e,i),y(i,l),y(e,a),y(e,s),y(s,o),V(b,d,f),V(b,_,f),V(b,p,f),I&&I.m(b,f),V(b,g,f),V(b,u,f),y(u,M),B(E,M,null),h=!0,v||(L=x(M,"click",r[3]),v=!0)},p(b,f){b[0]?I?(I.p(b,f),f&1&&D(I,1)):(I=yt(b),I.c(),D(I,1),I.m(g.parentNode,g)):I&&(_e(),S(I,1,1,()=>{I=null}),he())},i(b){h||(D(I),D(E.$$.fragment,b),h=!0)},o(b){S(I),S(E.$$.fragment,b),h=!1},d(b){b&&c(e),b&&c(d),b&&c(_),b&&c(p),I&&I.d(b),b&&c(g),b&&c(u),q(E),v=!1,L()}}}function yt(r){let e,n,t=r[0],i=[];for(let a=0;a<t.length;a+=1)i[a]=Mt(Et(r,t,a));const l=a=>S(i[a],1,1,()=>{i[a]=null});return{c(){for(let a=0;a<i.length;a+=1)i[a].c();e=te()},l(a){for(let s=0;s<i.length;s+=1)i[s].l(a);e=te()},m(a,s){for(let o=0;o<i.length;o+=1)i[o]&&i[o].m(a,s);V(a,e,s),n=!0},p(a,s){if(s&23){t=a[0];let o;for(o=0;o<t.length;o+=1){const d=Et(a,t,o);i[o]?(i[o].p(d,s),D(i[o],1)):(i[o]=Mt(d),i[o].c(),D(i[o],1),i[o].m(e.parentNode,e))}for(_e(),o=t.length;o<i.length;o+=1)l(o);he()}},i(a){if(!n){for(let s=0;s<t.length;s+=1)D(i[s]);n=!0}},o(a){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)S(i[s]);n=!1},d(a){ze(i,a),a&&c(e)}}}function Mt(r){let e,n,t,i,l,a,s,o,d,_,p,g,u,M;i=new ee({props:{icon:Nt}});function E(){return r[5](r[12])}function h(b){r[6](b,r[10],r[11],r[12])}function v(b){r[7](b)}function L(b){r[8](b)}let I={};return r[10]!==void 0&&(I.entry=r[10]),r[2]!==void 0&&(I.othersList=r[2]),r[1]!==void 0&&(I.releationList=r[1]),s=new Nn({props:I}),U.push(()=>j(s,"entry",h)),U.push(()=>j(s,"othersList",v)),U.push(()=>j(s,"releationList",L)),{c(){e=k("div"),n=k("div"),t=k("button"),C(i.$$.fragment),l=R(),a=k("div"),C(s.$$.fragment),p=R(),this.h()},l(b){e=w(b,"DIV",{class:!0});var f=T(e);n=w(f,"DIV",{class:!0});var N=T(n);t=w(N,"BUTTON",{type:!0,class:!0});var J=T(t);O(i.$$.fragment,J),J.forEach(c),N.forEach(c),l=A(f),a=w(f,"DIV",{class:!0});var ne=T(a);O(s.$$.fragment,ne),ne.forEach(c),p=A(f),f.forEach(c),this.h()},h(){m(t,"type","button"),m(t,"class","chip variant-filled-error"),m(n,"class","w-12 inline-block align-bottom"),m(a,"class","grow"),m(e,"class","flex items-center")},m(b,f){V(b,e,f),y(e,n),y(n,t),B(i,t,null),y(e,l),y(e,a),B(s,a,null),y(e,p),g=!0,u||(M=x(t,"click",E),u=!0)},p(b,f){r=b;const N={};!o&&f&1&&(o=!0,N.entry=r[10],H(()=>o=!1)),!d&&f&4&&(d=!0,N.othersList=r[2],H(()=>d=!1)),!_&&f&2&&(_=!0,N.releationList=r[1],H(()=>_=!1)),s.$set(N)},i(b){g||(D(i.$$.fragment,b),D(s.$$.fragment,b),g=!0)},o(b){S(i.$$.fragment,b),S(s.$$.fragment,b),g=!1},d(b){b&&c(e),q(i),q(s),u=!1,M()}}}function On(r){let e,n,t,i;const l=[Cn,Fn],a=[];function s(o,d){return o[1].length>0&&o[2].length>0?0:1}return n=s(r),t=a[n]=l[n](r),{c(){e=k("div"),t.c(),this.h()},l(o){e=w(o,"DIV",{class:!0});var d=T(e);t.l(d),d.forEach(c),this.h()},h(){m(e,"class","card p-5 space-y-3")},m(o,d){V(o,e,d),a[n].m(e,null),i=!0},p(o,[d]){let _=n;n=s(o),n===_?a[n].p(o,d):(_e(),S(a[_],1,1,()=>{a[_]=null}),he(),t=a[n],t?t.p(o,d):(t=a[n]=l[n](o),t.c()),D(t,1),t.m(e,null))},i(o){i||(D(t),i=!0)},o(o){S(t),i=!1},d(o){o&&c(e),a[n].d()}}}function Bn(r,e,n){let t;We(r,Ct,u=>n(9,t=u));let{entries:i}=e,l=t.filter(u=>{var M;return((M=u.type)==null?void 0:M.id)==Pe.relationship}).map(u=>({id:u.id,text:u.name,group:"",description:""}));console.log("ðŸš€ ~ file: MeaningEntry.svelte:10 ~ releationList:",l);let a=t.filter(u=>{var M,E;return((M=u.type)==null?void 0:M.id)!=Pe.relationship&&((E=u.type)==null?void 0:E.id)!=Pe.prefix}).map(u=>{var M;return{id:u.id,text:u.name,group:(M=u.type)==null?void 0:M.text,description:""}});console.log("ðŸš€ ~ file: MeaningEntry.svelte:12 ~ othersList:",a);function s(){n(0,i=[...i,new en])}function o(u){n(0,i=i.filter(M=>M!=i[u]))}const d=u=>o(u);function _(u,M,E,h){E[h]=u,n(0,i)}function p(u){a=u,n(2,a)}function g(u){l=u,n(1,l)}return r.$$set=u=>{"entries"in u&&n(0,i=u.entries)},r.$$.update=()=>{r.$$.dirty&1},[i,l,a,s,o,d,_,p,g]}class qn extends le{constructor(e){super(),se(this,e,Bn,On,oe,{entries:0})}}function Rn(r){let e;return{c(){e=W("Approved")},l(n){e=K(n,"Approved")},m(n,t){V(n,e,t)},d(n){n&&c(e)}}}function An(r){let e;return{c(){e=W("Selectable")},l(n){e=K(n,"Selectable")},m(n,t){V(n,e,t)},d(n){n&&c(e)}}}function Pn(r){let e,n,t,i,l,a,s,o,d,_,p,g,u,M,E,h,v,L,I,b,f,N,J,ne,X,de,ie,Ce,Oe,me,re,Be,qe,ae,Y,ce,Re,G,ue,ye,Me,Te,fe,Ae,Xe;function Bt($){r[7]($)}let Ye={id:"name",label:"Name",valid:r[1].isValid("name"),invalid:r[1].hasErrors("name"),feedback:r[1].getErrors("name"),required:!0,help:Tt};r[0].name!==void 0&&(Ye.value=r[0].name),l=new ln({props:Ye}),U.push(()=>j(l,"value",Bt)),l.$on("input",r[4]);function qt($){r[8]($)}let Ze={id:"description",label:"Description",valid:r[1].isValid("description"),invalid:r[1].hasErrors("description"),feedback:r[1].getErrors("description"),help:Tt,required:!1};r[0].description!==void 0&&(Ze.value=r[0].description),d=new sn({props:Ze}),U.push(()=>j(d,"value",qt)),d.$on("input",r[4]);function Rt($){r[9]($)}let Qe={};r[0].externalLinks!==void 0&&(Qe.entries=r[0].externalLinks),u=new qn({props:Qe}),U.push(()=>j(u,"entries",Rt));function At($){r[10]($)}let xe={active:"bg-secondary-500",size:"sm",id:"approved",name:"Approved",$$slots:{default:[Rn]},$$scope:{ctx:r}};r[0].approved!==void 0&&(xe.checked=r[0].approved),L=new dt({props:xe}),U.push(()=>j(L,"checked",At)),L.$on("change",r[11]);function Pt($){r[12]($)}let et={active:"bg-secondary-500",size:"sm",id:"selectable",name:"Selectable",$$slots:{default:[An]},$$scope:{ctx:r}};r[0].selectable!==void 0&&(et.checked=r[0].selectable),N=new dt({props:et}),U.push(()=>j(N,"checked",Pt)),N.$on("change",r[13]);function Ut($){r[14]($)}let tt={id:"constraints",title:"Constraints",source:r[3],itemId:"id",itemLabel:"text",itemGroup:"group",complexSource:!0,complexTarget:!0,isMulti:!0,clearable:!0,placeholder:"-- Please select --",invalid:r[1].hasErrors("constraints"),feedback:r[1].getErrors("constraints")};r[0].constraints!==void 0&&(tt.target=r[0].constraints),ie=new He({props:tt}),U.push(()=>j(ie,"target",Ut));function jt($){r[15]($)}let nt={};return r[0].constraints!==void 0&&(nt.list=r[0].constraints),re=new on({props:nt}),U.push(()=>j(re,"list",jt)),ce=new ee({props:{icon:Nt}}),ue=new ee({props:{icon:Gt}}),{c(){e=k("form"),n=k("div"),t=k("div"),i=k("div"),C(l.$$.fragment),s=R(),o=k("div"),C(d.$$.fragment),p=R(),g=k("div"),C(u.$$.fragment),E=R(),h=k("div"),v=k("div"),C(L.$$.fragment),b=R(),f=k("div"),C(N.$$.fragment),ne=R(),X=k("div"),de=k("div"),C(ie.$$.fragment),Oe=R(),me=k("div"),C(re.$$.fragment),qe=R(),ae=k("div"),Y=k("button"),C(ce.$$.fragment),Re=R(),G=k("button"),C(ue.$$.fragment),this.h()},l($){e=w($,"FORM",{});var F=T(e);n=w(F,"DIV",{id:!0,class:!0});var P=T(n);t=w(P,"DIV",{class:!0});var Z=T(t);i=w(Z,"DIV",{class:!0});var $e=T(i);O(l.$$.fragment,$e),$e.forEach(c),s=A(Z),o=w(Z,"DIV",{class:!0});var pe=T(o);O(d.$$.fragment,pe),pe.forEach(c),Z.forEach(c),p=A(P),g=w(P,"DIV",{class:!0});var ge=T(g);O(u.$$.fragment,ge),ge.forEach(c),E=A(P),h=w(P,"DIV",{class:!0});var Q=T(h);v=w(Q,"DIV",{});var ke=T(v);O(L.$$.fragment,ke),ke.forEach(c),b=A(Q),f=w(Q,"DIV",{});var it=T(f);O(N.$$.fragment,it),it.forEach(c),Q.forEach(c),ne=A(P),X=w(P,"DIV",{class:!0});var Ie=T(X);de=w(Ie,"DIV",{class:!0});var rt=T(de);O(ie.$$.fragment,rt),rt.forEach(c),Oe=A(Ie),me=w(Ie,"DIV",{class:!0});var at=T(me);O(re.$$.fragment,at),at.forEach(c),Ie.forEach(c),qe=A(P),ae=w(P,"DIV",{class:!0});var Le=T(ae);Y=w(Le,"BUTTON",{type:!0,class:!0,title:!0,id:!0});var lt=T(Y);O(ce.$$.fragment,lt),lt.forEach(c),Re=A(Le),G=w(Le,"BUTTON",{type:!0,class:!0,title:!0,id:!0});var st=T(G);O(ue.$$.fragment,st),st.forEach(c),Le.forEach(c),P.forEach(c),F.forEach(c),this.h()},h(){m(i,"class","grow"),m(o,"class","grow"),m(t,"class","flex gap-5"),m(g,"class","py-5"),m(h,"class","flex gap-3 items-center"),m(de,"class","w-1/2"),m(me,"class","w-1/2"),m(X,"class","flex gap-5 items-center"),m(Y,"type","button"),m(Y,"class","btn variant-filled-warning h-9 w-16 shadow-md"),m(Y,"title","Cancel"),m(Y,"id","cancel"),m(G,"type","submit"),m(G,"class","btn variant-filled-primary h-9 w-16 shadow-md"),m(G,"title",ye="Save Meaning Template, "+r[0].name),m(G,"id","save"),G.disabled=Me=!r[2]||!It,m(ae,"class","py-5 text-right col-span-2"),m(n,"id",Te="meaning-"+r[0].id+"-form"),m(n,"class","flex-col space-y-5 card shadow-md p-5")},m($,F){V($,e,F),y(e,n),y(n,t),y(t,i),B(l,i,null),y(t,s),y(t,o),B(d,o,null),y(n,p),y(n,g),B(u,g,null),y(n,E),y(n,h),y(h,v),B(L,v,null),y(h,b),y(h,f),B(N,f,null),y(n,ne),y(n,X),y(X,de),B(ie,de,null),y(X,Oe),y(X,me),B(re,me,null),y(n,qe),y(n,ae),y(ae,Y),B(ce,Y,null),y(ae,Re),y(ae,G),B(ue,G,null),fe=!0,Ae||(Xe=[x(Y,"click",r[16]),x(e,"submit",Ue(r[6]))],Ae=!0)},p($,[F]){const P={};F&2&&(P.valid=$[1].isValid("name")),F&2&&(P.invalid=$[1].hasErrors("name")),F&2&&(P.feedback=$[1].getErrors("name")),!a&&F&1&&(a=!0,P.value=$[0].name,H(()=>a=!1)),l.$set(P);const Z={};F&2&&(Z.valid=$[1].isValid("description")),F&2&&(Z.invalid=$[1].hasErrors("description")),F&2&&(Z.feedback=$[1].getErrors("description")),!_&&F&1&&(_=!0,Z.value=$[0].description,H(()=>_=!1)),d.$set(Z);const $e={};!M&&F&1&&(M=!0,$e.entries=$[0].externalLinks,H(()=>M=!1)),u.$set($e);const pe={};F&524288&&(pe.$$scope={dirty:F,ctx:$}),!I&&F&1&&(I=!0,pe.checked=$[0].approved,H(()=>I=!1)),L.$set(pe);const ge={};F&524288&&(ge.$$scope={dirty:F,ctx:$}),!J&&F&1&&(J=!0,ge.checked=$[0].selectable,H(()=>J=!1)),N.$set(ge);const Q={};F&8&&(Q.source=$[3]),F&2&&(Q.invalid=$[1].hasErrors("constraints")),F&2&&(Q.feedback=$[1].getErrors("constraints")),!Ce&&F&1&&(Ce=!0,Q.target=$[0].constraints,H(()=>Ce=!1)),ie.$set(Q);const ke={};!Be&&F&1&&(Be=!0,ke.list=$[0].constraints,H(()=>Be=!1)),re.$set(ke),(!fe||F&1&&ye!==(ye="Save Meaning Template, "+$[0].name))&&m(G,"title",ye),(!fe||F&4&&Me!==(Me=!$[2]||!It))&&(G.disabled=Me),(!fe||F&1&&Te!==(Te="meaning-"+$[0].id+"-form"))&&m(n,"id",Te)},i($){fe||(D(l.$$.fragment,$),D(d.$$.fragment,$),D(u.$$.fragment,$),D(L.$$.fragment,$),D(N.$$.fragment,$),D(ie.$$.fragment,$),D(re.$$.fragment,$),D(ce.$$.fragment,$),D(ue.$$.fragment,$),fe=!0)},o($){S(l.$$.fragment,$),S(d.$$.fragment,$),S(u.$$.fragment,$),S(L.$$.fragment,$),S(N.$$.fragment,$),S(ie.$$.fragment,$),S(re.$$.fragment,$),S(ce.$$.fragment,$),S(ue.$$.fragment,$),fe=!1},d($){$&&c(e),q(l),q(d),q(u),q(L),q(N),q(ie),q(re),q(ce),q(ue),Ae=!1,Ge(Xe)}}}let Tt=!0,It=!0;function Un(r,e,n){let t,i;We(r,Ot,f=>n(3,i=f));let{meaning:l}=e,a=we.get();const s=Kt();Jt(()=>{Se.setHelpItemList(Dn),console.log("meaning",l),we.reset(),setTimeout(async()=>{l.id>0&&n(1,a=we(l,""))},10)});function o(f){setTimeout(async()=>{n(1,a=we(l,f.target.id))},100)}function d(){we.reset(),s("cancel")}async function _(){console.log("ðŸš€ ~ file: Meaning.svelte:77 ~ submit ~ meaning:",l);var f=await(l.id==0)?pn(l):gn(l);console.log("ðŸš€ ~ file: Meaning.svelte:67 ~ submit ~ res:",a),(await f).status===200?s("success"):s("fail")}function p(f){r.$$.not_equal(l.name,f)&&(l.name=f,n(0,l))}function g(f){r.$$.not_equal(l.description,f)&&(l.description=f,n(0,l))}function u(f){r.$$.not_equal(l.externalLinks,f)&&(l.externalLinks=f,n(0,l))}function M(f){r.$$.not_equal(l.approved,f)&&(l.approved=f,n(0,l))}function E(f){ut.call(this,r,f)}function h(f){r.$$.not_equal(l.selectable,f)&&(l.selectable=f,n(0,l))}function v(f){ut.call(this,r,f)}function L(f){r.$$.not_equal(l.constraints,f)&&(l.constraints=f,n(0,l))}function I(f){r.$$.not_equal(l.constraints,f)&&(l.constraints=f,n(0,l))}const b=()=>d();return r.$$set=f=>{"meaning"in f&&n(0,l=f.meaning)},r.$$.update=()=>{r.$$.dirty&1,r.$$.dirty&2&&n(2,t=a.isValid())},[l,a,t,i,o,d,_,p,g,u,M,E,h,v,L,I,b]}class jn extends le{constructor(e){super(),se(this,e,Un,Pn,oe,{meaning:0})}}function Hn(r){let e,n;return e=new xt({props:{error:r[18]}}),{c(){C(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,i){B(e,t,i),n=!0},p:z,i(t){n||(D(e.$$.fragment,t),n=!0)},o(t){S(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function zn(r){let e,n,t,i,l,a,s,o,d,_,p;const g=[Wn,Gn],u=[];function M(v,L){return v[0].id<1?0:1}t=M(r),i=u[t]=g[t](r);let E=!r[1]&&Lt(r),h=r[1]&&Dt(r);return _=new tn({props:{config:r[3]}}),_.$on("action",r[13]),{c(){e=k("div"),n=k("div"),i.c(),l=R(),a=k("div"),E&&E.c(),s=R(),h&&h.c(),o=R(),d=k("div"),C(_.$$.fragment),this.h()},l(v){e=w(v,"DIV",{class:!0});var L=T(e);n=w(L,"DIV",{class:!0});var I=T(n);i.l(I),I.forEach(c),l=A(L),a=w(L,"DIV",{class:!0});var b=T(a);E&&E.l(b),b.forEach(c),L.forEach(c),s=A(v),h&&h.l(v),o=A(v),d=w(v,"DIV",{class:!0});var f=T(d);O(_.$$.fragment,f),f.forEach(c),this.h()},h(){m(n,"class","h3 h-9"),m(a,"class","text-right"),m(e,"class","grid grid-cols-2 gap-5 my-4 pb-1 border-b border-primary-500"),m(d,"class","table table-compact w-full")},m(v,L){V(v,e,L),y(e,n),u[t].m(n,null),y(e,l),y(e,a),E&&E.m(a,null),V(v,s,L),h&&h.m(v,L),V(v,o,L),V(v,d,L),B(_,d,null),p=!0},p(v,L){let I=t;t=M(v),t===I?u[t].p(v,L):(_e(),S(u[I],1,1,()=>{u[I]=null}),he(),i=u[t],i?i.p(v,L):(i=u[t]=g[t](v),i.c()),D(i,1),i.m(n,null)),v[1]?E&&(_e(),S(E,1,1,()=>{E=null}),he()):E?(E.p(v,L),L&2&&D(E,1)):(E=Lt(v),E.c(),D(E,1),E.m(a,null)),v[1]?h?(h.p(v,L),L&2&&D(h,1)):(h=Dt(v),h.c(),D(h,1),h.m(o.parentNode,o)):h&&(_e(),S(h,1,1,()=>{h=null}),he())},i(v){p||(D(i),D(E),D(h),D(_.$$.fragment,v),p=!0)},o(v){S(i),S(E),S(h),S(_.$$.fragment,v),p=!1},d(v){v&&c(e),u[t].d(),E&&E.d(),v&&c(s),h&&h.d(v),v&&c(o),v&&c(d),q(_)}}}function Gn(r){let e,n=r[0].name+"",t,i,l,a;return{c(){e=k("span"),t=W(n)},l(s){e=w(s,"SPAN",{});var o=T(e);t=K(o,n),o.forEach(c)},m(s,o){V(s,e,o),y(e,t),a=!0},p(s,o){(!a||o&1)&&n!==(n=s[0].name+"")&&Ne(t,n)},i(s){a||(Fe(()=>{a&&(l&&l.end(1),i=Ke(e,ve,{delay:400}),i.start())}),a=!0)},o(s){i&&i.invalidate(),l=Je(e,ve,{}),a=!1},d(s){s&&c(e),s&&l&&l.end()}}}function Wn(r){let e,n,t,i,l;return{c(){e=k("span"),n=W("Create neáº‡ Meaning")},l(a){e=w(a,"SPAN",{});var s=T(e);n=K(s,"Create neáº‡ Meaning"),s.forEach(c)},m(a,s){V(a,e,s),y(e,n),l=!0},p:z,i(a){l||(Fe(()=>{l&&(i&&i.end(1),t=Ke(e,ve,{delay:400}),t.start())}),l=!0)},o(a){t&&t.invalidate(),i=Je(e,ve,{}),l=!1},d(a){a&&c(e),a&&i&&i.end()}}}function Lt(r){let e,n,t,i,l,a;return n=new ee({props:{icon:Ft}}),{c(){e=k("button"),C(n.$$.fragment),this.h()},l(s){e=w(s,"BUTTON",{class:!0,title:!0,id:!0});var o=T(e);O(n.$$.fragment,o),o.forEach(c),this.h()},h(){m(e,"class","btn variant-filled-secondary shadow-md h-9 w-16"),m(e,"title","Create neáº‡ Meaning"),m(e,"id","create")},m(s,o){V(s,e,o),B(n,e,null),i=!0,l||(a=[x(e,"mouseover",r[9]),x(e,"click",r[10])],l=!0)},p:z,i(s){i||(D(n.$$.fragment,s),Fe(()=>{i&&(t||(t=ft(e,ve,{},!0)),t.run(1))}),i=!0)},o(s){S(n.$$.fragment,s),t||(t=ft(e,ve,{},!1)),t.run(0),i=!1},d(s){s&&c(e),q(n),s&&t&&t.end(),l=!1,Ge(a)}}}function Dt(r){let e,n,t,i,l;return n=new jn({props:{meaning:r[0]}}),n.$on("cancel",r[11]),n.$on("success",r[12]),n.$on("fail",r[8]),{c(){e=k("div"),C(n.$$.fragment)},l(a){e=w(a,"DIV",{});var s=T(e);O(n.$$.fragment,s),s.forEach(c)},m(a,s){V(a,e,s),B(n,e,null),l=!0},p(a,s){const o={};s&1&&(o.meaning=a[0]),n.$set(o)},i(a){l||(D(n.$$.fragment,a),Fe(()=>{l&&(i&&i.end(1),t=Ke(e,ot,{}),t.start())}),l=!0)},o(a){S(n.$$.fragment,a),t&&t.invalidate(),i=Je(e,ot,{}),l=!1},d(a){a&&c(e),q(n),a&&i&&i.end()}}}function Kn(r){let e,n,t,i,l,a,s,o,d,_;return a=new ee({props:{icon:Ft}}),d=new nn({props:{cols:5}}),{c(){e=k("div"),n=k("div"),t=R(),i=k("div"),l=k("button"),C(a.$$.fragment),s=R(),o=k("div"),C(d.$$.fragment),this.h()},l(p){e=w(p,"DIV",{class:!0});var g=T(e);n=w(g,"DIV",{class:!0}),T(n).forEach(c),t=A(g),i=w(g,"DIV",{class:!0});var u=T(i);l=w(u,"BUTTON",{class:!0});var M=T(l);O(a.$$.fragment,M),M.forEach(c),u.forEach(c),g.forEach(c),s=A(p),o=w(p,"DIV",{class:!0});var E=T(o);O(d.$$.fragment,E),E.forEach(c),this.h()},h(){m(n,"class","h-9 w-96 placeholder animate-pulse"),m(l,"class","btn placeholder animate-pulse shadow-md h-9 w-16"),m(i,"class","flex justify-end"),m(e,"class","grid w-full grid-cols-2 gap-5 my-4 pb-1 border-b border-primary-500"),m(o,"class","table-container w-full")},m(p,g){V(p,e,g),y(e,n),y(e,t),y(e,i),y(i,l),B(a,l,null),V(p,s,g),V(p,o,g),B(d,o,null),_=!0},p:z,i(p){_||(D(a.$$.fragment,p),D(d.$$.fragment,p),_=!0)},o(p){S(a.$$.fragment,p),S(d.$$.fragment,p),_=!1},d(p){p&&c(e),q(a),p&&c(s),p&&c(o),q(d)}}}function Jn(r){let e,n,t={ctx:r,current:null,token:null,hasCatch:!0,pending:Kn,then:zn,catch:Hn,error:18,blocks:[,,,]};return Xt(r[2](),t),{c(){e=te(),t.block.c()},l(i){e=te(),t.block.l(i)},m(i,l){V(i,e,l),t.block.m(i,t.anchor=l),t.mount=()=>e.parentNode,t.anchor=e,n=!0},p(i,l){r=i,Yt(t,r,l)},i(i){n||(D(t.block),n=!0)},o(i){for(let l=0;l<3;l+=1){const a=t.blocks[l];S(a)}n=!1},d(i){i&&c(e),t.block.d(i),t.token=null,t=null}}}function Xn(r){let e,n,t,i;return e=new Wt({props:{help:!0,title:"Manage Meanings",$$slots:{default:[Jn]},$$scope:{ctx:r}}}),t=new Qt({}),{c(){C(e.$$.fragment),n=R(),C(t.$$.fragment)},l(l){O(e.$$.fragment,l),n=A(l),O(t.$$.fragment,l)},m(l,a){B(e,l,a),V(l,n,a),B(t,l,a),i=!0},p(l,[a]){const s={};a&524291&&(s.$$scope={dirty:a,ctx:l}),e.$set(s)},i(l){i||(D(e.$$.fragment,l),D(t.$$.fragment,l),i=!0)},o(l){S(e.$$.fragment,l),S(t.$$.fragment,l),i=!1},d(l){q(e,l),l&&c(n),q(t,l)}}}function Yn(r,e,n){let t;We(r,Ee,f=>n(15,t=f));let i,l=new je(null),a=!1;const s=Zt();async function o(){n(1,a=!1),i=await un(),Ee.set(i);const f=await dn();Ot.set(f);const N=await fn();Ct.set(N),console.log("store",t)}const d={id:"Meaning",data:Ee,optionsComponent:Ln,columns:{approved:{disableFiltering:!0,instructions:{renderComponent:gt},exclude:!1},description:{disableFiltering:!0,exclude:!1},externalLinks:{header:"External Link",instructions:{renderComponent:$n},disableFiltering:!0,exclude:!0},id:{fixedWidth:60,disableFiltering:!0,exclude:!1},name:{disableFiltering:!1,exclude:!1},related_meaning:{header:"Related to",instructions:{renderComponent:En},disableFiltering:!0,exclude:!0},selectable:{instructions:{renderComponent:gt},disableFiltering:!0,exclude:!1},constraints:{disableFiltering:!0,exclude:!0},optionsColumn:{fixedWidth:100}}};function _(){a&&p(),n(1,a=!a)}function p(){n(0,l=new je(null)),n(1,a=!1)}function g(f){if(f.action=="edit"&&(n(1,a=!1),n(0,l=t.find(N=>N.id===f.id)),n(1,a=!0)),f.action=="delete"){const N={type:"confirm",title:"Delete Meaning",body:"Are you sure you wish to delete Meaning "+l.name+"?",response:J=>{J===!0&&u(f.id)}};s.trigger(N)}}async function u(f){const N=await mn(f);console.log("ðŸš€ ~ file: +page.svelte:135 ~ deleteFn ~ res:",N),N?(De.showNotification({notificationType:Ve.success,message:"Meaning deleted."}),o()):De.showNotification({notificationType:Ve.error,message:"Can't delete Meaning."})}function M(f){const N=f>0?"Meaning updated.":"Meaning created.";De.showNotification({notificationType:Ve.success,message:N}),n(1,a=!1),setTimeout(async()=>{o()},10)}function E(){De.showNotification({notificationType:Ve.error,message:"Can't save Meaning."})}return[l,a,o,d,_,p,g,M,E,()=>{Se.show("create")},()=>_(),()=>p(),()=>M(l.id),f=>g(f.detail.type)]}class ui extends le{constructor(e){super(),se(this,e,Yn,Xn,oe,{})}}export{ui as component,ci as universal};
