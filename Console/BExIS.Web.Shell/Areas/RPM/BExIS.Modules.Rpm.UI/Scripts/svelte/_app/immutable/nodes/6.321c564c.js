import{F as X,q as de,c as ce,d as Z,P as me,p as ge,h as pe}from"../chunks/eslint4b.es.291451ed.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.0e3888ae.js";import{S as se,i as re,s as ne,w as C,Y as D,k as I,y as w,a as z,l as M,m as P,z as V,h as $,c as U,n as q,b as Y,H as E,A as S,M as x,_ as F,g,$ as be,a5 as ee,d as _,B as y,O as _e,a3 as $e,e as N,a4 as ve,I as ie,v as he,f as ke}from"../chunks/index.59d1c272.js";import{A as Ee,V as we,d as Ve}from"../chunks/help.511bc58b.js";import{h as Se,i as ye,b as Te,d as qe}from"../chunks/services.9a728a1c.js";import{g as te,S as Ae}from"../chunks/BaseCaller.944e72b4.js";import{E as Le}from"../chunks/ErrorMessage.13e1af6e.js";import{i as Ie,a as Me,s as Pe,d as Re}from"../chunks/types.1217ad3c.js";function Ce(){return{}}const xe=Object.freeze(Object.defineProperty({__proto__:null,load:Ce},Symbol.toStringTag,{value:"Module"}));function De(r){let a,s,e,t,n,p,m,u,b,v,d,T,c,l,A,f,O,B,H,L,j,G;n=new X({props:{icon:de}}),b=new X({props:{icon:ce}});function le(i){r[7](i)}let J={model:r[0]};r[3]!==void 0&&(J.valid=r[3]),c=new Ee({props:J}),C.push(()=>D(c,"valid",le));function oe(i){r[8](i)}function ue(i){r[9](i)}function fe(i){r[10](i)}let R={dataExist:r[1],data:[]};return r[0].variables!==void 0&&(R.variables=r[0].variables),r[2]!==void 0&&(R.valid=r[2]),r[0].missingValues!==void 0&&(R.missingValues=r[0].missingValues),f=new we({props:R}),C.push(()=>D(f,"variables",oe)),C.push(()=>D(f,"valid",ue)),C.push(()=>D(f,"missingValues",fe)),{c(){a=I("div"),s=I("div"),e=I("div"),t=I("button"),w(n.$$.fragment),p=z(),m=I("div"),u=I("button"),w(b.$$.fragment),T=z(),w(c.$$.fragment),A=z(),w(f.$$.fragment),this.h()},l(i){a=M(i,"DIV",{});var o=P(a);s=M(o,"DIV",{class:!0});var h=P(s);e=M(h,"DIV",{class:!0});var k=P(e);t=M(k,"BUTTON",{title:!0,class:!0});var K=P(t);V(n.$$.fragment,K),K.forEach($),k.forEach($),p=U(h),m=M(h,"DIV",{class:!0});var Q=P(m);u=M(Q,"BUTTON",{title:!0,class:!0});var W=P(u);V(b.$$.fragment,W),W.forEach($),Q.forEach($),h.forEach($),T=U(o),V(c.$$.fragment,o),A=U(o),V(f.$$.fragment,o),o.forEach($),this.h()},h(){q(t,"title","back"),q(t,"class","btn variant-filled-warning"),q(e,"class","grow"),q(u,"title","save"),q(u,"class","btn variant-filled-primary text-xl"),u.disabled=v=!r[2]||!r[3],q(m,"class","flex-none text-end"),q(s,"class","flex")},m(i,o){Y(i,a,o),E(a,s),E(s,e),E(e,t),S(n,t,null),E(s,p),E(s,m),E(m,u),S(b,u,null),E(a,T),S(c,a,null),E(a,A),S(f,a,null),L=!0,j||(G=[x(t,"click",r[6]),x(u,"click",r[4])],j=!0)},p(i,[o]){(!L||o&12&&v!==(v=!i[2]||!i[3]))&&(u.disabled=v);const h={};o&1&&(h.model=i[0]),!l&&o&8&&(l=!0,h.valid=i[3],F(()=>l=!1)),c.$set(h);const k={};o&2&&(k.dataExist=i[1]),!O&&o&1&&(O=!0,k.variables=i[0].variables,F(()=>O=!1)),!B&&o&4&&(B=!0,k.valid=i[2],F(()=>B=!1)),!H&&o&1&&(H=!0,k.missingValues=i[0].missingValues,F(()=>H=!1)),f.$set(k)},i(i){L||(g(n.$$.fragment,i),g(b.$$.fragment,i),be(()=>{L&&(d||(d=ee(s,Z,{},!0)),d.run(1))}),g(c.$$.fragment,i),g(f.$$.fragment,i),L=!0)},o(i){_(n.$$.fragment,i),_(b.$$.fragment,i),d||(d=ee(s,Z,{},!1)),d.run(0),_(c.$$.fragment,i),_(f.$$.fragment,i),L=!1},d(i){i&&$(a),y(n),y(b),i&&d&&d.end(),y(c),y(f),j=!1,_e(G)}}}function Fe(r,a,s){let e=!1,t=!1,{model:n}=a,{dataExist:p=!1}=a;async function m(){const l=await Se(n);console.log("save",l),te("/rpm/datastructure")}function u(){te(document.referrer)}const b=()=>u();function v(l){t=l,s(3,t)}function d(l){r.$$.not_equal(n.variables,l)&&(n.variables=l,s(0,n))}function T(l){e=l,s(2,e)}function c(l){r.$$.not_equal(n.missingValues,l)&&(n.missingValues=l,s(0,n))}return r.$$set=l=>{"model"in l&&s(0,n=l.model),"dataExist"in l&&s(1,p=l.dataExist)},r.$$.update=()=>{r.$$.dirty&1},[n,p,e,t,m,u,b,v,d,T,c]}class Ne extends se{constructor(a){super(),re(this,a,Fe,De,ne,{model:0,dataExist:1})}}function Oe(r){let a,s;return a=new Le({props:{error:r[8]}}),{c(){w(a.$$.fragment)},l(e){V(a.$$.fragment,e)},m(e,t){S(a,e,t),s=!0},p:ie,i(e){s||(g(a.$$.fragment,e),s=!0)},o(e){_(a.$$.fragment,e),s=!1},d(e){y(a,e)}}}function Be(r){let a,s,e=r[0]&&ae(r);return{c(){e&&e.c(),a=N()},l(t){e&&e.l(t),a=N()},m(t,n){e&&e.m(t,n),Y(t,a,n),s=!0},p(t,n){t[0]?e?(e.p(t,n),n&1&&g(e,1)):(e=ae(t),e.c(),g(e,1),e.m(a.parentNode,a)):e&&(he(),_(e,1,1,()=>{e=null}),ke())},i(t){s||(g(e),s=!0)},o(t){_(e),s=!1},d(t){e&&e.d(t),t&&$(a)}}}function ae(r){let a,s;return a=new Ne({props:{model:r[0],dataExist:r[1]}}),a.$on("back",r[3]),{c(){w(a.$$.fragment)},l(e){V(a.$$.fragment,e)},m(e,t){S(a,e,t),s=!0},p(e,t){const n={};t&1&&(n.model=e[0]),t&2&&(n.dataExist=e[1]),a.$set(n)},i(e){s||(g(a.$$.fragment,e),s=!0)},o(e){_(a.$$.fragment,e),s=!1},d(e){y(a,e)}}}function He(r){let a,s;return a=new Ae({props:{label:"the structure is loading"}}),{c(){w(a.$$.fragment)},l(e){V(a.$$.fragment,e)},m(e,t){S(a,e,t),s=!0},p:ie,i(e){s||(g(a.$$.fragment,e),s=!0)},o(e){_(a.$$.fragment,e),s=!1},d(e){y(a,e)}}}function je(r){let a,s,e={ctx:r,current:null,token:null,hasCatch:!0,pending:He,then:Be,catch:Oe,error:8,blocks:[,,,]};return $e(r[2](),e),{c(){a=N(),e.block.c()},l(t){a=N(),e.block.l(t)},m(t,n){Y(t,a,n),e.block.m(t,e.anchor=n),e.mount=()=>a.parentNode,e.anchor=a,s=!0},p(t,n){r=t,ve(e,r,n)},i(t){s||(g(e.block),s=!0)},o(t){for(let n=0;n<3;n+=1){const p=e.blocks[n];_(p)}s=!1},d(t){t&&$(a),e.block.d(t),e.token=null,e=null}}}function ze(r){let a,s;return a=new me({props:{title:"Data structure",note:"This page allows you to create and edit data structures.",contentLayoutType:ge.full,help:!0,$$slots:{default:[je]},$$scope:{ctx:r}}}),{c(){w(a.$$.fragment)},l(e){V(a.$$.fragment,e)},m(e,t){S(a,e,t),s=!0},p(e,[t]){const n={};t&515&&(n.$$scope={dirty:t,ctx:e}),a.$set(n)},i(e){s||(g(a.$$.fragment,e),s=!0)},o(e){_(a.$$.fragment,e),s=!1},d(e){y(a,e)}}}function Ue(r,a,s){let e=Ve,t,n=0,p,m=!1;async function u(){var l,A,f;pe.setHelpItemList(e),t=document.getElementById("datastructure"),n=Number(t==null?void 0:t.getAttribute("structure")),s(1,m=((l=t==null?void 0:t.getAttribute("dataExist"))==null?void 0:l.toLocaleLowerCase())==="true"),console.log("ðŸš€ ~ file: +page.svelte:32 ~ start ~ container?.getAttribute('dataExist'):",t==null?void 0:t.getAttribute("dataExist")),console.log("ðŸš€ ~ file: +page.svelte:32 ~ start ~ dataExist:",m);const v=((A=t==null?void 0:t.getAttribute("isTemplateRequired"))==null?void 0:A.toLocaleLowerCase())=="true";Ie.set(v);const d=((f=t==null?void 0:t.getAttribute("isMeaningRequired"))==null?void 0:f.toLocaleLowerCase())=="true";console.log("ðŸš€ ~ file: +page.svelte:57 ~ start ~ isMeaningRequired:",d),Me.set(d),console.log("edit structure",n),s(0,p=await ye(n));const T=await Te();Pe.set(T);const c=await qe();Re.set(c)}function b(){}return r.$$.update=()=>{r.$$.dirty&1},[p,m,u,b]}class et extends se{constructor(a){super(),re(this,a,Ue,ze,ne,{})}}export{et as component,xe as universal};
