import{E as Le,A as te,F as W,i as Me,j as Be,h as Q,a as Ae,c as qe,P as Ue,n as J,g as X,k as Ie,d as z,s as he}from"../chunks/eslint4b.es.291451ed.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.0e3888ae.js";import{S as ie,i as oe,s as se,k as w,y as I,a as B,l as C,m as E,z as N,h as m,c as A,n as p,b as D,H as T,A as V,M as U,Z as ae,g as k,d as x,B as S,O as le,a6 as ve,e as ee,v as Y,f as Z,W as je,o as He,w as be,Y as $e,_ as ye,R as ke,J as We,a3 as ze,a4 as Ke,I as re,$ as ne,a5 as we,a0 as ce,a1 as fe,q as Ne,r as Ve,u as Re}from"../chunks/index.59d1c272.js";import{g as Ge}from"../chunks/stores.78226074.js";import{M as Je,E as Xe}from"../chunks/ErrorMessage.13e1af6e.js";import{T as Ye,a as Ze}from"../chunks/TablePlaceholder.f956c013.js";import{b as K}from"../chunks/stores.50b218e7.js";import{K as Qe,V as et,v as Ce,w as Ee,T as Te}from"../chunks/vest.production.0974e7aa.js";function tt(){return console.log(Le),{}}const Dt=Object.freeze(Object.defineProperty({__proto__:null,load:tt},Symbol.toStringTag,{value:"Module"})),rt=async()=>{try{const i=await te.get("/rpm/ExternalLink/GetPrefixCategories");return console.log("ðŸš€ ~ file: services.ts:8 ~ getLinks ~ response.data:",i.data),i.data}catch(i){throw console.error(i),i}},nt=async i=>{try{return await te.delete("/rpm/ExternalLink/DeletePrefixCategory?id="+i,null)}catch(e){throw console.error(e),e}},at=async i=>{try{return await te.post("/rpm/ExternalLink/CreatePrefixCategories",i)}catch(e){throw console.error(e),e}},it=async i=>{try{return await te.post("/rpm/ExternalLink/updatePrefixCategories",i)}catch(e){throw console.error(e),e}};function ot(i){let e,n,t,r,a,o,s,c,d,b,_,g,h,P;return r=new W({props:{icon:Me}}),d=new W({props:{icon:Be}}),{c(){e=w("tableOption"),n=w("div"),t=w("button"),I(r.$$.fragment),s=B(),c=w("button"),I(d.$$.fragment),this.h()},l(f){e=C(f,"TABLEOPTION",{});var l=E(e);n=C(l,"DIV",{class:!0});var u=E(n);t=C(u,"BUTTON",{type:!0,class:!0,title:!0,id:!0});var $=E(t);N(r.$$.fragment,$),$.forEach(m),s=A(u),c=C(u,"BUTTON",{type:!0,class:!0,title:!0,id:!0});var F=E(c);N(d.$$.fragment,F),F.forEach(m),u.forEach(m),l.forEach(m),this.h()},h(){p(t,"type","button"),p(t,"class","chip variant-filled-primary shadow-md"),p(t,"title",a="Edit External Link, "+i[0].name),p(t,"id",o="edit-"+i[0].id),p(c,"type","button"),p(c,"class","chip variant-filled-error shadow-md"),p(c,"title",b="Delete External Link, "+i[0].name),p(c,"id",_="delete-"+i[0].id),p(n,"class","w-18")},m(f,l){D(f,e,l),T(e,n),T(n,t),V(r,t,null),T(n,s),T(n,c),V(d,c,null),g=!0,h||(P=[U(t,"mouseover",i[2]),U(t,"click",ae(i[3])),U(c,"mouseover",i[4]),U(c,"click",ae(i[5]))],h=!0)},p(f,[l]){(!g||l&1&&a!==(a="Edit External Link, "+f[0].name))&&p(t,"title",a),(!g||l&1&&o!==(o="edit-"+f[0].id))&&p(t,"id",o),(!g||l&1&&b!==(b="Delete External Link, "+f[0].name))&&p(c,"title",b),(!g||l&1&&_!==(_="delete-"+f[0].id))&&p(c,"id",_)},i(f){g||(k(r.$$.fragment,f),k(d.$$.fragment,f),g=!0)},o(f){x(r.$$.fragment,f),x(d.$$.fragment,f),g=!1},d(f){f&&m(e),S(r),S(d),h=!1,le(P)}}}function st(i,e,n){let{row:t}=e,{dispatchFn:r}=e;const a=()=>{Q.show("edit")},o=()=>r({type:{action:"edit",id:t.id}}),s=()=>{Q.show("delete")},c=()=>r({type:{action:"delete",id:t.id}});return i.$$set=d=>{"row"in d&&n(0,t=d.row),"dispatchFn"in d&&n(1,r=d.dispatchFn)},[t,r,a,o,s,c]}class lt extends ie{constructor(e){super(),oe(this,e,st,ot,se,{row:0,dispatchFn:1})}}const H=Qe((i={},e)=>{et(e),Ce("name","name is required",()=>{Ee(i.name).isNotBlank()}),Ce("name","name allready exist.",()=>{const n=ve(K).map(a=>a.name),t=i.id>0?ve(K).find(a=>a.id==i.id):{id:0,name:""},r=t?n.filter(a=>a!=t.name):n;Ee(i.name).notInside(r)})}),ct=[{id:"create",name:"Create neáº‡ prefix category",description:"Click here to ceate a new prefix category"},{id:"delete",name:"Delete prefix category",description:"Click here to detete the prefix category"},{id:"edit",name:"Edit prefix category",description:"Click here to edit the prefix category"},{id:"save",name:"Save prefix category",description:"Click here to save the prefix category"},{id:"cancel",name:"Cancel",description:"Click here to cancel"},{id:"name",name:"Name",description:"Name of the prefix category. <li>Has to be unique.</li>"},{id:"description",name:"Description",description:"More details information about the prefix category."}];function xe(i){let e,n,t,r,a,o,s,c,d,b,_,g,h,P,f,l,u,$,F,q,y,L,R;function Se(v){i[7](v)}let ue={id:"name",placeholder:"Name",valid:i[1].isValid("name"),invalid:i[1].hasErrors("name"),feedback:i[1].getErrors("name"),help:Pe};i[0].name!==void 0&&(ue.value=i[0].name),a=new Te({props:ue}),be.push(()=>$e(a,"value",Se)),a.$on("change",i[8]),a.$on("input",i[4]);function Oe(v){i[9](v)}let de={id:"description",placeholder:"Description",help:Pe};return i[0].description!==void 0&&(de.value=i[0].description),d=new Te({props:de}),be.push(()=>$e(d,"value",Oe)),d.$on("change",i[10]),P=new W({props:{icon:Ae}}),u=new W({props:{icon:qe}}),{c(){e=w("form"),n=w("div"),t=w("div"),r=w("div"),I(a.$$.fragment),s=B(),c=w("div"),I(d.$$.fragment),_=B(),g=w("div"),h=w("button"),I(P.$$.fragment),f=B(),l=w("button"),I(u.$$.fragment),this.h()},l(v){e=C(v,"FORM",{});var O=E(e);n=C(O,"DIV",{id:!0,class:!0});var M=E(n);t=C(M,"DIV",{class:!0});var j=E(t);r=C(j,"DIV",{class:!0});var pe=E(r);N(a.$$.fragment,pe),pe.forEach(m),s=A(j),c=C(j,"DIV",{class:!0});var me=E(c);N(d.$$.fragment,me),me.forEach(m),j.forEach(m),_=A(M),g=C(M,"DIV",{class:!0});var G=E(g);h=C(G,"BUTTON",{type:!0,class:!0,title:!0,id:!0});var _e=E(h);N(P.$$.fragment,_e),_e.forEach(m),f=A(G),l=C(G,"BUTTON",{type:!0,class:!0,title:!0,id:!0});var ge=E(l);N(u.$$.fragment,ge),ge.forEach(m),G.forEach(m),M.forEach(m),O.forEach(m),this.h()},h(){p(r,"class","grow"),p(c,"class","grow"),p(t,"class","flex gap-5 grow"),p(h,"type","button"),p(h,"class","btn variant-filled-warning h-9 w-16 shadow-md"),p(h,"title","Cancel"),p(h,"id","cancel"),p(l,"type","submit"),p(l,"class","btn variant-filled-primary h-9 w-16 shadow-md"),p(l,"title",$="Save prefix category, "+i[0].name),p(l,"id","save"),l.disabled=F=!i[3],p(g,"class","py-5 text-right col-span-2"),p(n,"id",q="prefixCategory-"+i[0].id+"-form"),p(n,"class","space-y-5 card shadow-md p-5")},m(v,O){D(v,e,O),T(e,n),T(n,t),T(t,r),V(a,r,null),T(t,s),T(t,c),V(d,c,null),T(n,_),T(n,g),T(g,h),V(P,h,null),T(g,f),T(g,l),V(u,l,null),y=!0,L||(R=[U(h,"click",i[11]),U(e,"submit",ae(i[6]))],L=!0)},p(v,O){const M={};O&2&&(M.valid=v[1].isValid("name")),O&2&&(M.invalid=v[1].hasErrors("name")),O&2&&(M.feedback=v[1].getErrors("name")),!o&&O&1&&(o=!0,M.value=v[0].name,ye(()=>o=!1)),a.$set(M);const j={};!b&&O&1&&(b=!0,j.value=v[0].description,ye(()=>b=!1)),d.$set(j),(!y||O&1&&$!==($="Save prefix category, "+v[0].name))&&p(l,"title",$),(!y||O&8&&F!==(F=!v[3]))&&(l.disabled=F),(!y||O&1&&q!==(q="prefixCategory-"+v[0].id+"-form"))&&p(n,"id",q)},i(v){y||(k(a.$$.fragment,v),k(d.$$.fragment,v),k(P.$$.fragment,v),k(u.$$.fragment,v),y=!0)},o(v){x(a.$$.fragment,v),x(d.$$.fragment,v),x(P.$$.fragment,v),x(u.$$.fragment,v),y=!1},d(v){v&&m(e),S(a),S(d),S(P),S(u),L=!1,le(R)}}}function ft(i){let e,n,t=i[2]&&xe(i);return{c(){t&&t.c(),e=ee()},l(r){t&&t.l(r),e=ee()},m(r,a){t&&t.m(r,a),D(r,e,a),n=!0},p(r,[a]){r[2]?t?(t.p(r,a),a&4&&k(t,1)):(t=xe(r),t.c(),k(t,1),t.m(e.parentNode,e)):t&&(Y(),x(t,1,1,()=>{t=null}),Z())},i(r){n||(k(t),n=!0)},o(r){x(t),n=!1},d(r){t&&t.d(r),r&&m(e)}}}let Pe=!0;function ut(i,e,n){let t,{prefixCategory:r}=e,a=!1,o=H.get();const s=je();He(()=>{Q.setHelpItemList(ct),H.reset(),setTimeout(async()=>{r.id>0&&n(1,o=H(r,""))},10),n(2,a=!0)});function c(l){setTimeout(async()=>{n(1,o=H(r,l.target.id))},100)}function d(){H.reset(),s("cancel")}async function b(){var l=await(r.id==0)?at(r):it(r);(await l).status===200?s("success"):s("fail"),H.reset()}function _(l){i.$$.not_equal(r.name,l)&&(r.name=l,n(0,r))}function g(l){ke.call(this,i,l)}function h(l){i.$$.not_equal(r.description,l)&&(r.description=l,n(0,r))}function P(l){ke.call(this,i,l)}const f=()=>d();return i.$$set=l=>{"prefixCategory"in l&&n(0,r=l.prefixCategory)},i.$$.update=()=>{i.$$.dirty&1,i.$$.dirty&2&&n(3,t=o.isValid())},[r,o,a,t,c,d,b,_,g,h,P,f]}class dt extends ie{constructor(e){super(),oe(this,e,ut,ft,se,{prefixCategory:0})}}function pt(i){let e,n;return e=new Xe({props:{error:i[18]}}),{c(){I(e.$$.fragment)},l(t){N(e.$$.fragment,t)},m(t,r){V(e,t,r),n=!0},p:re,i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){x(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function mt(i){let e,n,t,r,a,o,s,c,d,b,_;const g=[gt,_t],h=[];function P(u,$){return u[0].id<1?0:1}t=P(i),r=h[t]=g[t](i);let f=!i[1]&&De(i),l=i[1]&&Fe(i);return b=new Ye({props:{config:i[3]}}),b.$on("action",i[13]),{c(){e=w("div"),n=w("div"),r.c(),a=B(),o=w("div"),f&&f.c(),s=B(),l&&l.c(),c=B(),d=w("div"),I(b.$$.fragment),this.h()},l(u){e=C(u,"DIV",{class:!0});var $=E(e);n=C($,"DIV",{class:!0});var F=E(n);r.l(F),F.forEach(m),a=A($),o=C($,"DIV",{class:!0});var q=E(o);f&&f.l(q),q.forEach(m),$.forEach(m),s=A(u),l&&l.l(u),c=A(u),d=C(u,"DIV",{class:!0});var y=E(d);N(b.$$.fragment,y),y.forEach(m),this.h()},h(){p(n,"class","h3 h-9"),p(o,"class","text-right"),p(e,"class","grid grid-cols-2 gap-5 my-4 pb-1 border-b border-primary-500"),p(d,"class","table table-compact w-full")},m(u,$){D(u,e,$),T(e,n),h[t].m(n,null),T(e,a),T(e,o),f&&f.m(o,null),D(u,s,$),l&&l.m(u,$),D(u,c,$),D(u,d,$),V(b,d,null),_=!0},p(u,$){let F=t;t=P(u),t===F?h[t].p(u,$):(Y(),x(h[F],1,1,()=>{h[F]=null}),Z(),r=h[t],r?r.p(u,$):(r=h[t]=g[t](u),r.c()),k(r,1),r.m(n,null)),u[1]?f&&(Y(),x(f,1,1,()=>{f=null}),Z()):f?(f.p(u,$),$&2&&k(f,1)):(f=De(u),f.c(),k(f,1),f.m(o,null)),u[1]?l?(l.p(u,$),$&2&&k(l,1)):(l=Fe(u),l.c(),k(l,1),l.m(c.parentNode,c)):l&&(Y(),x(l,1,1,()=>{l=null}),Z())},i(u){_||(k(r),k(f),k(l),k(b.$$.fragment,u),_=!0)},o(u){x(r),x(f),x(l),x(b.$$.fragment,u),_=!1},d(u){u&&m(e),h[t].d(),f&&f.d(),u&&m(s),l&&l.d(u),u&&m(c),u&&m(d),S(b)}}}function _t(i){let e,n=i[0].name+"",t,r,a,o;return{c(){e=w("span"),t=Ne(n)},l(s){e=C(s,"SPAN",{});var c=E(e);t=Ve(c,n),c.forEach(m)},m(s,c){D(s,e,c),T(e,t),o=!0},p(s,c){(!o||c&1)&&n!==(n=s[0].name+"")&&Re(t,n)},i(s){o||(ne(()=>{o&&(a&&a.end(1),r=ce(e,z,{delay:400}),r.start())}),o=!0)},o(s){r&&r.invalidate(),a=fe(e,z,{}),o=!1},d(s){s&&m(e),s&&a&&a.end()}}}function gt(i){let e,n,t,r,a;return{c(){e=w("span"),n=Ne("Create neáº‡ Prefix Category")},l(o){e=C(o,"SPAN",{});var s=E(e);n=Ve(s,"Create neáº‡ Prefix Category"),s.forEach(m)},m(o,s){D(o,e,s),T(e,n),a=!0},p:re,i(o){a||(ne(()=>{a&&(r&&r.end(1),t=ce(e,z,{delay:400}),t.start())}),a=!0)},o(o){t&&t.invalidate(),r=fe(e,z,{}),a=!1},d(o){o&&m(e),o&&r&&r.end()}}}function De(i){let e,n,t,r,a,o;return n=new W({props:{icon:Ie}}),{c(){e=w("button"),I(n.$$.fragment),this.h()},l(s){e=C(s,"BUTTON",{class:!0,title:!0,id:!0});var c=E(e);N(n.$$.fragment,c),c.forEach(m),this.h()},h(){p(e,"class","btn variant-filled-secondary shadow-md h-9 w-16"),p(e,"title","Create neáº‡ Prefix Category"),p(e,"id","create")},m(s,c){D(s,e,c),V(n,e,null),r=!0,a||(o=[U(e,"mouseover",i[9]),U(e,"click",i[10])],a=!0)},p:re,i(s){r||(k(n.$$.fragment,s),ne(()=>{r&&(t||(t=we(e,z,{},!0)),t.run(1))}),r=!0)},o(s){x(n.$$.fragment,s),t||(t=we(e,z,{},!1)),t.run(0),r=!1},d(s){s&&m(e),S(n),s&&t&&t.end(),a=!1,le(o)}}}function Fe(i){let e,n,t,r,a;return n=new dt({props:{prefixCategory:i[0]}}),n.$on("cancel",i[11]),n.$on("success",i[12]),n.$on("fail",i[8]),{c(){e=w("div"),I(n.$$.fragment)},l(o){e=C(o,"DIV",{});var s=E(e);N(n.$$.fragment,s),s.forEach(m)},m(o,s){D(o,e,s),V(n,e,null),a=!0},p(o,s){const c={};s&1&&(c.prefixCategory=o[0]),n.$set(c)},i(o){a||(k(n.$$.fragment,o),ne(()=>{a&&(r&&r.end(1),t=ce(e,he,{}),t.start())}),a=!0)},o(o){x(n.$$.fragment,o),t&&t.invalidate(),r=fe(e,he,{}),a=!1},d(o){o&&m(e),S(n),o&&r&&r.end()}}}function ht(i){let e,n,t,r,a,o,s,c,d,b;return o=new W({props:{icon:Ie}}),d=new Ze({props:{cols:5}}),{c(){e=w("div"),n=w("div"),t=B(),r=w("div"),a=w("button"),I(o.$$.fragment),s=B(),c=w("div"),I(d.$$.fragment),this.h()},l(_){e=C(_,"DIV",{class:!0});var g=E(e);n=C(g,"DIV",{class:!0}),E(n).forEach(m),t=A(g),r=C(g,"DIV",{class:!0});var h=E(r);a=C(h,"BUTTON",{class:!0});var P=E(a);N(o.$$.fragment,P),P.forEach(m),h.forEach(m),g.forEach(m),s=A(_),c=C(_,"DIV",{class:!0});var f=E(c);N(d.$$.fragment,f),f.forEach(m),this.h()},h(){p(n,"class","h-9 w-96 placeholder animate-pulse"),p(a,"class","btn placeholder animate-pulse shadow-md h-9 w-16"),p(r,"class","flex justify-end"),p(e,"class","grid w-full grid-cols-2 gap-5 my-4 pb-1 border-b border-primary-500"),p(c,"class","table-container w-full")},m(_,g){D(_,e,g),T(e,n),T(e,t),T(e,r),T(r,a),V(o,a,null),D(_,s,g),D(_,c,g),V(d,c,null),b=!0},p:re,i(_){b||(k(o.$$.fragment,_),k(d.$$.fragment,_),b=!0)},o(_){x(o.$$.fragment,_),x(d.$$.fragment,_),b=!1},d(_){_&&m(e),S(o),_&&m(s),_&&m(c),S(d)}}}function vt(i){let e,n,t={ctx:i,current:null,token:null,hasCatch:!0,pending:ht,then:mt,catch:pt,error:18,blocks:[,,,]};return ze(i[2](),t),{c(){e=ee(),t.block.c()},l(r){e=ee(),t.block.l(r)},m(r,a){D(r,e,a),t.block.m(r,t.anchor=a),t.mount=()=>e.parentNode,t.anchor=e,n=!0},p(r,a){i=r,Ke(t,i,a)},i(r){n||(k(t.block),n=!0)},o(r){for(let a=0;a<3;a+=1){const o=t.blocks[a];x(o)}n=!1},d(r){r&&m(e),t.block.d(r),t.token=null,t=null}}}function bt(i){let e,n,t,r;return e=new Ue({props:{help:!0,title:"Manage External Links",$$slots:{default:[vt]},$$scope:{ctx:i}}}),t=new Je({}),{c(){I(e.$$.fragment),n=B(),I(t.$$.fragment)},l(a){N(e.$$.fragment,a),n=A(a),N(t.$$.fragment,a)},m(a,o){V(e,a,o),D(a,n,o),V(t,a,o),r=!0},p(a,[o]){const s={};o&524291&&(s.$$scope={dirty:o,ctx:a}),e.$set(s)},i(a){r||(k(e.$$.fragment,a),k(t.$$.fragment,a),r=!0)},o(a){x(e.$$.fragment,a),x(t.$$.fragment,a),r=!1},d(a){S(e,a),a&&m(n),S(t,a)}}}function $t(i,e,n){let t;We(i,K,y=>n(15,t=y));const r=Ge();let a=[],o={id:0,name:"",description:""},s=!1;async function c(){n(1,s=!1),a=await rt(),console.log("ðŸš€ ~ file: +page.svelte:39 ~ reload ~ prefixCategories:",a),n(0,o={id:0,name:"",description:""}),K.set(a),console.log("store",t)}const d={id:"ExternalLinks",data:K,optionsComponent:lt,columns:{id:{fixedWidth:100},versionNo:{disableFiltering:!0,disableSorting:!0,exclude:!0},extra:{disableFiltering:!0,disableSorting:!0,exclude:!0},optionsColumn:{fixedWidth:100}}};function b(){s&&_(),n(1,s=!s)}function _(){n(0,o={id:0,name:"",description:""}),n(1,s=!1)}function g(y){if(console.log("ðŸš€ ~ file: +page.svelte:88 ~ edit ~ type:",y),y.action=="edit"&&(n(1,s=!1),n(0,o=t.find(L=>L.id===y.id)),n(1,s=!0)),y.action=="delete"){console.log("ðŸš€ ~ file: +page.svelte:97 ~ edit ~ type.action:",y.action);const L={type:"confirm",title:"Delete Prefix Category",body:"Are you sure you wish to delete Prefix Category "+o.name+"?",response:R=>{R===!0&&h(y.id)}};r.trigger(L)}}async function h(y){console.log("ðŸš€ ~ file: +page.svelte:112 ~ deleteFn ~ id:",y),await nt(y)?(J.showNotification({notificationType:X.success,message:"Prefix Category deleted."}),c()):J.showNotification({notificationType:X.error,message:"Can't delete Prefix Category."})}function P(y){const L=y>0?"Prefix Category updated.":"Prefix Category created.";J.showNotification({notificationType:X.success,message:L}),n(1,s=!1),setTimeout(async()=>{c()},10)}function f(){J.showNotification({notificationType:X.error,message:"Can't save Prefix Category."})}return[o,s,c,d,b,_,g,P,f,()=>{Q.show("create")},()=>b(),()=>_(),()=>P(o.id),y=>g(y.detail.type)]}class Ft extends ie{constructor(e){super(),oe(this,e,$t,bt,se,{})}}export{Ft as component,Dt as universal};
