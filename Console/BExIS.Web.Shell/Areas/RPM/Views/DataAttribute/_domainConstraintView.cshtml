@model BExIS.Web.Shell.Areas.RPM.Models.DomainConstraintModel

@using BExIS.Web.Shell.Areas.RPM.Helpers;
@using BExIS.Web.Shell.Areas.RPM.Models;

@using (Html.BeginCollectionItem("DomainConstraints"))
{ 
    <table class="bx-rpm-container bx-rpm-constrainTable" id="domainConstraint">
        <tr>
            <td class="bx-rpm-constrainlabel">
                Domain
                @Html.HiddenFor(m=>m.Id)
            </td>
            <td class="bx-rpm-negated">
                <!--Negated-->
                <div class="bx-rpm-container">
                    <div class="bx-rpm-text">@Html.Label("invert")</div>
                    @Html.CheckBoxFor(m => m.Negated, new { @class = "checkBox", @id = "domain_invert"})
                </div>
            </td>
            <td class="bx-rpm-constrainValue">
                <div class="bx-rpm-container">
                    <div class="bx-rpm-text">@Html.Label("Terms")</div>
                    @Html.TextBoxFor(m => m.Terms, new {@id = "domain_terms", @class = "bx-input" })
                </div>
                <div class="bx-function bx-info" title="@Model.FormalDescription" id="domain_FormalDescription"></div>
            </td>
            <td class="bx-rpm-constrainDesc">
                <div class="bx-rpm-container">
                    <div class="bx-rpm-text">@Html.Label("Description")</div>
                    @Html.TextBoxFor(m => m.Description, new { @class = "bx-input" })
                </div>
            </td>
        </tr>
    </table>
}

<script type="text/jscript">

    $('#domainConstraint').change(function () {

        if ($('#domain_invert').is(":checked")) {
            $('#domain_invert').val(true)
        }
        else
        {
            $('#domain_invert').val(false)
        }

        var variables = '?invert=' + $('#domain_invert').val() + '&Terms=' + $('#domain_terms').val();

        $.getJSON('/RPM/DataAttribute/getDomainConstraintFormalDescription/' + variables, function (data) {
            $('#domain_FormalDescription').attr("title", data);
        });
    })

</script>

@*<script>

    $("#addDomainItem").unbind().click(function () {

    
        $.ajax({
            url: this.href,
            cache: false,
            success: function (html) { $("#domainItems").append(html); }
        });

        return false;
    });

    $("a.removeDomainItem").live("click", function () {
        $(this).parents("div.domainItem:first").remove();
        return false;
    });

</script>*@