@using BExIS.Modules.Sam.UI.Models
@using Telerik.Web.Mvc.UI

@(Html.Telerik().Grid<SelectableSubjectGridRowModel>()
    .Name("gridGroups")
    .Columns(columns =>
    {
        columns.Bound(g => g.IsSelected)
            .Template(@<text>
            @if (item.IsSelected)
            {
                <input type='checkbox' onchange='setSelection(this.checked, @item.Id);' name='selectedSubjects' value='@item.Id' checked='checked' />
            }
            else
            {
                <input type='checkbox' onchange='setSelection(this.checked, @item.Id);' name='selectedSubjects' value='@item.Id' />
            }
            </text>)
            .ClientTemplate("<input type='checkbox' onchange='setSelection(this.checked, <#= Id #>);' name='selectedSubjects' value='<#= Id #>' <#= IsSelected ? checked='checked' : '' #> />")
            .Title("Member")
            .Width(64)
            .Filterable(false)
            .HtmlAttributes(new { style = "text-align:center" });
        columns.Bound(g => g.Id);
        columns.Bound(g => g.Name);
        columns.Bound(g => g.Type);
    })
    .ClientEvents(events =>
    {
        events.OnDataBound("onDataBound");
    })
    .DataBinding(dataBinding => dataBinding
        .Ajax()
        .Select("Subjects_Select", "FeaturePermissions")
    )
    .EnableCustomBinding(true)
    .Filterable()
    .Pageable(pageable =>
    {
        pageable.PageSize(10, new[] { 10, 20, 50, 100 });
        pageable.Style(GridPagerStyles.NextPreviousAndNumeric | GridPagerStyles.PageSizeDropDown);
        pageable.Position(GridPagerPosition.Bottom);
    })
    .Sortable(sortable => sortable.OrderBy(order => order.Add(c => c.Id).Descending())))