@*edited on Bexis*@

@model String
@using BExIS.Modules.Ddm.UI.Helpers;
@using BExIS.Utils.Models;
@using BExIS.Dlm.Entities.DataStructure;

@{
    List<VariableInstance> Variables = new List<VariableInstance>();
    if (Session["Variables"] != null)
    {
        Variables = (List<VariableInstance>)Session["Variables"];
    }
    var xx = Variables.ToList<VariableInstance>().OrderBy(x => x.Label).Select(c => new { id = c.Id, label = c.Id + " - " + c.Label });


    int var_count = int.Parse(Model);

    <div id="variable_node_container_@var_count" class="variable_node_container_@var_count">
        <div>

                                    @Html.DropDownListFor(m => xx,
                                                    new SelectList(
                                                        xx,
                                                        "id",
                                                        "label"),
                                                    "Select, please"
                                    )
        </div>
        <div class="col-lg-1 text-left vcenter">
            <a class="removeVariableNode " onclick="delete_node('variable_node_container_@var_count')">
                <span class="glyphicon glyphicon-remove-circle"></span>
            </a>
        </div><br />
    </div>


}
@*
    <div class="metadataNode row">
        @using (Html.BeginCollectionItem("metadataNames"))
        {
            <div class="col-lg-10 vcenter">
                @Html.DropDownListFor(m => m, new SelectList(metadataNodes.OrderBy(s => s.DisplayNameLong), "XPath", "DisplayNameLong", Model), "Please select", new { title = "Corresponding metadata node to be used for the Lucene index." })
            </div>
            <div class="col-lg-1 text-left vcenter">
                <a href="#" class="removeMetadataNode bx-trash bx-function"></a>
            </div>
            //@Html.TextBoxFor(m => m);

            }
            </div>
*@
<style type="text/css">

    .metadataNode select {
        width: 100%;
    }

    .metadataNode {
        width: 95%;
        margin: 0;
    }
</style>
