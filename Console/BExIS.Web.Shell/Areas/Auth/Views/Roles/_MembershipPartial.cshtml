@using Telerik.Web.Mvc.UI;
@using BExIS.Web.Shell.Areas.Auth.Models;

@model List<RoleUserModel>

@*<script src="@Url.Content("~/Scripts/jquery-1.7.1.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.unobtrusive-ajax.js")" type="text/javascript"></script>*@

@(Html.Telerik().Grid(Model)
    .Name("Grid_RoleMembership")
    .HtmlAttributes(new { style = "width: 800px" } )
    .DataKeys(keys =>
    {
        keys.Add(u => u.Id);
    })
    .Columns(columns =>
    {
        columns.Bound(u => u.UserInRole)
            .ClientTemplate("<input type='checkbox' onclick='setMembership(this.checked, <#= Id #>, <#= RoleId #>);' name='nothing' <#= UserInRole ? checked='checked' : '' #> />")
                   .Title("Check")
                   .Width(50)
                   .HtmlAttributes(new { style = "text-align:center" });
        columns.Bound(u => u.Id).Width(100);
        columns.Bound(u => u.UserName).Width(200);
        columns.Bound(u => u.Email);
    })
    .DataBinding(dataBinding => dataBinding
        .Ajax()
        .Select("RoleMembership_Select", "Roles", (long)ViewData["roleID"])
    )
    .Filterable()
    .Sortable(sortable => sortable
        .OrderBy(orderby => orderby
            .Add(u => u.UserName)
            .Ascending()
        )
    )
    .Scrollable(scrollable => scrollable.Height(475))
)