@using Telerik.Web.Mvc.UI
@using System.Linq;
@model Int64

@{ 
    Int64 id =  Model ;
}
@(Html.Telerik().TabStrip()
	.Name("SummaryTab")
	.SelectedIndex(0)
	.Items(tabs =>
	{

		if (id == 361){
			tabs.Add()
				.Text("Analysis")
				.LoadContentFrom("Specialdatasetanalysis", "SummaryAnalysis");
			tabs.Add()
				.Selected(true)
				.Text("Old Analysis")
				.LoadContentFrom("Specialdatasetanalysis", "DataSetSummary");
		}
		else {

			tabs.Add()
				.Selected(true)
				.Text("New Categoral Analysis")
				.LoadContentFrom("CategoralAnalysisAsync", "SummaryAnalysis", new { area = "asm", id = id });

			//.HtmlAttributes(new { id = "CategoralAnalysis" });

			tabs.Add()
				.Text("Semantic Analysis")
				.LoadContentFrom("Summary", "SummaryAnalysis", new { area = "asm", id = id })
				.HtmlAttributes(new { id = "classification" });

			tabs.Add()
				.Selected(true)
				.Text("Old Categoral Analysis")
				.LoadContentFrom("CategoralAnalysisAsync", "DataSetSummary", new { area = "asm", id = id })
				.HtmlAttributes(new { id = "CategoralAnalysis" });


		}
	})
	.ClientEvents(e => e.OnSelect("OnSelectShowDataTabStrip")))

<script type="text/javascript">
    	function OnSelectShowDataTabStrip(e) {
		    $("#preloaderContainer").preloader(20, "Loading...");

		    if (e.item.id == "prepare") {

			    var tabStrip = $("#SummaryTab").data("tTabStrip");
			    tabStrip.reload($("#" + e.item.id));
            }
            $("#preloaderContainer").removePreloader();
	}
</script>
