@model BExIS.Web.Shell.Areas.DCM.Models.ImportMetadata.ParametersModel
@using Telerik.Web.Mvc.UI;
@using System;
@using System.Web.Configuration;
@using BExIS.Web.Shell.Areas.DCM.Models;

@{
    

}

@using (Ajax.BeginForm("Save", "ImportMetadataStructureSetParameters", new AjaxOptions
{
    HttpMethod = "Post",
    UpdateTargetId = "ImportMetadataStructureSetParameters",
    OnSuccess = "OnSuccess",
    OnFailure = "OnFailure"
}))
{

<div id="ImportMetadataStructureSetParameters" class="wizardStep">

     <div class="wizardStep_Main">
        <div class="wizardStep_Header stepper">

            <h3>@Model.StepInfo.title</h3>
        </div>

        <div class="wizardStep_Description stepper">
            

        </div>
        
        <div class="wizardStep_Content stepper">
            <table>
                <tr>
                    <td>
                        @Html.LabelFor(m => m.TitleNode)
                    </td>
                    <td>
                        @Html.DropDownListFor(m => m.TitleNode, new SelectList(Model.MetadataNodes, "XPath", "XPath"))
                    </td>
                </tr>
                 <tr>
                    <td>
                        @Html.LabelFor(m => m.DescriptionNode)
                    </td>
                     <td>
                         @Html.DropDownListFor(m => m.DescriptionNode, new SelectList(Model.MetadataNodes, "XPath", "XPath"))
                    </td>
                </tr>
            </table>
            <br />
            <button type="submit" value="Save" name="submit"  class="t-button " >save</button>
        </div>
    </div>

     <div class="wizardStep_Success stepper">
 
           @if (Model != null)
           {
               if (Model.ErrorList != null)
               {
                   if (Model.ErrorList.Count == 0)
                   {
                       if (!Model.StepInfo.notExecuted) { <b>saved.</b>}

                   }
               }
           }
     </div>

     <div class="wizardStep_Error stepper">

        @Html.ValidationSummary(true)

        @if (Model != null)
        {
            if (Model.ErrorList != null)
            {
                if (Model.ErrorList.Count == 0)
                {


                }
                else
                { 
                   <ul>
                        @foreach (BExIS.IO.Transform.Validation.Exceptions.Error s in @Model.ErrorList)
                        { 
                            <li>@s.ToString()</li>
                        }
                   </ul>

                }
            }

        }
    </div>     

</div>

}

<script type="text/javascript">

    function OnSuccess() {
     
    }

    function OnFailure(response) {
   
    }
</script>