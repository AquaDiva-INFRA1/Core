import{A as Te,p as Ze,a as $e}from"../chunks/eslint4b.es.3a44f70d.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.684c05eb.js";import{S as _e,i as me,s as he,y as P,z as A,A as U,g,d as v,B as j,k as S,l as V,n as q,J as le,b as O,K as fe,h,L as ke,M as te,N as ve,O as Qe,a as z,q as Z,m as F,c as K,r as $,G as b,u as ie,v as ae,f as re,P as Ee,Q as We,R as xe,T as el,U as ll,e as Ce,w as ue,V as se,W as oe,o as Ye,H as Ie,X as nl,Y as tl,Z as il,_ as al}from"../chunks/index.8af2c804.js";import{F as qe,f as rl,a as fl,b as ul,P as sl,c as Be}from"../chunks/Page.242fe422.js";import{S as Se}from"../chunks/Spinner.ad25fb56.js";import{I as Ve,T as ol}from"../chunks/TextInput.add658f8.js";import{T as cl,K as dl,V as _l,B as ml,v as hl,w as gl,C as bl}from"../chunks/vest.production.149b3eca.js";import{g as pl}from"../chunks/BaseCaller.6db8103b.js";function vl(i){let e,n,t;return{c(){e=S("input"),this.h()},l(a){e=V(a,"INPUT",{id:!0,class:!0,type:!0}),this.h()},h(){q(e,"id",i[1]),q(e,"class","input variant-form-material"),q(e,"type","checkbox"),le(e,"input-success",i[3]),le(e,"input-error",i[4])},m(a,u){O(a,e,u),e.checked=i[0],n||(t=[fe(e,"change",i[8]),fe(e,"input",i[7])],n=!0)},p(a,u){u&2&&q(e,"id",a[1]),u&1&&(e.checked=a[0]),u&8&&le(e,"input-success",a[3]),u&16&&le(e,"input-error",a[4])},d(a){a&&h(e),n=!1,ke(t)}}}function kl(i){let e,n;return e=new Ve({props:{label:i[2],feedback:i[6],required:i[5],$$slots:{default:[vl]},$$scope:{ctx:i}}}),{c(){P(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,a){U(e,t,a),n=!0},p(t,[a]){const u={};a&4&&(u.label=t[2]),a&64&&(u.feedback=t[6]),a&32&&(u.required=t[5]),a&539&&(u.$$scope={dirty:a,ctx:t}),e.$set(u)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){j(e,t)}}}function El(i,e,n){let{id:t=""}=e,{label:a=""}=e,{checked:u=!1}=e,{valid:l}=e,{invalid:r}=e,{required:f}=e,{feedback:s}=e;function o(c){te.call(this,i,c)}function m(){u=this.checked,n(0,u)}return i.$$set=c=>{"id"in c&&n(1,t=c.id),"label"in c&&n(2,a=c.label),"checked"in c&&n(0,u=c.checked),"valid"in c&&n(3,l=c.valid),"invalid"in c&&n(4,r=c.invalid),"required"in c&&n(5,f=c.required),"feedback"in c&&n(6,s=c.feedback)},[u,t,a,l,r,f,s,o,m]}class wl extends _e{constructor(e){super(),me(this,e,El,kl,he,{id:1,label:2,checked:0,valid:3,invalid:4,required:5,feedback:6})}}function ql(i){let e,n,t;return{c(){e=S("input"),this.h()},l(a){e=V(a,"INPUT",{id:!0,class:!0,type:!0}),this.h()},h(){q(e,"id",i[1]),q(e,"class","input variant-form-material"),q(e,"type","date"),e.disabled=i[8],le(e,"input-success",i[3]),le(e,"input-error",i[4])},m(a,u){O(a,e,u),ve(e,i[0]),n||(t=[fe(e,"input",i[10]),fe(e,"input",i[9])],n=!0)},p(a,u){u&2&&q(e,"id",a[1]),u&256&&(e.disabled=a[8]),u&1&&ve(e,a[0]),u&8&&le(e,"input-success",a[3]),u&16&&le(e,"input-error",a[4])},d(a){a&&h(e),n=!1,ke(t)}}}function Tl(i){let e,n;return e=new Ve({props:{id:i[1],label:i[2],feedback:i[6],required:i[5],help:i[7],$$slots:{default:[ql]},$$scope:{ctx:i}}}),{c(){P(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,a){U(e,t,a),n=!0},p(t,[a]){const u={};a&2&&(u.id=t[1]),a&4&&(u.label=t[2]),a&64&&(u.feedback=t[6]),a&32&&(u.required=t[5]),a&128&&(u.help=t[7]),a&2331&&(u.$$scope={dirty:a,ctx:t}),e.$set(u)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){j(e,t)}}}function Il(i,e,n){let{id:t=""}=e,{label:a=""}=e,{value:u=""}=e,{valid:l=!1}=e,{invalid:r=!1}=e,{required:f=!1}=e,{feedback:s=[""]}=e,{help:o=!1}=e,{disabled:m=!1}=e;function c(k){te.call(this,i,k)}function I(){u=this.value,n(0,u)}return i.$$set=k=>{"id"in k&&n(1,t=k.id),"label"in k&&n(2,a=k.label),"value"in k&&n(0,u=k.value),"valid"in k&&n(3,l=k.valid),"invalid"in k&&n(4,r=k.invalid),"required"in k&&n(5,f=k.required),"feedback"in k&&n(6,s=k.feedback),"help"in k&&n(7,o=k.help),"disabled"in k&&n(8,m=k.disabled)},[u,t,a,l,r,f,s,o,m,c,I]}class Sl extends _e{constructor(e){super(),me(this,e,Il,Tl,he,{id:1,label:2,value:0,valid:3,invalid:4,required:5,feedback:6,help:7,disabled:8})}}function Vl(i){let e,n,t;return{c(){e=S("input"),this.h()},l(a){e=V(a,"INPUT",{id:!0,class:!0,type:!0,placeholder:!0}),this.h()},h(){q(e,"id",i[1]),q(e,"class","input variant-form-material"),q(e,"type","number"),q(e,"placeholder",i[7]),e.disabled=i[9],le(e,"input-success",i[3]),le(e,"input-error",i[4])},m(a,u){O(a,e,u),ve(e,i[0]),n||(t=[fe(e,"input",i[11]),fe(e,"input",i[10])],n=!0)},p(a,u){u&2&&q(e,"id",a[1]),u&128&&q(e,"placeholder",a[7]),u&512&&(e.disabled=a[9]),u&1&&Qe(e.value)!==a[0]&&ve(e,a[0]),u&8&&le(e,"input-success",a[3]),u&16&&le(e,"input-error",a[4])},d(a){a&&h(e),n=!1,ke(t)}}}function Dl(i){let e,n;return e=new Ve({props:{id:i[1],label:i[2],feedback:i[6],required:i[5],help:i[8],$$slots:{default:[Vl]},$$scope:{ctx:i}}}),{c(){P(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,a){U(e,t,a),n=!0},p(t,[a]){const u={};a&2&&(u.id=t[1]),a&4&&(u.label=t[2]),a&64&&(u.feedback=t[6]),a&32&&(u.required=t[5]),a&256&&(u.help=t[8]),a&4763&&(u.$$scope={dirty:a,ctx:t}),e.$set(u)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){j(e,t)}}}function Fl(i,e,n){let{id:t=""}=e,{label:a=""}=e,{value:u=""}=e,{valid:l=!1}=e,{invalid:r=!1}=e,{required:f=!1}=e,{feedback:s=[""]}=e,{placeholder:o=""}=e,{help:m=!1}=e,{disabled:c=!1}=e;function I(E){te.call(this,i,E)}function k(){u=Qe(this.value),n(0,u)}return i.$$set=E=>{"id"in E&&n(1,t=E.id),"label"in E&&n(2,a=E.label),"value"in E&&n(0,u=E.value),"valid"in E&&n(3,l=E.valid),"invalid"in E&&n(4,r=E.invalid),"required"in E&&n(5,f=E.required),"feedback"in E&&n(6,s=E.feedback),"placeholder"in E&&n(7,o=E.placeholder),"help"in E&&n(8,m=E.help),"disabled"in E&&n(9,c=E.disabled)},[u,t,a,l,r,f,s,o,m,c,I,k]}class Nl extends _e{constructor(e){super(),me(this,e,Fl,Dl,he,{id:1,label:2,value:0,valid:3,invalid:4,required:5,feedback:6,placeholder:7,help:8,disabled:9})}}function Cl(){return{}}const mn=Object.freeze(Object.defineProperty({__proto__:null,load:Cl},Symbol.toStringTag,{value:"Module"}));function Le(i){let e,n;return{c(){e=S("span"),n=Z("in use"),this.h()},l(t){e=V(t,"SPAN",{class:!0});var a=F(e);n=$(a,"in use"),a.forEach(h),this.h()},h(){q(e,"class","badge variant-filled-error")},m(t,a){O(t,e,a),b(e,n)},d(t){t&&h(e)}}}function Bl(i){let e,n,t,a,u,l,r,f,s,o,m,c,I,k,E,Q=i[3].text+"",M,R,w,d=i[2].text+"",x,ge,X,W,Y=i[5].join(", ")+"",ce,ee,N,C;t=new qe({props:{size:"4x",icon:rl}});let B=i[4].length>0&&Le();return{c(){e=S("div"),n=S("div"),P(t.$$.fragment),a=z(),u=S("div"),l=S("h3"),r=Z(i[0]),f=z(),s=S("span"),o=Z(i[1]),m=z(),c=S("div"),I=S("div"),B&&B.c(),k=z(),E=S("span"),M=Z(Q),R=z(),w=S("span"),x=Z(d),ge=z(),X=S("div"),W=S("b"),ce=Z(Y),this.h()},l(p){e=V(p,"DIV",{class:!0});var G=F(e);n=V(G,"DIV",{class:!0});var H=F(n);A(t.$$.fragment,H),H.forEach(h),a=K(G),u=V(G,"DIV",{class:!0});var y=F(u);l=V(y,"H3",{class:!0});var L=F(l);r=$(L,i[0]),L.forEach(h),f=K(y),s=V(y,"SPAN",{class:!0});var _=F(s);o=$(_,i[1]),_.forEach(h),y.forEach(h),m=K(G),c=V(G,"DIV",{class:!0});var T=F(c);I=V(T,"DIV",{class:!0});var D=F(I);B&&B.l(D),k=K(D),E=V(D,"SPAN",{class:!0});var de=F(E);M=$(de,Q),de.forEach(h),R=K(D),w=V(D,"SPAN",{class:!0});var J=F(w);x=$(J,d),J.forEach(h),D.forEach(h),ge=K(T),X=V(T,"DIV",{class:!0});var ne=F(X);W=V(ne,"B",{});var be=F(W);ce=$(be,Y),be.forEach(h),ne.forEach(h),T.forEach(h),G.forEach(h),this.h()},h(){q(n,"class","flex-none text-left"),q(l,"class","h3"),q(s,"class","text-sm"),q(u,"class","text-left grow h-full"),q(E,"class","badge variant-filled-surface"),q(w,"class","badge variant-filled-secondary"),q(I,"class","flex gap-2"),q(X,"class","h-content"),q(c,"class","flex-none text-right"),q(e,"class","flex gap-5 border-b-violet-700 p-5 shadow-md ring-1 ring-gray-900/5 hover:bg-primary-100 space-x-100 active:bg-primary-300")},m(p,G){O(p,e,G),b(e,n),U(t,n,null),b(e,a),b(e,u),b(u,l),b(l,r),b(u,f),b(u,s),b(s,o),b(e,m),b(e,c),b(c,I),B&&B.m(I,null),b(I,k),b(I,E),b(E,M),b(I,R),b(I,w),b(w,x),b(c,ge),b(c,X),b(X,W),b(W,ce),ee=!0,N||(C=fe(e,"click",i[8]),N=!0)},p(p,[G]){(!ee||G&1)&&ie(r,p[0]),(!ee||G&2)&&ie(o,p[1]),p[4].length>0?B||(B=Le(),B.c(),B.m(I,k)):B&&(B.d(1),B=null),(!ee||G&8)&&Q!==(Q=p[3].text+"")&&ie(M,Q),(!ee||G&4)&&d!==(d=p[2].text+"")&&ie(x,d),(!ee||G&32)&&Y!==(Y=p[5].join(", ")+"")&&ie(ce,Y)},i(p){ee||(g(t.$$.fragment,p),ee=!0)},o(p){v(t.$$.fragment,p),ee=!1},d(p){p&&h(e),j(t),B&&B.d(),N=!1,C()}}}function Ll(i,e,n){let{id:t}=e,{index:a}=e,{name:u}=e,{description:l}=e,{entityType:r}=e,{metadataStructure:f}=e,{linkedSubjects:s=[]}=e,{allowedFileTypes:o=[]}=e;function m(c){te.call(this,i,c)}return i.$$set=c=>{"id"in c&&n(6,t=c.id),"index"in c&&n(7,a=c.index),"name"in c&&n(0,u=c.name),"description"in c&&n(1,l=c.description),"entityType"in c&&n(2,r=c.entityType),"metadataStructure"in c&&n(3,f=c.metadataStructure),"linkedSubjects"in c&&n(4,s=c.linkedSubjects),"allowedFileTypes"in c&&n(5,o=c.allowedFileTypes)},[u,l,r,f,s,o,t,a,m]}class Pl extends _e{constructor(e){super(),me(this,e,Ll,Bl,he,{id:6,index:7,name:0,description:1,entityType:2,metadataStructure:3,linkedSubjects:4,allowedFileTypes:5})}}function Pe(i,e,n){const t=i.slice();return t[3]=e[n],t[5]=n,t}function Ae(i){let e,n;const t=[i[3]];function a(){return i[2](i[5])}let u={};for(let l=0;l<t.length;l+=1)u=xe(u,t[l]);return e=new Pl({props:u}),e.$on("click",a),{c(){P(e.$$.fragment)},l(l){A(e.$$.fragment,l)},m(l,r){U(e,l,r),n=!0},p(l,r){i=l;const f=r&1?el(t,[ll(i[3])]):{};e.$set(f)},i(l){n||(g(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){j(e,l)}}}function Al(i){let e,n,t=i[0],a=[];for(let l=0;l<t.length;l+=1)a[l]=Ae(Pe(i,t,l));const u=l=>v(a[l],1,1,()=>{a[l]=null});return{c(){e=S("div");for(let l=0;l<a.length;l+=1)a[l].c();this.h()},l(l){e=V(l,"DIV",{class:!0});var r=F(e);for(let f=0;f<a.length;f+=1)a[f].l(r);r.forEach(h),this.h()},h(){q(e,"class","flex-col gap-1 pr-1 space-y-1")},m(l,r){O(l,e,r);for(let f=0;f<a.length;f+=1)a[f]&&a[f].m(e,null);n=!0},p(l,[r]){if(r&3){t=l[0];let f;for(f=0;f<t.length;f+=1){const s=Pe(l,t,f);a[f]?(a[f].p(s,r),g(a[f],1)):(a[f]=Ae(s),a[f].c(),g(a[f],1),a[f].m(e,null))}for(ae(),f=t.length;f<a.length;f+=1)u(f);re()}},i(l){if(!n){for(let r=0;r<t.length;r+=1)g(a[r]);n=!0}},o(l){a=a.filter(Boolean);for(let r=0;r<a.length;r+=1)v(a[r]);n=!1},d(l){l&&h(e),Ee(a,l)}}}function Ul(i,e,n){let{items:t}=e;const a=We(),u=l=>a("select",l);return i.$$set=l=>{"items"in l&&n(0,t=l.items)},[t,a,u]}class jl extends _e{constructor(e){super(),me(this,e,Ul,Al,he,{items:0})}}const yl=async i=>{try{return(await Te.get("/dcm/create/get?id="+i)).data}catch(e){console.error(e)}},Ol=async i=>{try{return(await Te.post("/dcm/create/create",i)).data}catch(e){console.error(e)}},Ml=async()=>{try{return(await Te.get("/dcm/create/GetEntityTemplateList")).data}catch(i){throw console.error(i),i}};function Hl(i){let e,n,t;function a(l){i[15](l)}let u={id:i[2],label:i[2],valid:i[3],invalid:i[4],feedback:i[5],required:i[6]};return i[0]!==void 0&&(u.value=i[0]),e=new Sl({props:u}),ue.push(()=>se(e,"value",a)),e.$on("input",i[16]),{c(){P(e.$$.fragment)},l(l){A(e.$$.fragment,l)},m(l,r){U(e,l,r),t=!0},p(l,r){const f={};r&4&&(f.id=l[2]),r&4&&(f.label=l[2]),r&8&&(f.valid=l[3]),r&16&&(f.invalid=l[4]),r&32&&(f.feedback=l[5]),r&64&&(f.required=l[6]),!n&&r&1&&(n=!0,f.value=l[0],oe(()=>n=!1)),e.$set(f)},i(l){t||(g(e.$$.fragment,l),t=!0)},o(l){v(e.$$.fragment,l),t=!1},d(l){j(e,l)}}}function zl(i){let e,n,t;function a(l){i[13](l)}let u={id:i[2],label:i[2],valid:i[3],invalid:i[4],feedback:i[5],required:i[6]};return i[0]!==void 0&&(u.value=i[0]),e=new Nl({props:u}),ue.push(()=>se(e,"value",a)),e.$on("input",i[14]),{c(){P(e.$$.fragment)},l(l){A(e.$$.fragment,l)},m(l,r){U(e,l,r),t=!0},p(l,r){const f={};r&4&&(f.id=l[2]),r&4&&(f.label=l[2]),r&8&&(f.valid=l[3]),r&16&&(f.invalid=l[4]),r&32&&(f.feedback=l[5]),r&64&&(f.required=l[6]),!n&&r&1&&(n=!0,f.value=l[0],oe(()=>n=!1)),e.$set(f)},i(l){t||(g(e.$$.fragment,l),t=!0)},o(l){v(e.$$.fragment,l),t=!1},d(l){j(e,l)}}}function Kl(i){let e,n,t;function a(l){i[11](l)}let u={id:i[2],label:i[2],type:"textarea",valid:i[3],invalid:i[4],feedback:i[5],required:i[6]};return i[0]!==void 0&&(u.value=i[0]),e=new cl({props:u}),ue.push(()=>se(e,"value",a)),e.$on("input",i[12]),{c(){P(e.$$.fragment)},l(l){A(e.$$.fragment,l)},m(l,r){U(e,l,r),t=!0},p(l,r){const f={};r&4&&(f.id=l[2]),r&4&&(f.label=l[2]),r&8&&(f.valid=l[3]),r&16&&(f.invalid=l[4]),r&32&&(f.feedback=l[5]),r&64&&(f.required=l[6]),!n&&r&1&&(n=!0,f.value=l[0],oe(()=>n=!1)),e.$set(f)},i(l){t||(g(e.$$.fragment,l),t=!0)},o(l){v(e.$$.fragment,l),t=!1},d(l){j(e,l)}}}function Xl(i){let e,n,t;function a(l){i[9](l)}let u={id:i[2],label:i[2],valid:i[3],invalid:i[4],feedback:i[5],required:i[6]};return i[0]!==void 0&&(u.value=i[0]),e=new ol({props:u}),ue.push(()=>se(e,"value",a)),e.$on("input",i[10]),{c(){P(e.$$.fragment)},l(l){A(e.$$.fragment,l)},m(l,r){U(e,l,r),t=!0},p(l,r){const f={};r&4&&(f.id=l[2]),r&4&&(f.label=l[2]),r&8&&(f.valid=l[3]),r&16&&(f.invalid=l[4]),r&32&&(f.feedback=l[5]),r&64&&(f.required=l[6]),!n&&r&1&&(n=!0,f.value=l[0],oe(()=>n=!1)),e.$set(f)},i(l){t||(g(e.$$.fragment,l),t=!0)},o(l){v(e.$$.fragment,l),t=!1},d(l){j(e,l)}}}function Gl(i){let e,n,t;function a(l){i[7](l)}let u={id:i[2],label:i[2],required:i[6],valid:i[3],invalid:i[4],feedback:i[5]};return i[0]!==void 0&&(u.checked=i[0]),e=new wl({props:u}),ue.push(()=>se(e,"checked",a)),e.$on("input",i[8]),{c(){P(e.$$.fragment)},l(l){A(e.$$.fragment,l)},m(l,r){U(e,l,r),t=!0},p(l,r){const f={};r&4&&(f.id=l[2]),r&4&&(f.label=l[2]),r&64&&(f.required=l[6]),r&8&&(f.valid=l[3]),r&16&&(f.invalid=l[4]),r&32&&(f.feedback=l[5]),!n&&r&1&&(n=!0,f.checked=l[0],oe(()=>n=!1)),e.$set(f)},i(l){t||(g(e.$$.fragment,l),t=!0)},o(l){v(e.$$.fragment,l),t=!1},d(l){j(e,l)}}}function Rl(i){let e,n,t,a;const u=[Gl,Xl,Kl,zl,Hl],l=[];function r(f,s){return f[1]=="Boolean"?0:f[1]=="String"?1:f[1]=="Text"?2:f[1]=="Int64"||f[1]=="Int32"?3:f[1]=="DateTime"?4:-1}return~(e=r(i))&&(n=l[e]=u[e](i)),{c(){n&&n.c(),t=Ce()},l(f){n&&n.l(f),t=Ce()},m(f,s){~e&&l[e].m(f,s),O(f,t,s),a=!0},p(f,[s]){let o=e;e=r(f),e===o?~e&&l[e].p(f,s):(n&&(ae(),v(l[o],1,1,()=>{l[o]=null}),re()),~e?(n=l[e],n?n.p(f,s):(n=l[e]=u[e](f),n.c()),g(n,1),n.m(t.parentNode,t)):n=null)},i(f){a||(g(n),a=!0)},o(f){v(n),a=!1},d(f){~e&&l[e].d(f),f&&h(t)}}}function Jl(i,e,n){let{type:t}=e,{value:a}=e,{label:u}=e,{valid:l}=e,{invalid:r}=e,{feedback:f}=e,{required:s}=e;function o(d){a=d,n(0,a)}function m(d){te.call(this,i,d)}function c(d){a=d,n(0,a)}function I(d){te.call(this,i,d)}function k(d){a=d,n(0,a)}function E(d){te.call(this,i,d)}function Q(d){a=d,n(0,a)}function M(d){te.call(this,i,d)}function R(d){a=d,n(0,a)}function w(d){te.call(this,i,d)}return i.$$set=d=>{"type"in d&&n(1,t=d.type),"value"in d&&n(0,a=d.value),"label"in d&&n(2,u=d.label),"valid"in d&&n(3,l=d.valid),"invalid"in d&&n(4,r=d.invalid),"feedback"in d&&n(5,f=d.feedback),"required"in d&&n(6,s=d.required)},[a,t,u,l,r,f,s,o,m,c,I,k,E,Q,M,R,w]}class De extends _e{constructor(e){super(),me(this,e,Jl,Rl,he,{type:1,value:0,label:2,valid:3,invalid:4,feedback:5,required:6})}}const pe=dl((i={},e)=>{_l(e),ml(i,n=>{hl(n.name,n.name+" is required",()=>{gl(n.value).isNotBlank()},n.index)})});function Ue(i,e,n){const t=i.slice();return t[16]=e[n],t}function je(i,e,n){const t=i.slice();return t[16]=e[n],t}function ye(i,e,n){const t=i.slice();return t[16]=e[n],t[21]=e,t[22]=n,t}function Ql(i){let e,n;return e=new Se({}),{c(){P(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,a){U(e,t,a),n=!0},p:Ie,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){j(e,t)}}}function Wl(i){let e,n;return e=new bl({props:{$$slots:{default:[Yl]},$$scope:{ctx:i}}}),{c(){P(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,a){U(e,t,a),n=!0},p(t,a){const u={};a&8388735&&(u.$$scope={dirty:a,ctx:t}),e.$set(u)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){j(e,t)}}}function Oe(i){let e,n,t;function a(l){i[11](l)}let u={label:i[1].name,required:!0,type:i[1].type,valid:i[0].isValid(i[1].name),invalid:i[0].hasErrors(i[1].name),feedback:i[0].getErrors(i[1].name)};return i[1].value!==void 0&&(u.value=i[1].value),e=new De({props:u}),ue.push(()=>se(e,"value",a)),e.$on("input",i[8]),{c(){P(e.$$.fragment)},l(l){A(e.$$.fragment,l)},m(l,r){U(e,l,r),t=!0},p(l,r){const f={};r&2&&(f.label=l[1].name),r&2&&(f.type=l[1].type),r&3&&(f.valid=l[0].isValid(l[1].name)),r&3&&(f.invalid=l[0].hasErrors(l[1].name)),r&3&&(f.feedback=l[0].getErrors(l[1].name)),!n&&r&2&&(n=!0,f.value=l[1].value,oe(()=>n=!1)),e.$set(f)},i(l){t||(g(e.$$.fragment,l),t=!0)},o(l){v(e.$$.fragment,l),t=!1},d(l){j(e,l)}}}function Me(i){let e,n,t;function a(l){i[12](l)}let u={label:i[2].name,type:"Text",required:!0,valid:i[0].isValid(i[2].name),invalid:i[0].hasErrors(i[2].name),feedback:i[0].getErrors(i[2].name)};return i[2].value!==void 0&&(u.value=i[2].value),e=new De({props:u}),ue.push(()=>se(e,"value",a)),e.$on("input",i[8]),{c(){P(e.$$.fragment)},l(l){A(e.$$.fragment,l)},m(l,r){U(e,l,r),t=!0},p(l,r){const f={};r&4&&(f.label=l[2].name),r&5&&(f.valid=l[0].isValid(l[2].name)),r&5&&(f.invalid=l[0].hasErrors(l[2].name)),r&5&&(f.feedback=l[0].getErrors(l[2].name)),!n&&r&4&&(n=!0,f.value=l[2].value,oe(()=>n=!1)),e.$set(f)},i(l){t||(g(e.$$.fragment,l),t=!0)},o(l){v(e.$$.fragment,l),t=!1},d(l){j(e,l)}}}function He(i){let e,n,t;function a(l){i[13](l,i[16])}let u={label:i[16].name,type:i[16].type,required:!0,valid:i[0].isValid(i[16].name),invalid:i[0].hasErrors(i[16].name),feedback:i[0].getErrors(i[16].name)};return i[16].value!==void 0&&(u.value=i[16].value),e=new De({props:u}),ue.push(()=>se(e,"value",a)),e.$on("input",i[8]),{c(){P(e.$$.fragment)},l(l){A(e.$$.fragment,l)},m(l,r){U(e,l,r),t=!0},p(l,r){i=l;const f={};r&8&&(f.label=i[16].name),r&8&&(f.type=i[16].type),r&9&&(f.valid=i[0].isValid(i[16].name)),r&9&&(f.invalid=i[0].hasErrors(i[16].name)),r&9&&(f.feedback=i[0].getErrors(i[16].name)),!n&&r&8&&(n=!0,f.value=i[16].value,oe(()=>n=!1)),e.$set(f)},i(l){t||(g(e.$$.fragment,l),t=!0)},o(l){v(e.$$.fragment,l),t=!1},d(l){j(e,l)}}}function ze(i){let e,n,t,a,u=i[4].datastructures,l=[];for(let r=0;r<u.length;r+=1)l[r]=Ke(je(i,u,r));return{c(){e=S("b"),n=Z("Usable structures"),t=z(),a=S("ul");for(let r=0;r<l.length;r+=1)l[r].c()},l(r){e=V(r,"B",{});var f=F(e);n=$(f,"Usable structures"),f.forEach(h),t=K(r),a=V(r,"UL",{});var s=F(a);for(let o=0;o<l.length;o+=1)l[o].l(s);s.forEach(h)},m(r,f){O(r,e,f),b(e,n),O(r,t,f),O(r,a,f);for(let s=0;s<l.length;s+=1)l[s]&&l[s].m(a,null)},p(r,f){if(f&16){u=r[4].datastructures;let s;for(s=0;s<u.length;s+=1){const o=je(r,u,s);l[s]?l[s].p(o,f):(l[s]=Ke(o),l[s].c(),l[s].m(a,null))}for(;s<l.length;s+=1)l[s].d(1);l.length=u.length}},d(r){r&&h(e),r&&h(t),r&&h(a),Ee(l,r)}}}function Ke(i){let e,n=i[16]+"",t;return{c(){e=S("li"),t=Z(n)},l(a){e=V(a,"LI",{});var u=F(e);t=$(u,n),u.forEach(h)},m(a,u){O(a,e,u),b(e,t)},p(a,u){u&16&&n!==(n=a[16]+"")&&ie(t,n)},d(a){a&&h(e)}}}function Xe(i){let e,n,t,a,u=i[4].fileTypes,l=[];for(let r=0;r<u.length;r+=1)l[r]=Ge(Ue(i,u,r));return{c(){e=S("b"),n=Z("Supported file types"),t=z(),a=S("ul");for(let r=0;r<l.length;r+=1)l[r].c()},l(r){e=V(r,"B",{});var f=F(e);n=$(f,"Supported file types"),f.forEach(h),t=K(r),a=V(r,"UL",{});var s=F(a);for(let o=0;o<l.length;o+=1)l[o].l(s);s.forEach(h)},m(r,f){O(r,e,f),b(e,n),O(r,t,f),O(r,a,f);for(let s=0;s<l.length;s+=1)l[s]&&l[s].m(a,null)},p(r,f){if(f&16){u=r[4].fileTypes;let s;for(s=0;s<u.length;s+=1){const o=Ue(r,u,s);l[s]?l[s].p(o,f):(l[s]=Ge(o),l[s].c(),l[s].m(a,null))}for(;s<l.length;s+=1)l[s].d(1);l.length=u.length}},d(r){r&&h(e),r&&h(t),r&&h(a),Ee(l,r)}}}function Ge(i){let e,n=i[16]+"",t;return{c(){e=S("li"),t=Z(n)},l(a){e=V(a,"LI",{});var u=F(e);t=$(u,n),u.forEach(h)},m(a,u){O(a,e,u),b(e,t)},p(a,u){u&16&&n!==(n=a[16]+"")&&ie(t,n)},d(a){a&&h(e)}}}function Re(i){let e,n;return e=new Se({props:{position:Ze.end}}),{c(){P(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,a){U(e,t,a),n=!0},p:Ie,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){j(e,t)}}}function Yl(i){let e,n,t,a=i[4].name+"",u,l,r,f=i[4].description+"",s,o,m,c,I,k,E,Q,M,R,w,d,x,ge,X,W,Y,ce,ee,N=i[1]&&Oe(i),C=i[2]&&Me(i),B=i[3],p=[];for(let _=0;_<B.length;_+=1)p[_]=He(ye(i,B,_));const G=_=>v(p[_],1,1,()=>{p[_]=null});let H=i[4].datastructures&&i[4].datastructures.length>0&&ze(i),y=i[4].fileTypes&&i[4].fileTypes.length>0&&Xe(i),L=i[5]&&Re();return x=new qe({props:{icon:fl}}),W=new qe({props:{icon:ul}}),{c(){e=S("div"),n=S("h2"),t=Z("New "),u=Z(a),l=z(),r=S("p"),s=Z(f),o=z(),m=S("form"),N&&N.c(),c=z(),C&&C.c(),I=z();for(let _=0;_<p.length;_+=1)p[_].c();k=z(),H&&H.c(),E=z(),y&&y.c(),Q=z(),M=S("div"),R=S("div"),L&&L.c(),w=z(),d=S("button"),P(x.$$.fragment),ge=z(),X=S("button"),P(W.$$.fragment),this.h()},l(_){e=V(_,"DIV",{class:!0});var T=F(e);n=V(T,"H2",{class:!0});var D=F(n);t=$(D,"New "),u=$(D,a),D.forEach(h),l=K(T),r=V(T,"P",{class:!0});var de=F(r);s=$(de,f),de.forEach(h),T.forEach(h),o=K(_),m=V(_,"FORM",{});var J=F(m);N&&N.l(J),c=K(J),C&&C.l(J),I=K(J);for(let we=0;we<p.length;we+=1)p[we].l(J);k=K(J),H&&H.l(J),E=K(J),y&&y.l(J),Q=K(J),M=V(J,"DIV",{class:!0});var ne=F(M);R=V(ne,"DIV",{class:!0});var be=F(R);L&&L.l(be),be.forEach(h),w=K(ne),d=V(ne,"BUTTON",{title:!0,type:!0,class:!0});var Fe=F(d);A(x.$$.fragment,Fe),Fe.forEach(h),ge=K(ne),X=V(ne,"BUTTON",{title:!0,type:!0,class:!0});var Ne=F(X);A(W.$$.fragment,Ne),Ne.forEach(h),ne.forEach(h),J.forEach(h),this.h()},h(){q(n,"class","h2"),q(r,"class","pt-5"),q(e,"class","pb-10"),q(R,"class","grow text-xs"),q(d,"title","cancel"),q(d,"type","button"),q(d,"class","btn variant-filled-warning"),q(X,"title","create"),q(X,"type","submit"),q(X,"class","btn variant-filled-primary"),X.disabled=i[6],q(M,"class","flex gap-1 pt-5 text-right")},m(_,T){O(_,e,T),b(e,n),b(n,t),b(n,u),b(e,l),b(e,r),b(r,s),O(_,o,T),O(_,m,T),N&&N.m(m,null),b(m,c),C&&C.m(m,null),b(m,I);for(let D=0;D<p.length;D+=1)p[D]&&p[D].m(m,null);b(m,k),H&&H.m(m,null),b(m,E),y&&y.m(m,null),b(m,Q),b(m,M),b(M,R),L&&L.m(R,null),b(M,w),b(M,d),U(x,d,null),b(M,ge),b(M,X),U(W,X,null),Y=!0,ce||(ee=[fe(d,"click",i[9]),fe(m,"submit",nl(i[7]))],ce=!0)},p(_,T){if((!Y||T&16)&&a!==(a=_[4].name+"")&&ie(u,a),(!Y||T&16)&&f!==(f=_[4].description+"")&&ie(s,f),_[1]?N?(N.p(_,T),T&2&&g(N,1)):(N=Oe(_),N.c(),g(N,1),N.m(m,c)):N&&(ae(),v(N,1,1,()=>{N=null}),re()),_[2]?C?(C.p(_,T),T&4&&g(C,1)):(C=Me(_),C.c(),g(C,1),C.m(m,I)):C&&(ae(),v(C,1,1,()=>{C=null}),re()),T&265){B=_[3];let D;for(D=0;D<B.length;D+=1){const de=ye(_,B,D);p[D]?(p[D].p(de,T),g(p[D],1)):(p[D]=He(de),p[D].c(),g(p[D],1),p[D].m(m,k))}for(ae(),D=B.length;D<p.length;D+=1)G(D);re()}_[4].datastructures&&_[4].datastructures.length>0?H?H.p(_,T):(H=ze(_),H.c(),H.m(m,E)):H&&(H.d(1),H=null),_[4].fileTypes&&_[4].fileTypes.length>0?y?y.p(_,T):(y=Xe(_),y.c(),y.m(m,Q)):y&&(y.d(1),y=null),_[5]?L?(L.p(_,T),T&32&&g(L,1)):(L=Re(),L.c(),g(L,1),L.m(R,null)):L&&(ae(),v(L,1,1,()=>{L=null}),re()),(!Y||T&64)&&(X.disabled=_[6])},i(_){if(!Y){g(N),g(C);for(let T=0;T<B.length;T+=1)g(p[T]);g(L),g(x.$$.fragment,_),g(W.$$.fragment,_),Y=!0}},o(_){v(N),v(C),p=p.filter(Boolean);for(let T=0;T<p.length;T+=1)v(p[T]);v(L),v(x.$$.fragment,_),v(W.$$.fragment,_),Y=!1},d(_){_&&h(e),_&&h(o),_&&h(m),N&&N.d(),C&&C.d(),Ee(p,_),H&&H.d(),y&&y.d(),L&&L.d(),j(x),j(W),ce=!1,ke(ee)}}}function Zl(i){let e,n,t,a;const u=[Wl,Ql],l=[];function r(f,s){return f[4]?0:1}return n=r(i),t=l[n]=u[n](i),{c(){e=S("div"),t.c()},l(f){e=V(f,"DIV",{});var s=F(e);t.l(s),s.forEach(h)},m(f,s){O(f,e,s),l[n].m(e,null),a=!0},p(f,[s]){let o=n;n=r(f),n===o?l[n].p(f,s):(ae(),v(l[o],1,1,()=>{l[o]=null}),re(),t=l[n],t?t.p(f,s):(t=l[n]=u[n](f),t.c()),g(t,1),t.m(e,null))},i(f){a||(g(t),a=!0)},o(f){v(t),a=!1},d(f){f&&h(e),l[n].d()}}}function $l(i,e,n){let t,{id:a}=e,u,l,r=[];const f=We();let s=pe.get(),o=null,m=!1;Ye(async()=>{console.log("form");const w=await yl(a);console.log("res",w),w!=!1&&n(4,o=w),E(),pe.reset(),console.log(),n(6,t=o.inputFields.length!=0)});async function c(){if(s.isValid()||r.length===0){n(5,m=!0),console.log("before submit",o);const w=await Ol(o);w.success!=!1&&(console.log("save",w),f("save",w.id)),n(5,m=!1)}}function I(w){setTimeout(async()=>{n(0,s=pe(o.inputFields,w.target.id))},10)}function k(){pe.reset(),f("cancel")}function E(){for(let w=0;w<o.inputFields.length;w++){const d=o.inputFields[w];d.name.toLowerCase()=="title"?n(1,u=d):d.name.toLowerCase()=="description"?n(2,l=d):n(3,r=[...r,d])}}function Q(w){i.$$.not_equal(u.value,w)&&(u.value=w,n(1,u))}function M(w){i.$$.not_equal(l.value,w)&&(l.value=w,n(2,l))}function R(w,d){i.$$.not_equal(d.value,w)&&(d.value=w,n(3,r))}return i.$$set=w=>{"id"in w&&n(10,a=w.id)},i.$$.update=()=>{i.$$.dirty&1&&n(6,t=!s.isValid())},[s,u,l,r,o,m,t,c,I,k,a,Q,M,R]}class xl extends _e{constructor(e){super(),me(this,e,$l,Zl,he,{id:10})}}function en(i){let e,n;return e=new Se({}),{c(){P(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,a){U(e,t,a),n=!0},p:Ie,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){j(e,t)}}}function ln(i){let e,n,t,a;n=new jl({props:{items:i[2]}}),n.$on("select",i[3]);let u=i[1]&&i[0]&&Je(i);return{c(){e=S("div"),P(n.$$.fragment),t=z(),u&&u.c(),this.h()},l(l){e=V(l,"DIV",{class:!0});var r=F(e);A(n.$$.fragment,r),t=K(r),u&&u.l(r),r.forEach(h),this.h()},h(){q(e,"class","grid grid-cols-1 lg:grid-cols-2 gap-3")},m(l,r){O(l,e,r),U(n,e,null),b(e,t),u&&u.m(e,null),a=!0},p(l,r){const f={};r&4&&(f.items=l[2]),n.$set(f),l[1]&&l[0]?u?(u.p(l,r),r&3&&g(u,1)):(u=Je(l),u.c(),g(u,1),u.m(e,null)):u&&(ae(),v(u,1,1,()=>{u=null}),re())},i(l){a||(g(n.$$.fragment,l),g(u),a=!0)},o(l){v(n.$$.fragment,l),v(u),a=!1},d(l){l&&h(e),j(n),u&&u.d()}}}function Je(i){let e,n,t;function a(l){i[6](l)}let u={};return i[1].id!==void 0&&(u.id=i[1].id),e=new xl({props:u}),ue.push(()=>se(e,"id",a)),e.$on("cancel",i[7]),e.$on("save",i[8]),{c(){P(e.$$.fragment)},l(l){A(e.$$.fragment,l)},m(l,r){U(e,l,r),t=!0},p(l,r){const f={};!n&&r&2&&(n=!0,f.id=l[1].id,oe(()=>n=!1)),e.$set(f)},i(l){t||(g(e.$$.fragment,l),t=!0)},o(l){v(e.$$.fragment,l),t=!1},d(l){j(e,l)}}}function nn(i){let e,n,t,a,u,l;const r=[ln,en],f=[];function s(o,m){return o[2]?0:1}return n=s(i),t=f[n]=r[n](i),{c(){e=S("div"),t.c()},l(o){e=V(o,"DIV",{});var m=F(e);t.l(m),m.forEach(h)},m(o,m){O(o,e,m),f[n].m(e,null),l=!0},p(o,m){let c=n;n=s(o),n===c?f[n].p(o,m):(ae(),v(f[c],1,1,()=>{f[c]=null}),re(),t=f[n],t?t.p(o,m):(t=f[n]=r[n](o),t.c()),g(t,1),t.m(e,null))},i(o){l||(g(t),tl(()=>{l&&(u&&u.end(1),a=il(e,Be,{delay:500}),a.start())}),l=!0)},o(o){v(t),a&&a.invalidate(),u=al(e,Be,{delay:500}),l=!1},d(o){o&&h(e),f[n].d(),o&&u&&u.end()}}}function tn(i){let e,n;return e=new sl({props:{title:"Create a Dataset",note:"On this page you can create a dataset based on a template. please select on template and fill out the form.",links:i[5],contentLayoutType:$e.full,$$slots:{default:[nn]},$$scope:{ctx:i}}}),{c(){P(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,a){U(e,t,a),n=!0},p(t,[a]){const u={};a&1031&&(u.$$scope={dirty:a,ctx:t}),e.$set(u)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){j(e,t)}}}function an(i,e,n){let t,a,u,l;Ye(async()=>{n(2,t=await Ml())});function r(I){console.log("on select"),n(0,u=!1),setTimeout(async()=>{let k=I.detail;n(1,a=t[k]),console.log(a),n(0,u=!0),console.log("on isOpen",u)},500)}function f(I){pl("/dcm/edit?id="+I.detail)}let s=[{label:"manual",url:"https://github.com/BEXIS2/Documents/blob/master/Manuals/DCM/Manual.md"}];function o(I){i.$$.not_equal(a.id,I)&&(a.id=I,n(1,a),n(9,l))}const m=()=>n(0,u=!1),c=I=>f(I);return n(2,t=[]),n(1,a=l),n(0,u=!1),[u,a,t,r,f,s,o,m,c]}class hn extends _e{constructor(e){super(),me(this,e,an,tn,he,{})}}export{hn as component,mn as universal};
