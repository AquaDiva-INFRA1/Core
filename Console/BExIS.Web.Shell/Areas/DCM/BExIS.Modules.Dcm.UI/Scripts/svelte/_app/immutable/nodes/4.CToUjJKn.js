var di=Object.defineProperty;var mi=(l,e,t)=>e in l?di(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t;var Wn=(l,e,t)=>(mi(l,typeof e!="symbol"?e+"":e,t),t);import{S as ee,i as te,t as _,g as W,b as w,e as X,h as Xn,j as Jn,c as L,a as R,m as B,d as O,k as Qn,f as Ie}from"../chunks/index.CiHPK1yE.js";import{A as $e,e as fe,k as hi,n as gi,d as _i,h as bi,b as pi}from"../chunks/eslint4b.es.Ngf91g9x.js";import{p as vi}from"../chunks/ProgressBar.svelte_svelte_type_style_lang.BJ9KW1aQ.js";import{s as ne,e as F,c as N,k as M,d as b,a as E,N as It,i as T,o as V,n as $,h as Ne,w as gn,K as J,p as Y,H as lt,v as Ye,x as zt,af as ki,y as Lt,z as Rt,A as Bt,U as _n,r as ot,B as Ae,O as be,j as U,l as j,E as le,F as re,G as ue,D as st,aj as wi,g as ge,a9 as Pr,M as We,I as Be,t as de,a7 as Ce,ak as At,al as Mt,J as Wt,aa as Zn,ab as Di}from"../chunks/scheduler.C_o3LU93.js";import{f as Ei,h as Ct,u as Ot,E as Pt,a as Ur,M as yi}from"../chunks/MultiSelect.DVhKrnJD.js";import{z as Ii,l as $n,k as cn,c as bn,A as Ci,F as me,B as Vi,a as kn,C as Si,D as jr,E as qr,G as Nn,H as Fi,g as Kr,j as Ni,I as Ti,i as Hi,J as Ai,K as Mi,L as zi,M as Li,h as Ri,P as Bi}from"../chunks/Page.BhUOr-Xw.js";import{S as Oi}from"../chunks/SlideToggle.CrjJV6mH.js";import{S as _t,g as Ke,a as Ge}from"../chunks/Spinner.lCF0l7ta.js";import{w as xe,r as Gr}from"../chunks/index.CH-8sbRF.js";import{T as Pi}from"../chunks/TextInput.AzYEG7aR.js";import{g as Yr}from"../chunks/stores.B7mFRYPc.js";import{a as pn}from"../chunks/BaseCaller.DjZVoOtO.js";import{g as Wr}from"../chunks/stores.B4wH1ktA.js";import{T as Ui}from"../chunks/Table.RVhvsgSk.js";import"../chunks/entry.B6CwSG2B.js";function ji(l){let e,t,n,r=`${l[4]?100:l[7]}%`,i,s;return{c(){e=F("div"),t=F("div"),this.h()},l(a){e=N(a,"DIV",{class:!0,"data-testid":!0,role:!0,"aria-labelledby":!0,"aria-valuenow":!0,"aria-valuemin":!0,"aria-valuemax":!0});var o=M(e);t=N(o,"DIV",{class:!0}),M(t).forEach(b),o.forEach(b),this.h()},h(){E(t,"class",n="progress-bar-meter "+l[5]+" svelte-12wvf64"),It(t,"width",r),E(e,"class",i="progress-bar "+l[6]+" svelte-12wvf64"),E(e,"data-testid","progress-bar"),E(e,"role","progressbar"),E(e,"aria-labelledby",l[3]),E(e,"aria-valuenow",l[0]),E(e,"aria-valuemin",l[1]),E(e,"aria-valuemax",s=l[2]-l[1])},m(a,o){T(a,e,o),V(e,t)},p(a,[o]){o&32&&n!==(n="progress-bar-meter "+a[5]+" svelte-12wvf64")&&E(t,"class",n),o&144&&r!==(r=`${a[4]?100:a[7]}%`)&&It(t,"width",r),o&64&&i!==(i="progress-bar "+a[6]+" svelte-12wvf64")&&E(e,"class",i),o&8&&E(e,"aria-labelledby",a[3]),o&1&&E(e,"aria-valuenow",a[0]),o&2&&E(e,"aria-valuemin",a[1]),o&6&&s!==(s=a[2]-a[1])&&E(e,"aria-valuemax",s)},i:$,o:$,d(a){a&&b(e)}}}const qi="w-full overflow-hidden",Ki="h-full";function Gi(l,e,t){let n,r,i,s,a,{value:o=void 0}=e,{min:f=0}=e,{max:c=100}=e,{height:u="h-2"}=e,{rounded:h="rounded-token"}=e,{transition:d="transition-[width]"}=e,{animIndeterminate:m="anim-indeterminate"}=e,{meter:p="bg-surface-900-50-token"}=e,{track:D="bg-surface-200-700-token"}=e,{labelledby:k=""}=e;return l.$$set=v=>{t(15,e=Ne(Ne({},e),gn(v))),"value"in v&&t(0,o=v.value),"min"in v&&t(1,f=v.min),"max"in v&&t(2,c=v.max),"height"in v&&t(8,u=v.height),"rounded"in v&&t(9,h=v.rounded),"transition"in v&&t(10,d=v.transition),"animIndeterminate"in v&&t(11,m=v.animIndeterminate),"meter"in v&&t(12,p=v.meter),"track"in v&&t(13,D=v.track),"labelledby"in v&&t(3,k=v.labelledby)},l.$$.update=()=>{l.$$.dirty&7&&t(7,n=o?100*(o-f)/(c-f):0),l.$$.dirty&1&&t(4,r=o===void 0||o<0),l.$$.dirty&2064&&t(14,i=r?m:""),t(6,s=`${qi} ${D} ${u} ${h} ${e.class??""}`),l.$$.dirty&22016&&t(5,a=`${Ki} ${p} ${h} ${i} ${d}`)},e=gn(e),[o,f,c,k,r,a,s,n,u,h,d,m,p,D,i]}class Yi extends ee{constructor(e){super(),te(this,e,Gi,ji,ne,{value:0,min:1,max:2,height:8,rounded:9,transition:10,animIndeterminate:11,meter:12,track:13,labelledby:3})}}const{window:Wi}=Ii;function xn(l){let e,t,n,r,i,s,a,o,f,c,u;const h=l[32].default,d=zt(h,l,l[31],null);return{c(){e=F("div"),t=F("div"),d&&d.c(),this.h()},l(m){e=N(m,"DIV",{class:!0,"data-testid":!0});var p=M(e);t=N(p,"DIV",{class:!0,"data-testid":!0,role:!0,"aria-modal":!0,"aria-labelledby":!0,"aria-describedby":!0});var D=M(t);d&&d.l(D),D.forEach(b),p.forEach(b),this.h()},h(){E(t,"class",n="drawer "+l[8]),E(t,"data-testid","drawer"),E(t,"role","dialog"),E(t,"aria-modal","true"),E(t,"aria-labelledby",l[0]),E(t,"aria-describedby",l[1]),E(e,"class",s="drawer-backdrop "+l[9]),E(e,"data-testid","drawer-backdrop")},m(m,p){T(m,e,p),V(e,t),d&&d.m(t,null),l[36](t),l[37](e),f=!0,c||(u=[Y(e,"mousedown",l[12]),Y(e,"touchstart",l[33],{passive:!0}),Y(e,"touchend",l[34],{passive:!0}),Y(e,"keypress",l[35]),ki(Ei.call(null,e,!0))],c=!0)},p(m,p){l=m,d&&d.p&&(!f||p[1]&1)&&Lt(d,h,l,l[31],f?Bt(h,l[31],p,null):Rt(l[31]),null),(!f||p[0]&256&&n!==(n="drawer "+l[8]))&&E(t,"class",n),(!f||p[0]&1)&&E(t,"aria-labelledby",l[0]),(!f||p[0]&2)&&E(t,"aria-describedby",l[1]),(!f||p[0]&512&&s!==(s="drawer-backdrop "+l[9]))&&E(e,"class",s)},i(m){f||(_(d,m),m&&_n(()=>{f&&(i&&i.end(1),r=Xn(t,cn,{transition:$n,params:{x:l[7].x,y:l[7].y,duration:l[2],opacity:l[3]?void 0:1},enabled:l[4]}),r.start())}),m&&_n(()=>{f&&(o&&o.end(1),a=Xn(e,cn,{transition:bn,params:{duration:l[2]},enabled:l[4]&&l[3]}),a.start())}),f=!0)},o(m){w(d,m),r&&r.invalidate(),m&&(i=Jn(t,cn,{transition:$n,params:{x:l[7].x,y:l[7].y,duration:l[2],opacity:l[3]?void 0:1,easing:Ci},enabled:l[4]})),a&&a.invalidate(),m&&(o=Jn(e,cn,{transition:bn,params:{duration:l[2]},enabled:l[4]&&l[3]})),f=!1},d(m){m&&b(e),d&&d.d(m),l[36](null),m&&i&&i.end(),l[37](null),m&&o&&o.end(),c=!1,ot(u)}}}function Xi(l){let e,t,n,r,i=l[10].open===!0&&xn(l);return{c(){i&&i.c(),e=J()},l(s){i&&i.l(s),e=J()},m(s,a){i&&i.m(s,a),T(s,e,a),t=!0,n||(r=Y(Wi,"keydown",l[13]),n=!0)},p(s,a){s[10].open===!0?i?(i.p(s,a),a[0]&1024&&_(i,1)):(i=xn(s),i.c(),_(i,1),i.m(e.parentNode,e)):i&&(W(),w(i,1,1,()=>{i=null}),X())},i(s){t||(_(i),t=!0)},o(s){w(i),t=!1},d(s){s&&b(e),i&&i.d(s),n=!1,r()}}}const Ji="fixed top-0 left-0 right-0 bottom-0 flex",Qi="overflow-y-auto transition-transform";function Zi(l,e,t){let n,r,i,s,a,o,f,c;lt(l,vi,q=>t(38,c=q));let{$$slots:u={},$$scope:h}=e;const d=Ye();let{position:m="left"}=e,{bgDrawer:p="bg-surface-100-800-token"}=e,{border:D=""}=e,{rounded:k=""}=e,{shadow:v="shadow-xl"}=e,{width:g=""}=e,{height:y=""}=e,{bgBackdrop:A="bg-surface-backdrop-token"}=e,{blur:C=""}=e,{padding:I=""}=e,{zIndex:H="z-40"}=e,{regionBackdrop:z=""}=e,{regionDrawer:S=""}=e,{labelledby:G=""}=e,{describedby:ie=""}=e,{duration:se=200}=e,{transitions:Ee=!c}=e,{opacityTransition:he=!0}=e;const Oe={top:{alignment:"items-start",width:"w-full",height:"h-[50%]",rounded:"rounded-bl-container-token rounded-br-container-token"},bottom:{alignment:"items-end",width:"w-full",height:" h-[50%]",rounded:"rounded-tl-container-token rounded-tr-container-token"},left:{alignment:"justify-start",width:"w-[90%]",height:"h-full",rounded:"rounded-tr-container-token rounded-br-container-token"},right:{alignment:"justify-end",width:"w-[90%]",height:"h-full",rounded:"rounded-tl-container-token rounded-bl-container-token"}};let ze,pe,ve={x:0,y:0};const Me=Yr();lt(l,Me,q=>t(10,f=q));const ce={position:m,bgBackdrop:A,blur:C,padding:I,bgDrawer:p,border:D,rounded:k,shadow:v,width:g,height:y,opacityTransition:he,regionBackdrop:z,regionDrawer:S,labelledby:G,describedby:ie,duration:se};function Ve(q){t(14,m=q.position||ce.position),t(21,A=q.bgBackdrop||ce.bgBackdrop),t(22,C=q.blur||ce.blur),t(23,I=q.padding||ce.padding),t(15,p=q.bgDrawer||ce.bgDrawer),t(16,D=q.border||ce.border),t(17,k=q.rounded||ce.rounded),t(18,v=q.shadow||ce.shadow),t(19,g=q.width||ce.width),t(20,y=q.height||ce.height),t(24,z=q.regionBackdrop||ce.regionBackdrop),t(25,S=q.regionDrawer||ce.regionDrawer),t(0,G=q.labelledby||ce.labelledby),t(1,ie=q.describedby||ce.describedby),t(3,he=q.opacityTransition||ce.opacityTransition),t(2,se=q.duration||ce.duration)}function rt(){switch(m){case"top":t(7,ve={x:0,y:-window.innerWidth});break;case"bottom":t(7,ve={x:0,y:window.innerWidth});break;case"left":t(7,ve={x:-window.innerHeight,y:0});break;case"right":t(7,ve={x:window.innerHeight,y:0});break;default:console.error("Error: unknown position property value.");break}}function Pe(q){q.target===ze?(Me.close(),d("backdrop",q)):d("drawer",q)}function Ue(q){f&&q.code==="Escape"&&Me.close()}Me.subscribe(q=>{q.open===!0&&(Ve(q),rt())});function je(q){Ae.call(this,l,q)}function it(q){Ae.call(this,l,q)}function Je(q){Ae.call(this,l,q)}function P(q){be[q?"unshift":"push"](()=>{pe=q,t(6,pe)})}function ke(q){be[q?"unshift":"push"](()=>{ze=q,t(5,ze)})}return l.$$set=q=>{t(44,e=Ne(Ne({},e),gn(q))),"position"in q&&t(14,m=q.position),"bgDrawer"in q&&t(15,p=q.bgDrawer),"border"in q&&t(16,D=q.border),"rounded"in q&&t(17,k=q.rounded),"shadow"in q&&t(18,v=q.shadow),"width"in q&&t(19,g=q.width),"height"in q&&t(20,y=q.height),"bgBackdrop"in q&&t(21,A=q.bgBackdrop),"blur"in q&&t(22,C=q.blur),"padding"in q&&t(23,I=q.padding),"zIndex"in q&&t(26,H=q.zIndex),"regionBackdrop"in q&&t(24,z=q.regionBackdrop),"regionDrawer"in q&&t(25,S=q.regionDrawer),"labelledby"in q&&t(0,G=q.labelledby),"describedby"in q&&t(1,ie=q.describedby),"duration"in q&&t(2,se=q.duration),"transitions"in q&&t(4,Ee=q.transitions),"opacityTransition"in q&&t(3,he=q.opacityTransition),"$$scope"in q&&t(31,h=q.$$scope)},l.$$.update=()=>{l.$$.dirty[0]&16384&&t(30,n=Oe[m].alignment),l.$$.dirty[0]&540672&&t(29,r=g||Oe[m].width),l.$$.dirty[0]&1064960&&t(28,i=y||Oe[m].height),l.$$.dirty[0]&147456&&t(27,s=k||Oe[m].rounded),t(9,a=`${Ji} ${A} ${I} ${C} ${n} ${z} ${H} ${e.class??""}`),l.$$.dirty[0]&973570048&&t(8,o=`${Qi} ${p} ${D} ${k} ${v} ${r} ${i} ${s} ${S}`)},e=gn(e),[G,ie,se,he,Ee,ze,pe,ve,o,a,f,Me,Pe,Ue,m,p,D,k,v,g,y,A,C,I,z,S,H,s,i,r,n,h,u,je,it,Je,P,ke]}class $i extends ee{constructor(e){super(),te(this,e,Zi,Xi,ne,{position:14,bgDrawer:15,border:16,rounded:17,shadow:18,width:19,height:20,bgBackdrop:21,blur:22,padding:23,zIndex:26,regionBackdrop:24,regionDrawer:25,labelledby:0,describedby:1,duration:2,transitions:4,opacityTransition:3},null,[-1,-1])}}var xi={prefix:"far",iconName:"trash-can",icon:[448,512,[61460,"trash-alt"],"f2ed","M170.5 51.6L151.5 80h145l-19-28.4c-1.5-2.2-4-3.6-6.7-3.6H177.1c-2.7 0-5.2 1.3-6.7 3.6zm147-26.6L354.2 80H368h48 8c13.3 0 24 10.7 24 24s-10.7 24-24 24h-8V432c0 44.2-35.8 80-80 80H112c-44.2 0-80-35.8-80-80V128H24c-13.3 0-24-10.7-24-24S10.7 80 24 80h8H80 93.8l36.7-55.1C140.9 9.4 158.4 0 177.1 0h93.7c18.7 0 36.2 9.4 46.6 24.9zM80 128V432c0 17.7 14.3 32 32 32H336c17.7 0 32-14.3 32-32V128H80zm80 64V400c0 8.8-7.2 16-16 16s-16-7.2-16-16V192c0-8.8 7.2-16 16-16s16 7.2 16 16zm80 0V400c0 8.8-7.2 16-16 16s-16-7.2-16-16V192c0-8.8 7.2-16 16-16s16 7.2 16 16zm80 0V400c0 8.8-7.2 16-16 16s-16-7.2-16-16V192c0-8.8 7.2-16 16-16s16 7.2 16 16z"]},es=xi,ts={prefix:"far",iconName:"file-lines",icon:[384,512,[128441,128462,61686,"file-alt","file-text"],"f15c","M64 464c-8.8 0-16-7.2-16-16V64c0-8.8 7.2-16 16-16H224v80c0 17.7 14.3 32 32 32h80V448c0 8.8-7.2 16-16 16H64zM64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V154.5c0-17-6.7-33.3-18.7-45.3L274.7 18.7C262.7 6.7 246.5 0 229.5 0H64zm56 256c-13.3 0-24 10.7-24 24s10.7 24 24 24H264c13.3 0 24-10.7 24-24s-10.7-24-24-24H120zm0 96c-13.3 0-24 10.7-24 24s10.7 24 24 24H264c13.3 0 24-10.7 24-24s-10.7-24-24-24H120z"]},ns=ts,ls={prefix:"far",iconName:"file-word",icon:[384,512,[],"f1c2","M48 448V64c0-8.8 7.2-16 16-16H224v80c0 17.7 14.3 32 32 32h80V448c0 8.8-7.2 16-16 16H64c-8.8 0-16-7.2-16-16zM64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V154.5c0-17-6.7-33.3-18.7-45.3L274.7 18.7C262.7 6.7 246.5 0 229.5 0H64zm55 241.1c-3.8-12.7-17.2-19.9-29.9-16.1s-19.9 17.2-16.1 29.9l48 160c3 10.2 12.4 17.1 23 17.1s19.9-7 23-17.1l25-83.4 25 83.4c3 10.2 12.4 17.1 23 17.1s19.9-7 23-17.1l48-160c3.8-12.7-3.4-26.1-16.1-29.9s-26.1 3.4-29.9 16.1l-25 83.4-25-83.4c-3-10.2-12.4-17.1-23-17.1s-19.9 7-23 17.1l-25 83.4-25-83.4z"]},rs={prefix:"far",iconName:"file-zipper",icon:[384,512,["file-archive"],"f1c6","M64 464c-8.8 0-16-7.2-16-16V64c0-8.8 7.2-16 16-16h48c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16h48v80c0 17.7 14.3 32 32 32h80V448c0 8.8-7.2 16-16 16H64zM64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V154.5c0-17-6.7-33.3-18.7-45.3L274.7 18.7C262.7 6.7 246.5 0 229.5 0H64zm48 112c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16s-7.2-16-16-16H128c-8.8 0-16 7.2-16 16zm0 64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16s-7.2-16-16-16H128c-8.8 0-16 7.2-16 16zm-6.3 71.8L82.1 335.9c-1.4 5.4-2.1 10.9-2.1 16.4c0 35.2 28.8 63.7 64 63.7s64-28.5 64-63.7c0-5.5-.7-11.1-2.1-16.4l-23.5-88.2c-3.7-14-16.4-23.8-30.9-23.8H136.6c-14.5 0-27.2 9.7-30.9 23.8zM128 336h32c8.8 0 16 7.2 16 16s-7.2 16-16 16H128c-8.8 0-16-7.2-16-16s7.2-16 16-16z"]},is=rs,ss={prefix:"far",iconName:"file-excel",icon:[384,512,[],"f1c3","M48 448V64c0-8.8 7.2-16 16-16H224v80c0 17.7 14.3 32 32 32h80V448c0 8.8-7.2 16-16 16H64c-8.8 0-16-7.2-16-16zM64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V154.5c0-17-6.7-33.3-18.7-45.3L274.7 18.7C262.7 6.7 246.5 0 229.5 0H64zm90.9 233.3c-8.1-10.5-23.2-12.3-33.7-4.2s-12.3 23.2-4.2 33.7L161.6 320l-44.5 57.3c-8.1 10.5-6.3 25.5 4.2 33.7s25.5 6.3 33.7-4.2L192 359.1l37.1 47.6c8.1 10.5 23.2 12.3 33.7 4.2s12.3-23.2 4.2-33.7L222.4 320l44.5-57.3c8.1-10.5 6.3-25.5-4.2-33.7s-25.5-6.3-33.7 4.2L192 280.9l-37.1-47.6z"]},os={prefix:"far",iconName:"file-audio",icon:[384,512,[],"f1c7","M64 464H320c8.8 0 16-7.2 16-16V160H256c-17.7 0-32-14.3-32-32V48H64c-8.8 0-16 7.2-16 16V448c0 8.8 7.2 16 16 16zM0 64C0 28.7 28.7 0 64 0H229.5c17 0 33.3 6.7 45.3 18.7l90.5 90.5c12 12 18.7 28.3 18.7 45.3V448c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V64zM192 272V400c0 6.5-3.9 12.3-9.9 14.8s-12.9 1.1-17.4-3.5L129.4 376H112c-8.8 0-16-7.2-16-16V312c0-8.8 7.2-16 16-16h17.4l35.3-35.3c4.6-4.6 11.5-5.9 17.4-3.5s9.9 8.3 9.9 14.8zm85.8-4c11.6 20 18.2 43.3 18.2 68s-6.6 48-18.2 68c-6.6 11.5-21.3 15.4-32.8 8.8s-15.4-21.3-8.8-32.8c7.5-12.9 11.8-27.9 11.8-44s-4.3-31.1-11.8-44c-6.6-11.5-2.7-26.2 8.8-32.8s26.2-2.7 32.8 8.8z"]},as={prefix:"far",iconName:"file-image",icon:[384,512,[128443],"f1c5","M64 464c-8.8 0-16-7.2-16-16V64c0-8.8 7.2-16 16-16H224v80c0 17.7 14.3 32 32 32h80V448c0 8.8-7.2 16-16 16H64zM64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V154.5c0-17-6.7-33.3-18.7-45.3L274.7 18.7C262.7 6.7 246.5 0 229.5 0H64zm96 256a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zm69.2 46.9c-3-4.3-7.9-6.9-13.2-6.9s-10.2 2.6-13.2 6.9l-41.3 59.7-11.9-19.1c-2.9-4.7-8.1-7.5-13.6-7.5s-10.6 2.8-13.6 7.5l-40 64c-3.1 4.9-3.2 11.1-.4 16.2s8.2 8.2 14 8.2h48 32 40 72c6 0 11.4-3.3 14.2-8.6s2.4-11.6-1-16.5l-72-104z"]},fs={prefix:"far",iconName:"floppy-disk",icon:[448,512,[128190,128426,"save"],"f0c7","M48 96V416c0 8.8 7.2 16 16 16H384c8.8 0 16-7.2 16-16V170.5c0-4.2-1.7-8.3-4.7-11.3l33.9-33.9c12 12 18.7 28.3 18.7 45.3V416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96C0 60.7 28.7 32 64 32H309.5c17 0 33.3 6.7 45.3 18.7l74.5 74.5-33.9 33.9L320.8 84.7c-.3-.3-.5-.5-.8-.8V184c0 13.3-10.7 24-24 24H104c-13.3 0-24-10.7-24-24V80H64c-8.8 0-16 7.2-16 16zm80-16v80H272V80H128zm32 240a64 64 0 1 1 128 0 64 64 0 1 1 -128 0z"]},cs=fs,us={prefix:"far",iconName:"file-video",icon:[384,512,[],"f1c8","M320 464c8.8 0 16-7.2 16-16V160H256c-17.7 0-32-14.3-32-32V48H64c-8.8 0-16 7.2-16 16V448c0 8.8 7.2 16 16 16H320zM0 64C0 28.7 28.7 0 64 0H229.5c17 0 33.3 6.7 45.3 18.7l90.5 90.5c12 12 18.7 28.3 18.7 45.3V448c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V64zM80 288c0-17.7 14.3-32 32-32h96c17.7 0 32 14.3 32 32v16l44.9-29.9c2-1.3 4.4-2.1 6.8-2.1c6.8 0 12.3 5.5 12.3 12.3V387.7c0 6.8-5.5 12.3-12.3 12.3c-2.4 0-4.8-.7-6.8-2.1L240 368v16c0 17.7-14.3 32-32 32H112c-17.7 0-32-14.3-32-32V288z"]},ds={prefix:"far",iconName:"file-pdf",icon:[512,512,[],"f1c1","M64 464l48 0 0 48-48 0c-35.3 0-64-28.7-64-64L0 64C0 28.7 28.7 0 64 0L229.5 0c17 0 33.3 6.7 45.3 18.7l90.5 90.5c12 12 18.7 28.3 18.7 45.3L384 304l-48 0 0-144-80 0c-17.7 0-32-14.3-32-32l0-80L64 48c-8.8 0-16 7.2-16 16l0 384c0 8.8 7.2 16 16 16zM176 352l32 0c30.9 0 56 25.1 56 56s-25.1 56-56 56l-16 0 0 32c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-48 0-80c0-8.8 7.2-16 16-16zm32 80c13.3 0 24-10.7 24-24s-10.7-24-24-24l-16 0 0 48 16 0zm96-80l32 0c26.5 0 48 21.5 48 48l0 64c0 26.5-21.5 48-48 48l-32 0c-8.8 0-16-7.2-16-16l0-128c0-8.8 7.2-16 16-16zm32 128c8.8 0 16-7.2 16-16l0-64c0-8.8-7.2-16-16-16l-16 0 0 96 16 0zm80-112c0-8.8 7.2-16 16-16l48 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-32 0 0 32 32 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-32 0 0 48c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-64 0-64z"]},ms={prefix:"far",iconName:"hourglass",icon:[384,512,[9203,62032,"hourglass-empty"],"f254","M24 0C10.7 0 0 10.7 0 24S10.7 48 24 48h8V67c0 40.3 16 79 44.5 107.5L158.1 256 76.5 337.5C48 366 32 404.7 32 445v19H24c-13.3 0-24 10.7-24 24s10.7 24 24 24H360c13.3 0 24-10.7 24-24s-10.7-24-24-24h-8V445c0-40.3-16-79-44.5-107.5L225.9 256l81.5-81.5C336 146 352 107.3 352 67V48h8c13.3 0 24-10.7 24-24s-10.7-24-24-24H24zM192 289.9l81.5 81.5C293 391 304 417.4 304 445v19H80V445c0-27.6 11-54 30.5-73.5L192 289.9zm0-67.9l-81.5-81.5C91 121 80 94.6 80 67V48H304V67c0 27.6-11 54-30.5 73.5L192 222.1z"]};function el(l){let e,t;return e=new me({props:{icon:ss}}),{c(){L(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,r){B(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function tl(l){let e,t;return e=new me({props:{icon:ns}}),{c(){L(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,r){B(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function nl(l){let e,t;return e=new me({props:{icon:as}}),{c(){L(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,r){B(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function ll(l){let e,t;return e=new me({props:{icon:os}}),{c(){L(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,r){B(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function rl(l){let e,t;return e=new me({props:{icon:us}}),{c(){L(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,r){B(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function il(l){let e,t;return e=new me({props:{icon:ls}}),{c(){L(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,r){B(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function sl(l){let e,t;return e=new me({props:{icon:ds}}),{c(){L(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,r){B(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function ol(l){let e,t;return e=new me({props:{icon:is}}),{c(){L(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,r){B(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function hs(l){let e=l[0].includes("excel")||l[0].includes("spreadsheetml"),t,n=l[0].includes("text"),r,i=l[0].includes("image"),s,a=l[0].includes("audio"),o,f=l[0].includes("video"),c,u=l[0].includes("word"),h,d=l[0].includes("pdf"),m,p=l[0].includes("zip"),D,k,v=e&&el(),g=n&&tl(),y=i&&nl(),A=a&&ll(),C=f&&rl(),I=u&&il(),H=d&&sl(),z=p&&ol();return{c(){v&&v.c(),t=U(),g&&g.c(),r=U(),y&&y.c(),s=U(),A&&A.c(),o=U(),C&&C.c(),c=U(),I&&I.c(),h=U(),H&&H.c(),m=U(),z&&z.c(),D=J()},l(S){v&&v.l(S),t=j(S),g&&g.l(S),r=j(S),y&&y.l(S),s=j(S),A&&A.l(S),o=j(S),C&&C.l(S),c=j(S),I&&I.l(S),h=j(S),H&&H.l(S),m=j(S),z&&z.l(S),D=J()},m(S,G){v&&v.m(S,G),T(S,t,G),g&&g.m(S,G),T(S,r,G),y&&y.m(S,G),T(S,s,G),A&&A.m(S,G),T(S,o,G),C&&C.m(S,G),T(S,c,G),I&&I.m(S,G),T(S,h,G),H&&H.m(S,G),T(S,m,G),z&&z.m(S,G),T(S,D,G),k=!0},p(S,[G]){G&1&&(e=S[0].includes("excel")||S[0].includes("spreadsheetml")),e?v?G&1&&_(v,1):(v=el(),v.c(),_(v,1),v.m(t.parentNode,t)):v&&(W(),w(v,1,1,()=>{v=null}),X()),G&1&&(n=S[0].includes("text")),n?g?G&1&&_(g,1):(g=tl(),g.c(),_(g,1),g.m(r.parentNode,r)):g&&(W(),w(g,1,1,()=>{g=null}),X()),G&1&&(i=S[0].includes("image")),i?y?G&1&&_(y,1):(y=nl(),y.c(),_(y,1),y.m(s.parentNode,s)):y&&(W(),w(y,1,1,()=>{y=null}),X()),G&1&&(a=S[0].includes("audio")),a?A?G&1&&_(A,1):(A=ll(),A.c(),_(A,1),A.m(o.parentNode,o)):A&&(W(),w(A,1,1,()=>{A=null}),X()),G&1&&(f=S[0].includes("video")),f?C?G&1&&_(C,1):(C=rl(),C.c(),_(C,1),C.m(c.parentNode,c)):C&&(W(),w(C,1,1,()=>{C=null}),X()),G&1&&(u=S[0].includes("word")),u?I?G&1&&_(I,1):(I=il(),I.c(),_(I,1),I.m(h.parentNode,h)):I&&(W(),w(I,1,1,()=>{I=null}),X()),G&1&&(d=S[0].includes("pdf")),d?H?G&1&&_(H,1):(H=sl(),H.c(),_(H,1),H.m(m.parentNode,m)):H&&(W(),w(H,1,1,()=>{H=null}),X()),G&1&&(p=S[0].includes("zip")),p?z?G&1&&_(z,1):(z=ol(),z.c(),_(z,1),z.m(D.parentNode,D)):z&&(W(),w(z,1,1,()=>{z=null}),X())},i(S){k||(_(v),_(g),_(y),_(A),_(C),_(I),_(H),_(z),k=!0)},o(S){w(v),w(g),w(y),w(A),w(C),w(I),w(H),w(z),k=!1},d(S){S&&(b(t),b(r),b(s),b(o),b(c),b(h),b(m),b(D)),v&&v.d(S),g&&g.d(S),y&&y.d(S),A&&A.d(S),C&&C.d(S),I&&I.d(S),H&&H.d(S),z&&z.d(S)}}}function gs(l,e,t){let{type:n=""}=e;return l.$$set=r=>{"type"in r&&t(0,n=r.type)},[n]}class _s extends ee{constructor(e){super(),te(this,e,gs,hs,ne,{type:0})}}function bs(l){let e,t,n,r,i;return t=new _s({props:{type:l[1]}}),{c(){e=F("div"),L(t.$$.fragment),n=U(),r=le(l[0]),this.h()},l(s){e=N(s,"DIV",{style:!0});var a=M(e);R(t.$$.fragment,a),n=j(a),r=re(a,l[0]),a.forEach(b),this.h()},h(){It(e,"font-size",l[2])},m(s,a){T(s,e,a),B(t,e,null),V(e,n),V(e,r),i=!0},p(s,[a]){const o={};a&2&&(o.type=s[1]),t.$set(o),(!i||a&1)&&ue(r,s[0]),(!i||a&4)&&It(e,"font-size",s[2])},i(s){i||(_(t.$$.fragment,s),i=!0)},o(s){w(t.$$.fragment,s),i=!1},d(s){s&&b(e),O(t)}}}function ps(l,e,t){let{name:n=""}=e,{type:r=""}=e,{size:i=""}=e;return l.$$set=s=>{"name"in s&&t(0,n=s.name),"type"in s&&t(1,r=s.type),"size"in s&&t(2,i=s.size)},[n,r,i]}class vs extends ee{constructor(e){super(),te(this,e,ps,bs,ne,{name:0,type:1,size:2})}}function Ut(l,e,t,n){function r(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(c){try{f(n.next(c))}catch(u){s(u)}}function o(c){try{f(n.throw(c))}catch(u){s(u)}}function f(c){c.done?i(c.value):r(c.value).then(a,o)}f((n=n.apply(l,e||[])).next())})}function jt(l,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,r,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(f){return function(c){return o([f,c])}}function o(f){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(t=0)),t;)try{if(n=1,r&&(i=f[0]&2?r.return:f[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,f[1])).done)return i;switch(r=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,r=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(l,t)}catch(c){f=[6,c],r=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function al(l,e){var t=typeof Symbol=="function"&&l[Symbol.iterator];if(!t)return l;var n=t.call(l),r,i=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)i.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return i}function fl(l,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,i;n<r;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return l.concat(i||Array.prototype.slice.call(e))}var ks=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function $t(l,e){var t=ws(l);if(typeof t.path!="string"){var n=l.webkitRelativePath;Object.defineProperty(t,"path",{value:typeof e=="string"?e:typeof n=="string"&&n.length>0?n:l.name,writable:!1,configurable:!1,enumerable:!0})}return t}function ws(l){var e=l.name,t=e&&e.lastIndexOf(".")!==-1;if(t&&!l.type){var n=e.split(".").pop().toLowerCase(),r=ks.get(n);r&&Object.defineProperty(l,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return l}var Ds=[".DS_Store","Thumbs.db"];function Es(l){return Ut(this,void 0,void 0,function(){return jt(this,function(e){return vn(l)&&ys(l.dataTransfer)?[2,Ss(l.dataTransfer,l.type)]:Is(l)?[2,Cs(l)]:Array.isArray(l)&&l.every(function(t){return"getFile"in t&&typeof t.getFile=="function"})?[2,Vs(l)]:[2,[]]})})}function ys(l){return vn(l)}function Is(l){return vn(l)&&vn(l.target)}function vn(l){return typeof l=="object"&&l!==null}function Cs(l){return Vn(l.target.files).map(function(e){return $t(e)})}function Vs(l){return Ut(this,void 0,void 0,function(){var e;return jt(this,function(t){switch(t.label){case 0:return[4,Promise.all(l.map(function(n){return n.getFile()}))];case 1:return e=t.sent(),[2,e.map(function(n){return $t(n)})]}})})}function Ss(l,e){return Ut(this,void 0,void 0,function(){var t,n;return jt(this,function(r){switch(r.label){case 0:return l.items?(t=Vn(l.items).filter(function(i){return i.kind==="file"}),e!=="drop"?[2,t]:[4,Promise.all(t.map(Fs))]):[3,2];case 1:return n=r.sent(),[2,cl(Xr(n))];case 2:return[2,cl(Vn(l.files).map(function(i){return $t(i)}))]}})})}function cl(l){return l.filter(function(e){return Ds.indexOf(e.name)===-1})}function Vn(l){if(l===null)return[];for(var e=[],t=0;t<l.length;t++){var n=l[t];e.push(n)}return e}function Fs(l){if(typeof l.webkitGetAsEntry!="function")return ul(l);var e=l.webkitGetAsEntry();return e&&e.isDirectory?Jr(e):ul(l)}function Xr(l){return l.reduce(function(e,t){return fl(fl([],al(e),!1),al(Array.isArray(t)?Xr(t):[t]),!1)},[])}function ul(l){var e=l.getAsFile();if(!e)return Promise.reject("".concat(l," is not a File"));var t=$t(e);return Promise.resolve(t)}function Ns(l){return Ut(this,void 0,void 0,function(){return jt(this,function(e){return[2,l.isDirectory?Jr(l):Ts(l)]})})}function Jr(l){var e=l.createReader();return new Promise(function(t,n){var r=[];function i(){var s=this;e.readEntries(function(a){return Ut(s,void 0,void 0,function(){var o,f,c;return jt(this,function(u){switch(u.label){case 0:if(a.length)return[3,5];u.label=1;case 1:return u.trys.push([1,3,,4]),[4,Promise.all(r)];case 2:return o=u.sent(),t(o),[3,4];case 3:return f=u.sent(),n(f),[3,4];case 4:return[3,6];case 5:c=Promise.all(a.map(Ns)),r.push(c),i(),u.label=6;case 6:return[2]}})})},function(a){n(a)})}i()})}function Ts(l){return Ut(this,void 0,void 0,function(){return jt(this,function(e){return[2,new Promise(function(t,n){l.file(function(r){var i=$t(r,l.fullPath);t(i)},function(r){n(r)})})]})})}function Hs(l,e){if(l&&e){const t=Array.isArray(e)?e:e.split(","),n=l.name||"",r=(l.type||"").toLowerCase(),i=r.replace(/\/.*$/,"");return t.some(s=>{const a=s.trim().toLowerCase();return a.charAt(0)==="."?n.toLowerCase().endsWith(a):a.endsWith("/*")?i===a.replace(/\/.*$/,""):r===a})}return!0}const As="file-invalid-type",Ms="file-too-large",zs="file-too-small",Ls="too-many-files",Rs=l=>{l=Array.isArray(l)&&l.length===1?l[0]:l;const e=Array.isArray(l)?`one of ${l.join(", ")}`:l;return{code:As,message:`File type must be ${e}`}},dl=l=>({code:Ms,message:`File is larger than ${l} bytes`}),ml=l=>({code:zs,message:`File is smaller than ${l} bytes`}),Bs={code:Ls,message:"Too many files"};function Os(l,e){const t=l.type==="application/x-moz-file"||Hs(l,e);return[t,t?null:Rs(e)]}function Ps(l,e,t){if(Gt(l.size))if(Gt(e)&&Gt(t)){if(l.size>t)return[!1,dl(t)];if(l.size<e)return[!1,ml(e)]}else{if(Gt(e)&&l.size<e)return[!1,ml(e)];if(Gt(t)&&l.size>t)return[!1,dl(t)]}return[!0,null]}function Gt(l){return l!=null}function hl(l){return typeof l.isPropagationStopped=="function"?l.isPropagationStopped():typeof l.cancelBubble<"u"?l.cancelBubble:!1}function un(l){return l.dataTransfer?Array.prototype.some.call(l.dataTransfer.types,e=>e==="Files"||e==="application/x-moz-file"):!!l.target&&!!l.target.files}function Us(l){return l.indexOf("MSIE")!==-1||l.indexOf("Trident/")!==-1}function js(l){return l.indexOf("Edge/")!==-1}function qs(l=window.navigator.userAgent){return Us(l)||js(l)}function Ks(l){let e,t="Drag 'n' drop some files here, or click to select files";return{c(){e=F("p"),e.textContent=t},l(n){e=N(n,"P",{"data-svelte-h":!0}),ge(e)!=="svelte-cb9g9j"&&(e.textContent=t)},m(n,r){T(n,e,r)},p:$,d(n){n&&b(e)}}}function Gs(l){let e,t,n,r,i,s,a;const o=l[33].default,f=zt(o,l,l[32],null),c=f||Ks();return{c(){e=F("div"),t=F("input"),n=U(),c&&c.c(),this.h()},l(u){e=N(u,"DIV",{tabindex:!0,role:!0,class:!0,style:!0});var h=M(e);t=N(h,"INPUT",{accept:!0,type:!0,name:!0,autocomplete:!0,tabindex:!0,style:!0}),n=j(h),c&&c.l(h),h.forEach(b),this.h()},h(){E(t,"accept",l[1]),t.multiple=l[2],t.required=l[7],E(t,"type","file"),E(t,"name",l[6]),E(t,"autocomplete","off"),E(t,"tabindex","-1"),It(t,"display","none"),E(e,"tabindex","0"),E(e,"role","button"),E(e,"class",r=(l[5]?"":"dropzone")+" "+l[3]+" svelte-817dg2"),E(e,"style",l[4])},m(u,h){T(u,e,h),V(e,t),l[34](t),V(e,n),c&&c.m(e,null),l[35](e),i=!0,s||(a=[Y(window,"focus",l[22]),Y(window,"dragover",l[20]),Y(window,"drop",l[21]),Y(t,"change",l[19]),Y(t,"click",Ys),Y(e,"keydown",function(){st(l[11](l[12]))&&l[11](l[12]).apply(this,arguments)}),Y(e,"focus",function(){st(l[11](l[13]))&&l[11](l[13]).apply(this,arguments)}),Y(e,"blur",function(){st(l[11](l[14]))&&l[11](l[14]).apply(this,arguments)}),Y(e,"click",function(){st(l[8](l[15]))&&l[8](l[15]).apply(this,arguments)}),Y(e,"dragenter",function(){st(l[10](l[16]))&&l[10](l[16]).apply(this,arguments)}),Y(e,"dragover",function(){st(l[10](l[17]))&&l[10](l[17]).apply(this,arguments)}),Y(e,"dragleave",function(){st(l[10](l[18]))&&l[10](l[18]).apply(this,arguments)}),Y(e,"drop",function(){st(l[10](l[19]))&&l[10](l[19]).apply(this,arguments)})],s=!0)},p(u,h){l=u,(!i||h[0]&2)&&E(t,"accept",l[1]),(!i||h[0]&4)&&(t.multiple=l[2]),(!i||h[0]&128)&&(t.required=l[7]),(!i||h[0]&64)&&E(t,"name",l[6]),f&&f.p&&(!i||h[1]&2)&&Lt(f,o,l,l[32],i?Bt(o,l[32],h,null):Rt(l[32]),null),(!i||h[0]&40&&r!==(r=(l[5]?"":"dropzone")+" "+l[3]+" svelte-817dg2"))&&E(e,"class",r),(!i||h[0]&16)&&E(e,"style",l[4])},i(u){i||(_(c,u),i=!0)},o(u){w(c,u),i=!1},d(u){u&&b(e),l[34](null),c&&c.d(u),l[35](null),s=!1,ot(a)}}}function Ys(l){l.stopPropagation()}function Ws(l,e,t){let n,r,i,{$$slots:s={},$$scope:a}=e,{accept:o=void 0}=e,{disabled:f=!1}=e,{getFilesFromEvent:c=Es}=e,{maxSize:u=1/0}=e,{minSize:h=0}=e,{multiple:d=!0}=e,{preventDropOnDocument:m=!0}=e,{noClick:p=!1}=e,{noKeyboard:D=!1}=e,{noDrag:k=!1}=e,{noDragEventsBubbling:v=!1}=e,{containerClasses:g=""}=e,{containerStyles:y=""}=e,{disableDefaultStyles:A=!1}=e,{name:C=""}=e,{inputElement:I=void 0}=e,{required:H=!1}=e;const z=Ye();let S={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]},G;function ie(){S.isFileDialogActive=!1,S.isDragActive=!1,S.draggedFiles=[],S.acceptedFiles=[],S.fileRejections=[]}function se(){I&&(t(0,I.value=null,I),S.isFileDialogActive=!0,I.click())}function Ee(P){!G||!G.isEqualNode(P.target)||(P.keyCode===32||P.keyCode===13)&&(P.preventDefault(),se())}function he(){S.isFocused=!0}function Oe(){S.isFocused=!1}function ze(){p||(qs()?setTimeout(se,0):se())}function pe(P){P.preventDefault(),Ve(P),Pe=[...Pe,P.target],un(P)&&Promise.resolve(c(P)).then(ke=>{hl(P)&&!v||(S.draggedFiles=ke,S.isDragActive=!0,z("dragenter",{dragEvent:P}))})}function ve(P){if(P.preventDefault(),Ve(P),P.dataTransfer)try{P.dataTransfer.dropEffect="copy"}catch{}return un(P)&&z("dragover",{dragEvent:P}),!1}function Me(P){P.preventDefault(),Ve(P);const ke=Pe.filter(qe=>G&&G.contains(qe)),q=ke.indexOf(P.target);q!==-1&&ke.splice(q,1),Pe=ke,!(ke.length>0)&&(S.isDragActive=!1,S.draggedFiles=[],un(P)&&z("dragleave",{dragEvent:P}))}function ce(P){P.preventDefault(),Ve(P),Pe=[],un(P)&&(z("filedropped",{event:P}),Promise.resolve(c(P)).then(ke=>{if(hl(P)&&!v)return;const q=[],qe=[];ke.forEach(Le=>{const[et,bt]=Os(Le,o),[Xe,Te]=Ps(Le,h,u);if(et&&Xe)q.push(Le);else{const tt=[bt,Te].filter(nt=>nt);qe.push({file:Le,errors:tt})}}),!d&&q.length>1&&(q.forEach(Le=>{qe.push({file:Le,errors:[Bs]})}),q.splice(0)),P.dataTransfer&&t(0,I.files=P.dataTransfer.files,I),S.acceptedFiles=q,S.fileRejections=qe,z("drop",{acceptedFiles:q,fileRejections:qe,event:P}),qe.length>0&&z("droprejected",{fileRejections:qe,event:P}),q.length>0&&z("dropaccepted",{acceptedFiles:q,event:P})})),ie()}function Ve(P){v&&P.stopPropagation()}function rt(P){m&&P.preventDefault()}let Pe=[];function Ue(P){m&&(G&&G.contains(P.target)||(P.preventDefault(),Pe=[]))}function je(){S.isFileDialogActive&&setTimeout(()=>{if(I){const{files:P}=I;P.length||(S.isFileDialogActive=!1,z("filedialogcancel"))}},300)}wi(()=>{t(0,I=null)});function it(P){be[P?"unshift":"push"](()=>{I=P,t(0,I)})}function Je(P){be[P?"unshift":"push"](()=>{G=P,t(9,G)})}return l.$$set=P=>{"accept"in P&&t(1,o=P.accept),"disabled"in P&&t(23,f=P.disabled),"getFilesFromEvent"in P&&t(24,c=P.getFilesFromEvent),"maxSize"in P&&t(25,u=P.maxSize),"minSize"in P&&t(26,h=P.minSize),"multiple"in P&&t(2,d=P.multiple),"preventDropOnDocument"in P&&t(27,m=P.preventDropOnDocument),"noClick"in P&&t(28,p=P.noClick),"noKeyboard"in P&&t(29,D=P.noKeyboard),"noDrag"in P&&t(30,k=P.noDrag),"noDragEventsBubbling"in P&&t(31,v=P.noDragEventsBubbling),"containerClasses"in P&&t(3,g=P.containerClasses),"containerStyles"in P&&t(4,y=P.containerStyles),"disableDefaultStyles"in P&&t(5,A=P.disableDefaultStyles),"name"in P&&t(6,C=P.name),"inputElement"in P&&t(0,I=P.inputElement),"required"in P&&t(7,H=P.required),"$$scope"in P&&t(32,a=P.$$scope)},l.$$.update=()=>{l.$$.dirty[0]&8388608&&t(8,n=P=>f?null:P),l.$$.dirty[0]&536871168&&t(11,r=P=>D?null:n(P)),l.$$.dirty[0]&1073742080&&t(10,i=P=>k?null:n(P))},[I,o,d,g,y,A,C,H,n,G,i,r,Ee,he,Oe,ze,pe,ve,Me,ce,rt,Ue,je,f,c,u,h,m,p,D,k,v,a,s,it,Je]}class Xs extends ee{constructor(e){super(),te(this,e,Ws,Gs,ne,{accept:1,disabled:23,getFilesFromEvent:24,maxSize:25,minSize:26,multiple:2,preventDropOnDocument:27,noClick:28,noKeyboard:29,noDrag:30,noDragEventsBubbling:31,containerClasses:3,containerStyles:4,disableDefaultStyles:5,name:6,inputElement:0,required:7},null,[-1,-1])}}function gl(l,e,t){const n=l.slice();return n[16]=e[t],n}function Js(l){let e,t;return e=new _t({}),{c(){L(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,r){B(e,n,r),t=!0},p:$,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Qs(l){let e,t,n,r,i,s,a;t=new Xs({props:{accept:l[3].accept,multiple:l[3].multiple,maxSize:l[1],$$slots:{default:[Zs]},$$scope:{ctx:l}}}),t.$on("drop",l[4]);let o=l[0]&&pl();return s=new me({props:{icon:cs}}),{c(){e=F("div"),L(t.$$.fragment),n=U(),o&&o.c(),r=U(),i=F("button"),L(s.$$.fragment),this.h()},l(f){e=N(f,"DIV",{});var c=M(e);R(t.$$.fragment,c),n=j(c),o&&o.l(c),c.forEach(b),r=j(f),i=N(f,"BUTTON",{id:!0,color:!0,style:!0});var u=M(i);R(s.$$.fragment,u),u.forEach(b),this.h()},h(){E(i,"id",l[2]),E(i,"color","primary"),It(i,"display","none")},m(f,c){T(f,e,c),B(t,e,null),V(e,n),o&&o.m(e,null),T(f,r,c),T(f,i,c),B(s,i,null),a=!0},p(f,c){const u={};c&8&&(u.accept=f[3].accept),c&8&&(u.multiple=f[3].multiple),c&2&&(u.maxSize=f[1]),c&524296&&(u.$$scope={dirty:c,ctx:f}),t.$set(u),f[0]?o?(o.p(f,c),c&1&&_(o,1)):(o=pl(),o.c(),_(o,1),o.m(e,null)):o&&(W(),w(o,1,1,()=>{o=null}),X()),(!a||c&4)&&E(i,"id",f[2])},i(f){a||(_(t.$$.fragment,f),_(o),_(s.$$.fragment,f),a=!0)},o(f){w(t.$$.fragment,f),w(o),w(s.$$.fragment,f),a=!1},d(f){f&&(b(e),b(r),b(i)),O(t),o&&o.d(),O(s)}}}function _l(l){let e,t=fe(l[3].accept),n=[];for(let r=0;r<t.length;r+=1)n[r]=bl(gl(l,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=J()},l(r){for(let i=0;i<n.length;i+=1)n[i].l(r);e=J()},m(r,i){for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(r,i);T(r,e,i)},p(r,i){if(i&8){t=fe(r[3].accept);let s;for(s=0;s<t.length;s+=1){const a=gl(r,t,s);n[s]?n[s].p(a,i):(n[s]=bl(a),n[s].c(),n[s].m(e.parentNode,e))}for(;s<n.length;s+=1)n[s].d(1);n.length=t.length}},d(r){r&&b(e),Be(n,r)}}}function bl(l){let e=l[16]+"",t,n;return{c(){t=le(e),n=le(" ,")},l(r){t=re(r,e),n=re(r," ,")},m(r,i){T(r,t,i),T(r,n,i)},p(r,i){i&8&&e!==(e=r[16]+"")&&ue(t,e)},d(r){r&&(b(t),b(n))}}}function Zs(l){let e,t,n,r,i,s="Drag 'n' drop some files here, or click to select files",a,o,f,c=l[3].maxSize+"",u,h,d,m,p;t=new me({props:{icon:Vi}});let D=l[3].accept&&_l(l);return{c(){e=F("b"),L(t.$$.fragment),n=U(),r=F("span"),i=F("b"),i.textContent=s,a=U(),o=F("b"),f=le("(max file size: "),u=le(c),h=le(" mb)"),d=U(),m=F("p"),D&&D.c(),this.h()},l(k){e=N(k,"B",{style:!0});var v=M(e);R(t.$$.fragment,v),v.forEach(b),n=j(k),r=N(k,"SPAN",{});var g=M(r);i=N(g,"B",{"data-svelte-h":!0}),ge(i)!=="svelte-1eplisn"&&(i.textContent=s),a=j(g),o=N(g,"B",{});var y=M(o);f=re(y,"(max file size: "),u=re(y,c),h=re(y," mb)"),y.forEach(b),g.forEach(b),d=j(k),m=N(k,"P",{});var A=M(m);D&&D.l(A),A.forEach(b),this.h()},h(){It(e,"font-size","xx-large")},m(k,v){T(k,e,v),B(t,e,null),T(k,n,v),T(k,r,v),V(r,i),V(r,a),V(r,o),V(o,f),V(o,u),V(o,h),T(k,d,v),T(k,m,v),D&&D.m(m,null),p=!0},p(k,v){(!p||v&8)&&c!==(c=k[3].maxSize+"")&&ue(u,c),k[3].accept?D?D.p(k,v):(D=_l(k),D.c(),D.m(m,null)):D&&(D.d(1),D=null)},i(k){p||(_(t.$$.fragment,k),p=!0)},o(k){w(t.$$.fragment,k),p=!1},d(k){k&&(b(e),b(n),b(r),b(d),b(m)),O(t),D&&D.d()}}}function pl(l){let e,t;return e=new Yi({props:{value:void 0}}),{c(){L(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,r){B(e,n,r),t=!0},p:$,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function $s(l){let e,t,n,r,i,s;const a=[Qs,Js],o=[];function f(c,u){return c[3]?0:1}return t=f(l),n=o[t]=a[t](l),{c(){e=F("form"),n.c()},l(c){e=N(c,"FORM",{});var u=M(e);n.l(u),u.forEach(b)},m(c,u){T(c,e,u),o[t].m(e,null),r=!0,i||(s=Y(e,"submit",Pr(l[5])),i=!0)},p(c,[u]){let h=t;t=f(c),t===h?o[t].p(c,u):(W(),w(o[h],1,1,()=>{o[h]=null}),X(),n=o[t],n?n.p(c,u):(n=o[t]=a[t](c),n.c()),_(n,1),n.m(e,null))},i(c){r||(_(n),r=!0)},o(c){w(n),r=!1},d(c){c&&b(e),o[t].d(),i=!1,s()}}}function xs(l){let e="";e=l.file.path+" : ";let t=l.errors;for(let n=0;n<t.length;n++){const r=t[n];e+=r.message}return e}function eo(l,e,t){let n,r,{id:i=0}=e,{version:s=1}=e,{start:a=""}=e,{submit:o=""}=e,{context:f=""}=e,{data:c}=e,u=!1,h=0;const d=Ye();let m={accepted:[],rejected:[]};We(async()=>{c?t(3,n=c):p(),n&&(t(2,r+=f),t(1,h=n.maxSize*1024*1024))});async function p(){let v=a+"?id="+i+"&version="+s;const g=await $e.get(v);t(3,n=await g.data()),console.log("fileupload",n)}function D(v){var A;console.log("files",m);const{acceptedFiles:g,fileRejections:y}=v.detail;if(t(12,m.accepted=[...m.accepted,...g],m),t(12,m.rejected=[...m.rejected,...y],m),console.log("files.accepted",m.accepted),y.length>0){console.log(m.rejected);let C=[""];for(let I=0;I<y.length;I++){const H=y[I];C.push(xs(H))}d("error",{messages:C}),t(12,m.rejected=[],m)}g.length>0&&((A=document.getElementById(r))==null||A.click())}async function k(){d("submit"),t(0,u=!0);let v=o+"?id="+i;if(m.accepted.length>0){const y=new FormData;y.append("files","123");for(var g=0;g<m.accepted.length;g++)y.append(m.accepted[g].name,m.accepted[g]);if((await $e.post(v,y)).status==200){d("submited");let C=m.accepted.length+" is/are uploaded",I=[];m.accepted.forEach(H=>I.push(H.name)),d("success",{text:C,files:I}),t(12,m.accepted=[],m)}}t(0,u=!1)}return l.$$set=v=>{"id"in v&&t(6,i=v.id),"version"in v&&t(7,s=v.version),"start"in v&&t(8,a=v.start),"submit"in v&&t(9,o=v.submit),"context"in v&&t(10,f=v.context),"data"in v&&t(11,c=v.data)},l.$$.update=()=>{l.$$.dirty&2048&&t(3,n=c),l.$$.dirty&4096},t(2,r="submit"),[u,h,r,n,D,k,i,s,a,o,f,c,m]}class Qr extends ee{constructor(e){super(),te(this,e,eo,$s,ne,{id:6,version:7,start:8,submit:9,context:10,data:11})}}const to=l=>({}),vl=l=>({});function kl(l){let e,t,n,r,i,s,a,o,f,c,u,h,d=l[0]&&wl(l);const m=l[6].default,p=zt(m,l,l[5],null),D=l[6].actions,k=zt(D,l,l[5],vl);let v=l[3]&&Dl(l);return{c(){e=F("aside"),t=F("div"),d&&d.c(),n=U(),r=F("p"),i=le(l[1]),s=U(),p&&p.c(),a=U(),o=F("div"),k&&k.c(),f=U(),v&&v.c(),this.h()},l(g){e=N(g,"ASIDE",{class:!0});var y=M(e);t=N(y,"DIV",{class:!0});var A=M(t);d&&d.l(A),n=j(A),r=N(A,"P",{});var C=M(r);i=re(C,l[1]),s=j(C),p&&p.l(C),C.forEach(b),A.forEach(b),a=j(y),o=N(y,"DIV",{class:!0});var I=M(o);k&&k.l(I),f=j(I),v&&v.l(I),I.forEach(b),y.forEach(b),this.h()},h(){E(t,"class","alert-message"),E(o,"class","alert-actions"),E(e,"class",c="alert "+l[2])},m(g,y){T(g,e,y),V(e,t),d&&d.m(t,null),V(t,n),V(t,r),V(r,i),V(r,s),p&&p.m(r,null),V(e,a),V(e,o),k&&k.m(o,null),V(o,f),v&&v.m(o,null),h=!0},p(g,y){g[0]?d?d.p(g,y):(d=wl(g),d.c(),d.m(t,n)):d&&(d.d(1),d=null),(!h||y&2)&&ue(i,g[1]),p&&p.p&&(!h||y&32)&&Lt(p,m,g,g[5],h?Bt(m,g[5],y,null):Rt(g[5]),null),k&&k.p&&(!h||y&32)&&Lt(k,D,g,g[5],h?Bt(D,g[5],y,to):Rt(g[5]),vl),g[3]?v?(v.p(g,y),y&8&&_(v,1)):(v=Dl(g),v.c(),_(v,1),v.m(o,null)):v&&(W(),w(v,1,1,()=>{v=null}),X()),(!h||y&4&&c!==(c="alert "+g[2]))&&E(e,"class",c)},i(g){h||(_(p,g),_(k,g),_(v),g&&_n(()=>{h&&(u||(u=Qn(e,bn,{duration:100},!0)),u.run(1))}),h=!0)},o(g){w(p,g),w(k,g),w(v),g&&(u||(u=Qn(e,bn,{duration:100},!1)),u.run(0)),h=!1},d(g){g&&b(e),d&&d.d(),p&&p.d(g),k&&k.d(g),v&&v.d(),g&&u&&u.end()}}}function wl(l){let e,t;return{c(){e=F("h3"),t=le(l[0]),this.h()},l(n){e=N(n,"H3",{class:!0});var r=M(e);t=re(r,l[0]),r.forEach(b),this.h()},h(){E(e,"class","h3")},m(n,r){T(n,e,r),V(e,t)},p(n,r){r&1&&ue(t,n[0])},d(n){n&&b(e)}}}function Dl(l){let e,t,n,r,i;return t=new me({props:{icon:kn}}),{c(){e=F("button"),L(t.$$.fragment),this.h()},l(s){e=N(s,"BUTTON",{class:!0});var a=M(e);R(t.$$.fragment,a),a.forEach(b),this.h()},h(){E(e,"class","btn hover:text-primary-100")},m(s,a){T(s,e,a),B(t,e,null),n=!0,r||(i=Y(e,"click",l[7]),r=!0)},p:$,i(s){n||(_(t.$$.fragment,s),n=!0)},o(s){w(t.$$.fragment,s),n=!1},d(s){s&&b(e),O(t),r=!1,i()}}}function no(l){let e,t,n=l[4]&&kl(l);return{c(){n&&n.c(),e=J()},l(r){n&&n.l(r),e=J()},m(r,i){n&&n.m(r,i),T(r,e,i),t=!0},p(r,[i]){r[4]?n?(n.p(r,i),i&16&&_(n,1)):(n=kl(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(W(),w(n,1,1,()=>{n=null}),X())},i(r){t||(_(n),t=!0)},o(r){w(n),t=!1},d(r){r&&b(e),n&&n.d(r)}}}function lo(l,e,t){let n,{$$slots:r={},$$scope:i}=e,{title:s=""}=e,{message:a=""}=e,{cssClass:o=""}=e,{deleteBtn:f=!0}=e;const c=()=>t(4,n=!1);return l.$$set=u=>{"title"in u&&t(0,s=u.title),"message"in u&&t(1,a=u.message),"cssClass"in u&&t(2,o=u.cssClass),"deleteBtn"in u&&t(3,f=u.deleteBtn),"$$scope"in u&&t(5,i=u.$$scope)},t(4,n=!0),[s,a,o,f,n,i,r,c]}class Tn extends ee{constructor(e){super(),te(this,e,lo,no,ne,{title:0,message:1,cssClass:2,deleteBtn:3})}}function ro(){return{}}const su=Object.freeze(Object.defineProperty({__proto__:null,load:ro},Symbol.toStringTag,{value:"Module"})),io=async l=>{try{return(await $e.get("/dcm/edit/load?id="+l)).data}catch(e){throw console.error("error",e),e}},so=async l=>{console.log("getHooks",l);try{const e=await $e.get("/dcm/edit/hooks?id="+l);return console.log(e),e.data}catch(e){throw console.error("error",e),e}},oo=async l=>{try{return(await $e.post("/dcm/submit/submit",{id:l})).data}catch(e){throw console.error("error",e),e}},ao=async(l,e,t,n)=>{try{return(await $e.post(l,{id:e,file:t,description:n})).data}catch(r){throw console.error(r),r}},fo=async(l,e,t)=>{try{return(await $e.post(l,{id:e,file:t})).data}catch(n){throw console.error(n),n}};function co(l){let e,t,n,r="switch to view",i,s,a;return s=new Oi({props:{active:"bg-secondary-500",name:"ViewToggle",size:"sm",checked:!0}}),s.$on("click",l[3]),{c(){e=F("div"),t=F("div"),n=F("span"),n.textContent=r,i=U(),L(s.$$.fragment),this.h()},l(o){e=N(o,"DIV",{class:!0});var f=M(e);t=N(f,"DIV",{class:!0});var c=M(t);n=N(c,"SPAN",{"data-svelte-h":!0}),ge(n)!=="svelte-17p3mio"&&(n.textContent=r),i=j(c),R(s.$$.fragment,c),c.forEach(b),f.forEach(b),this.h()},h(){E(t,"class","absolute top-0 right-0 flex text-center gap-4"),E(e,"class","relative w-full ")},m(o,f){T(o,e,f),V(e,t),V(t,n),V(t,i),B(s,t,null),a=!0},p:$,i(o){a||(_(s.$$.fragment,o),a=!0)},o(o){w(s.$$.fragment,o),a=!1},d(o){o&&b(e),O(s)}}}function uo(l,e,t){let{id:n}=e,{version:r}=e,{title:i=""}=e;const s=()=>window.open("/ddm/data/Showdata?id="+n,"_self");return l.$$set=a=>{"id"in a&&t(0,n=a.id),"version"in a&&t(1,r=a.version),"title"in a&&t(2,i=a.title)},[n,r,i,s]}class mo extends ee{constructor(e){super(),te(this,e,uo,co,ne,{id:0,version:1,title:2})}}function ho(l){let e,t=l[1].toUpperCase()+"",n,r,i,s;return{c(){e=F("div"),n=le(t),this.h()},l(a){e=N(a,"DIV",{class:!0,title:!0});var o=M(e);n=re(o,t),o.forEach(b),this.h()},h(){E(e,"class",r="mb-3 hook-status-"+l[0]+" hook"),E(e,"title",l[2]),de(e,"inactive",!l[4])},m(a,o){T(a,e,o),V(e,n),i||(s=Y(e,"click",l[5]),i=!0)},p(a,o){o&2&&t!==(t=a[1].toUpperCase()+"")&&ue(n,t),o&1&&r!==(r="mb-3 hook-status-"+a[0]+" hook")&&E(e,"class",r),o&4&&E(e,"title",a[2]),o&17&&de(e,"inactive",!a[4])},d(a){a&&b(e),i=!1,s()}}}function go(l){let e,t=l[3]&&ho(l);return{c(){t&&t.c(),e=J()},l(n){t&&t.l(n),e=J()},m(n,r){t&&t.m(n,r),T(n,e,r)},p(n,[r]){n[3]&&t.p(n,r)},i:$,o:$,d(n){n&&b(e),t&&t.d(n)}}}function _o(l){return!(l==0||l==1)}function bo(l){return!(l==0||l==1||l==5)}function po(l,e,t){let{status:n=0}=e,{displayName:r=""}=e,{description:i=""}=e;const s=_o(n),a=bo(n);function o(f){Ae.call(this,l,f)}return l.$$set=f=>{"status"in f&&t(0,n=f.status),"displayName"in f&&t(1,r=f.displayName),"description"in f&&t(2,i=f.description)},[n,r,i,s,a,o]}class vo extends ee{constructor(e){super(),te(this,e,po,go,ne,{status:0,displayName:1,description:2})}}const Vt=xe(0),ht=xe(0),St=xe(0),Hn=xe(0),Xt=xe(0),ko={"":0},Sn=xe(ko);function El(l){let e;return{c(){e=le(l[0])},l(t){e=re(t,l[0])},m(t,n){T(t,e,n)},p(t,n){n&1&&ue(e,t[0])},d(t){t&&b(e)}}}function wo(l){let e,t,n,r,i,s;n=new me({props:{icon:ms}});let a=l[0]&&El(l);return{c(){e=F("div"),t=F("div"),L(n.$$.fragment),r=U(),i=F("div"),a&&a.c(),this.h()},l(o){e=N(o,"DIV",{title:!0,class:!0});var f=M(e);t=N(f,"DIV",{class:!0});var c=M(t);R(n.$$.fragment,c),c.forEach(b),r=j(f),i=N(f,"DIV",{class:!0});var u=M(i);a&&a.l(u),u.forEach(b),f.forEach(b),this.h()},h(){E(t,"class","self-center"),E(i,"class","self-center"),E(e,"title","last modified"),E(e,"class","flex gap-1 pb-5")},m(o,f){T(o,e,f),V(e,t),B(n,t,null),V(e,r),V(e,i),a&&a.m(i,null),s=!0},p(o,[f]){o[0]?a?a.p(o,f):(a=El(o),a.c(),a.m(i,null)):a&&(a.d(1),a=null)},i(o){s||(_(n.$$.fragment,o),s=!0)},o(o){w(n.$$.fragment,o),s=!1},d(o){o&&b(e),O(n),a&&a.d()}}}function Do(l){return l>=10?l.toString():`0${l}`}function Eo(l){const e=Do(Math.floor(l/1e3/60));return e<60?`${e} min`:"> 60 min"}function yo(l,e,t){let n,{milliseconds:r=0}=e,i;return We(async()=>{setInterval(()=>{n=new Date,t(0,i=Eo(Number(n)-r))},1e3)}),l.$$set=s=>{"milliseconds"in s&&t(1,r=s.milliseconds)},l.$$.update=()=>{l.$$.dirty&1},n=new Date,[i,r]}class Zr extends ee{constructor(e){super(),te(this,e,yo,wo,ne,{milliseconds:1})}}const Io=l=>({}),yl=l=>({errorHandler:l[8],successHandler:l[9],warningHandler:l[10],dateHandler:l[11]});function Il(l,e,t){const n=l.slice();return n[21]=e[t],n}function Cl(l,e,t){const n=l.slice();return n[21]=e[t],n}function Vl(l){let e,t,n,r,i,s,a,o,f,c,u,h,d,m,p,D=l[7]&&Sl(l),k=l[4]&&Fl(l),v=l[2]&&Tl(l),g=l[3]&&Al(l);const y=[Vo,Co],A=[];function C(I,H){return I[5]?1:0}return d=C(l),m=A[d]=y[d](l),{c(){e=F("div"),t=F("div"),n=F("h4"),r=le(l[0]),i=U(),s=F("div"),D&&D.c(),a=U(),o=F("div"),k&&k.c(),f=U(),v&&v.c(),c=U(),g&&g.c(),u=U(),h=F("div"),m.c(),this.h()},l(I){e=N(I,"DIV",{class:!0});var H=M(e);t=N(H,"DIV",{class:!0});var z=M(t);n=N(z,"H4",{class:!0});var S=M(n);r=re(S,l[0]),S.forEach(b),i=j(z),s=N(z,"DIV",{class:!0});var G=M(s);D&&D.l(G),G.forEach(b),z.forEach(b),a=j(H),o=N(H,"DIV",{class:!0});var ie=M(o);k&&k.l(ie),f=j(ie),v&&v.l(ie),c=j(ie),g&&g.l(ie),u=j(ie),h=N(ie,"DIV",{class:!0});var se=M(h);m.l(se),se.forEach(b),ie.forEach(b),H.forEach(b),this.h()},h(){E(n,"class","h4"),E(s,"class","text-sm py-2"),E(t,"class","flex-none w-48"),E(h,"class","h-full w-full"),E(o,"class","grow space-y-2"),E(e,"class","flex p-5 m-2 gap-5")},m(I,H){T(I,e,H),V(e,t),V(t,n),V(n,r),V(t,i),V(t,s),D&&D.m(s,null),V(e,a),V(e,o),k&&k.m(o,null),V(o,f),v&&v.m(o,null),V(o,c),g&&g.m(o,null),V(o,u),V(o,h),A[d].m(h,null),p=!0},p(I,H){(!p||H&1)&&ue(r,I[0]),I[7]?D?(D.p(I,H),H&128&&_(D,1)):(D=Sl(I),D.c(),_(D,1),D.m(s,null)):D&&(W(),w(D,1,1,()=>{D=null}),X()),I[4]?k?(k.p(I,H),H&16&&_(k,1)):(k=Fl(I),k.c(),_(k,1),k.m(o,f)):k&&(W(),w(k,1,1,()=>{k=null}),X()),I[2]?v?(v.p(I,H),H&4&&_(v,1)):(v=Tl(I),v.c(),_(v,1),v.m(o,c)):v&&(W(),w(v,1,1,()=>{v=null}),X()),I[3]?g?(g.p(I,H),H&8&&_(g,1)):(g=Al(I),g.c(),_(g,1),g.m(o,u)):g&&(W(),w(g,1,1,()=>{g=null}),X());let z=d;d=C(I),d===z?A[d].p(I,H):(W(),w(A[z],1,1,()=>{A[z]=null}),X(),m=A[d],m?m.p(I,H):(m=A[d]=y[d](I),m.c()),_(m,1),m.m(h,null))},i(I){p||(_(D),_(k),_(v),_(g),_(m),p=!0)},o(I){w(D),w(k),w(v),w(g),w(m),p=!1},d(I){I&&b(e),D&&D.d(),k&&k.d(),v&&v.d(),g&&g.d(),A[d].d()}}}function Sl(l){let e,t;return e=new Zr({props:{milliseconds:new Date(l[7])}}),{c(){L(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,r){B(e,n,r),t=!0},p(n,r){const i={};r&128&&(i.milliseconds=new Date(n[7])),e.$set(i)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Fl(l){let e,t,n=fe(l[4]),r=[];for(let s=0;s<n.length;s+=1)r[s]=Nl(Cl(l,n,s));const i=s=>w(r[s],1,1,()=>{r[s]=null});return{c(){for(let s=0;s<r.length;s+=1)r[s].c();e=J()},l(s){for(let a=0;a<r.length;a+=1)r[a].l(s);e=J()},m(s,a){for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(s,a);T(s,e,a),t=!0},p(s,a){if(a&16){n=fe(s[4]);let o;for(o=0;o<n.length;o+=1){const f=Cl(s,n,o);r[o]?(r[o].p(f,a),_(r[o],1)):(r[o]=Nl(f),r[o].c(),_(r[o],1),r[o].m(e.parentNode,e))}for(W(),o=n.length;o<r.length;o+=1)i(o);X()}},i(s){if(!t){for(let a=0;a<n.length;a+=1)_(r[a]);t=!0}},o(s){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)w(r[a]);t=!1},d(s){s&&b(e),Be(r,s)}}}function Nl(l){let e,t;return e=new Tn({props:{cssClass:"variant-filled-error",message:l[21]}}),{c(){L(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,r){B(e,n,r),t=!0},p(n,r){const i={};r&16&&(i.message=n[21]),e.$set(i)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Tl(l){let e,t,n=fe(l[2]),r=[];for(let s=0;s<n.length;s+=1)r[s]=Hl(Il(l,n,s));const i=s=>w(r[s],1,1,()=>{r[s]=null});return{c(){for(let s=0;s<r.length;s+=1)r[s].c();e=J()},l(s){for(let a=0;a<r.length;a+=1)r[a].l(s);e=J()},m(s,a){for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(s,a);T(s,e,a),t=!0},p(s,a){if(a&4){n=fe(s[2]);let o;for(o=0;o<n.length;o+=1){const f=Il(s,n,o);r[o]?(r[o].p(f,a),_(r[o],1)):(r[o]=Hl(f),r[o].c(),_(r[o],1),r[o].m(e.parentNode,e))}for(W(),o=n.length;o<r.length;o+=1)i(o);X()}},i(s){if(!t){for(let a=0;a<n.length;a+=1)_(r[a]);t=!0}},o(s){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)w(r[a]);t=!1},d(s){s&&b(e),Be(r,s)}}}function Hl(l){let e,t;return e=new Tn({props:{cssClass:"variant-filled-warning",message:l[21]}}),{c(){L(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,r){B(e,n,r),t=!0},p(n,r){const i={};r&4&&(i.message=n[21]),e.$set(i)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Al(l){let e,t;return e=new Tn({props:{cssClass:"variant-filled-success",message:l[3]}}),{c(){L(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,r){B(e,n,r),t=!0},p(n,r){const i={};r&8&&(i.message=n[3]),e.$set(i)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Co(l){let e,t,n,r,i="this area is locked, because data is uploading",s;return t=new me({props:{icon:Si,size:"lg"}}),{c(){e=F("div"),L(t.$$.fragment),n=U(),r=F("span"),r.textContent=i,this.h()},l(a){e=N(a,"DIV",{class:!0});var o=M(e);R(t.$$.fragment,o),n=j(o),r=N(o,"SPAN",{"data-svelte-h":!0}),ge(r)!=="svelte-zffo0g"&&(r.textContent=i),o.forEach(b),this.h()},h(){E(e,"class","flex gap-2 text-surface-600")},m(a,o){T(a,e,o),B(t,e,null),V(e,n),V(e,r),s=!0},p:$,i(a){s||(_(t.$$.fragment,a),s=!0)},o(a){w(t.$$.fragment,a),s=!1},d(a){a&&b(e),O(t)}}}function Vo(l){let e;const t=l[17].default,n=zt(t,l,l[16],yl),r=n||So();return{c(){r&&r.c()},l(i){r&&r.l(i)},m(i,s){r&&r.m(i,s),e=!0},p(i,s){n&&n.p&&(!e||s&65536)&&Lt(n,t,i,i[16],e?Bt(t,i[16],s,Io):Rt(i[16]),yl)},i(i){e||(_(r,i),e=!0)},o(i){w(r,i),e=!1},d(i){r&&r.d(i)}}}function So(l){let e;return{c(){e=le("render view")},l(t){e=re(t,"render view")},m(t,n){T(t,e,n)},d(t){t&&b(e)}}}function Fo(l){let e,t,n=l[1]&&l[6]&&Vl(l);return{c(){n&&n.c(),e=J()},l(r){n&&n.l(r),e=J()},m(r,i){n&&n.m(r,i),T(r,e,i),t=!0},p(r,[i]){r[1]&&r[6]?n?(n.p(r,i),i&66&&_(n,1)):(n=Vl(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(W(),w(n,1,1,()=>{n=null}),X())},i(r){t||(_(n),t=!0)},o(r){w(n),t=!1},d(r){r&&b(e),n&&n.d(r)}}}function No(l,e,t){let n,r,i,s,a,o,{$$slots:f={},$$scope:c}=e,{name:u}=e,{displayName:h}=e,{content:d=9}=e,{visible:m=!0}=e,{status:p=0}=e,{color:D=""}=e;We(async()=>{Sn.subscribe(H=>{H[u]!=null&&C(H[u])}),t(4,n=[]),t(3,r=null),t(2,i=[])});function k(H){A(),t(4,n=H.detail.messages)}function v(H){A(),t(3,r=H.detail.text)}function g(H){A(),t(2,i[0]=H.detail.text,i)}function y(H){t(7,s=H.detail.lastModification)}function A(){t(4,n=[]),t(2,i=[]),t(3,r=null)}function C(H){H==0||H==1||H==5?t(6,a=!1):t(6,a=!0),t(5,o=H==6),o&&I()}function I(){t(4,n=[]),t(3,r=null),t(2,i=[])}return l.$$set=H=>{"name"in H&&t(12,u=H.name),"displayName"in H&&t(0,h=H.displayName),"content"in H&&t(13,d=H.content),"visible"in H&&t(1,m=H.visible),"status"in H&&t(14,p=H.status),"color"in H&&t(15,D=H.color),"$$scope"in H&&t(16,c=H.$$scope)},t(4,n=[]),t(3,r=null),t(2,i=[]),t(7,s=""),t(6,a=!1),t(5,o=!1),[h,m,i,r,n,o,a,s,k,v,g,y,u,d,p,D,c,f]}class yt extends ee{constructor(e){super(),te(this,e,No,Fo,ne,{name:12,displayName:0,content:13,visible:1,status:14,color:15})}}var mt=(l=>(l[l.Dataset=0]="Dataset",l[l.Datastructure=1]="Datastructure",l[l.Value=2]="Value",l[l.MetadataAttribute=3]="MetadataAttribute",l[l.Other=4]="Other",l[l.FileReader=5]="FileReader",l[l.PrimaryKey=6]="PrimaryKey",l[l.File=7]="File",l))(mt||{});function Ml(l,e,t){const n=l.slice();return n[3]=e[t],n}function To(l){let e,t,n;return{c(){e=le("("),t=le(l[1]),n=le(")")},l(r){e=re(r,"("),t=re(r,l[1]),n=re(r,")")},m(r,i){T(r,e,i),T(r,t,i),T(r,n,i)},p(r,i){i&2&&ue(t,r[1])},d(r){r&&(b(e),b(t),b(n))}}}function Ho(l){let e;return{c(){e=le(l[0])},l(t){e=re(t,l[0])},m(t,n){T(t,e,n)},p(t,n){n&1&&ue(e,t[0])},d(t){t&&b(e)}}}function zl(l){let e,t=l[3]+"",n;return{c(){e=F("li"),n=le(t)},l(r){e=N(r,"LI",{});var i=M(e);n=re(i,t),i.forEach(b)},m(r,i){T(r,e,i),V(e,n)},p(r,i){i&4&&t!==(t=r[3]+"")&&ue(n,t)},d(r){r&&b(e)}}}function Ao(l){let e,t=fe(l[2]),n=[];for(let r=0;r<t.length;r+=1)n[r]=zl(Ml(l,t,r));return{c(){e=F("ol");for(let r=0;r<n.length;r+=1)n[r].c();this.h()},l(r){e=N(r,"OL",{class:!0});var i=M(e);for(let s=0;s<n.length;s+=1)n[s].l(i);i.forEach(b),this.h()},h(){E(e,"class","list-disc px-5")},m(r,i){T(r,e,i);for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(e,null)},p(r,i){if(i&4){t=fe(r[2]);let s;for(s=0;s<t.length;s+=1){const a=Ml(r,t,s);n[s]?n[s].p(a,i):(n[s]=zl(a),n[s].c(),n[s].m(e,null))}for(;s<n.length;s+=1)n[s].d(1);n.length=t.length}},d(r){r&&b(e),Be(n,r)}}}function Mo(l){let e,t;return e=new qr({props:{$$slots:{content:[Ao],lead:[Ho],summary:[To]},$$scope:{ctx:l}}}),{c(){L(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,r){B(e,n,r),t=!0},p(n,r){const i={};r&71&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function zo(l){let e,t;return e=new jr({props:{$$slots:{default:[Mo]},$$scope:{ctx:l}}}),{c(){L(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,r){B(e,n,r),t=!0},p(n,[r]){const i={};r&71&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Lo(l,e,t){let{title:n}=e,{count:r}=e,{messages:i}=e;return l.$$set=s=>{"title"in s&&t(0,n=s.title),"count"in s&&t(1,r=s.count),"messages"in s&&t(2,i=s.messages)},[n,r,i]}class Ro extends ee{constructor(e){super(),te(this,e,Lo,zo,ne,{title:0,count:1,messages:2})}}function Ll(l,e,t){const n=l.slice();return n[6]=e[t],n}function Rl(l,e,t){const n=l.slice();return n[9]=e[t],n[11]=t,n}function Bl(l){let e,t,n;return t=new me({props:{icon:Nn}}),{c(){e=F("span"),L(t.$$.fragment),this.h()},l(r){e=N(r,"SPAN",{class:!0});var i=M(e);R(t.$$.fragment,i),i.forEach(b),this.h()},h(){E(e,"class","text-success-500 px-1")},m(r,i){T(r,e,i),B(t,e,null),n=!0},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){w(t.$$.fragment,r),n=!1},d(r){r&&b(e),O(t)}}}function Ol(l){let e,t;return e=new me({props:{icon:kn}}),{c(){L(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,r){B(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Pl(l){let e,t;return e=new me({props:{icon:Nn}}),{c(){L(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,r){B(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Ul(l){let e,t;return e=new me({props:{icon:Fi}}),{c(){L(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,r){B(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function jl(l){let e,t="";return{c(){e=F("li"),e.textContent=t,this.h()},l(n){e=N(n,"LI",{class:!0,"aria-hidden":!0,"data-svelte-h":!0}),ge(e)!=="svelte-16i7nlm"&&(e.textContent=t),this.h()},h(){E(e,"class","crumb-separator"),E(e,"aria-hidden","")},m(n,r){T(n,e,r)},d(n){n&&b(e)}}}function ql(l){let e,t,n,r=l[9].name+"",i,s,a,o,f,c,u,h,d,m=l[9].style=="error"&&Ol(),p=l[9].style=="success"&&Pl(),D=l[9].style=="surface"&&Ul(),k=l[11]<l[1].length-1&&jl();return{c(){e=F("li"),t=F("button"),n=F("span"),i=le(r),s=U(),a=F("span"),m&&m.c(),o=U(),p&&p.c(),f=U(),D&&D.c(),u=U(),k&&k.c(),h=J(),this.h()},l(v){e=N(v,"LI",{class:!0});var g=M(e);t=N(g,"BUTTON",{class:!0});var y=M(t);n=N(y,"SPAN",{});var A=M(n);i=re(A,r),A.forEach(b),s=j(y),a=N(y,"SPAN",{class:!0});var C=M(a);m&&m.l(C),o=j(C),p&&p.l(C),f=j(C),D&&D.l(C),C.forEach(b),y.forEach(b),g.forEach(b),u=j(v),k&&k.l(v),h=J(),this.h()},h(){E(a,"class","pt-1"),E(t,"class",c="btn variant-ghost-"+l[9].style+" p-2 flex justify-center space-x-2"),E(e,"class","crumb")},m(v,g){T(v,e,g),V(e,t),V(t,n),V(n,i),V(t,s),V(t,a),m&&m.m(a,null),V(a,o),p&&p.m(a,null),V(a,f),D&&D.m(a,null),T(v,u,g),k&&k.m(v,g),T(v,h,g),d=!0},p(v,g){(!d||g&2)&&r!==(r=v[9].name+"")&&ue(i,r),v[9].style=="error"?m?g&2&&_(m,1):(m=Ol(),m.c(),_(m,1),m.m(a,o)):m&&(W(),w(m,1,1,()=>{m=null}),X()),v[9].style=="success"?p?g&2&&_(p,1):(p=Pl(),p.c(),_(p,1),p.m(a,f)):p&&(W(),w(p,1,1,()=>{p=null}),X()),v[9].style=="surface"?D?g&2&&_(D,1):(D=Ul(),D.c(),_(D,1),D.m(a,null)):D&&(W(),w(D,1,1,()=>{D=null}),X()),(!d||g&2&&c!==(c="btn variant-ghost-"+v[9].style+" p-2 flex justify-center space-x-2"))&&E(t,"class",c),v[11]<v[1].length-1?k||(k=jl(),k.c(),k.m(h.parentNode,h)):k&&(k.d(1),k=null)},i(v){d||(_(m),_(p),_(D),d=!0)},o(v){w(m),w(p),w(D),d=!1},d(v){v&&(b(e),b(u),b(h)),m&&m.d(),p&&p.d(),D&&D.d(),k&&k.d(v)}}}function Kl(l){let e,t,n=fe(l[2].errors),r=[];for(let s=0;s<n.length;s+=1)r[s]=Gl(Ll(l,n,s));const i=s=>w(r[s],1,1,()=>{r[s]=null});return{c(){e=F("div");for(let s=0;s<r.length;s+=1)r[s].c();this.h()},l(s){e=N(s,"DIV",{class:!0});var a=M(e);for(let o=0;o<r.length;o+=1)r[o].l(a);a.forEach(b),this.h()},h(){E(e,"class","card shadow-sm border-error-300 border-solid border")},m(s,a){T(s,e,a);for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(e,null);t=!0},p(s,a){if(a&4){n=fe(s[2].errors);let o;for(o=0;o<n.length;o+=1){const f=Ll(s,n,o);r[o]?(r[o].p(f,a),_(r[o],1)):(r[o]=Gl(f),r[o].c(),_(r[o],1),r[o].m(e,null))}for(W(),o=n.length;o<r.length;o+=1)i(o);X()}},i(s){if(!t){for(let a=0;a<n.length;a+=1)_(r[a]);t=!0}},o(s){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)w(r[a]);t=!1},d(s){s&&b(e),Be(r,s)}}}function Gl(l){let e,t;return e=new Ro({props:{title:l[6].issue,count:l[6].count,messages:l[6].errors}}),{c(){L(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,r){B(e,n,r),t=!0},p(n,r){const i={};r&4&&(i.title=n[6].issue),r&4&&(i.count=n[6].count),r&4&&(i.messages=n[6].errors),e.$set(i)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Bo(l){let e,t,n,r,i,s,a,o,f,c,u,h,d=l[3]==0&&Bl(),m=fe(l[1]),p=[];for(let v=0;v<m.length;v+=1)p[v]=ql(Rl(l,m,v));const D=v=>w(p[v],1,1,()=>{p[v]=null});let k=l[2]&&Kl(l);return{c(){e=F("div"),t=U(),n=F("div"),r=F("div"),i=F("h4"),s=le(l[0]),a=U(),d&&d.c(),o=U(),f=F("div"),c=F("ol");for(let v=0;v<p.length;v+=1)p[v].c();u=U(),k&&k.c(),this.h()},l(v){e=N(v,"DIV",{class:!0}),M(e).forEach(b),t=j(v),n=N(v,"DIV",{class:!0});var g=M(n);r=N(g,"DIV",{class:!0});var y=M(r);i=N(y,"H4",{class:!0});var A=M(i);s=re(A,l[0]),A.forEach(b),a=j(y),d&&d.l(y),y.forEach(b),o=j(g),f=N(g,"DIV",{class:!0});var C=M(f);c=N(C,"OL",{class:!0});var I=M(c);for(let H=0;H<p.length;H+=1)p[H].l(I);I.forEach(b),C.forEach(b),u=j(g),k&&k.l(g),g.forEach(b),this.h()},h(){E(e,"class","variant-ghost-success variant-ghost-error variant-ghost-surface hidden"),E(i,"class","h4"),E(r,"class","flex gap-1"),E(c,"class","breadcrumb"),E(f,"class","flex space-x-2"),E(n,"class","card p-5 space-y-3 mb-5")},m(v,g){T(v,e,g),T(v,t,g),T(v,n,g),V(n,r),V(r,i),V(i,s),V(r,a),d&&d.m(r,null),V(n,o),V(n,f),V(f,c);for(let y=0;y<p.length;y+=1)p[y]&&p[y].m(c,null);V(n,u),k&&k.m(n,null),h=!0},p(v,[g]){if((!h||g&1)&&ue(s,v[0]),v[3]==0?d?g&8&&_(d,1):(d=Bl(),d.c(),_(d,1),d.m(r,null)):d&&(W(),w(d,1,1,()=>{d=null}),X()),g&2){m=fe(v[1]);let y;for(y=0;y<m.length;y+=1){const A=Rl(v,m,y);p[y]?(p[y].p(A,g),_(p[y],1)):(p[y]=ql(A),p[y].c(),_(p[y],1),p[y].m(c,null))}for(W(),y=m.length;y<p.length;y+=1)D(y);X()}v[2]?k?(k.p(v,g),g&4&&_(k,1)):(k=Kl(v),k.c(),_(k,1),k.m(n,null)):k&&(W(),w(k,1,1,()=>{k=null}),X())},i(v){if(!h){_(d);for(let g=0;g<m.length;g+=1)_(p[g]);_(k),h=!0}},o(v){w(d),p=p.filter(Boolean);for(let g=0;g<p.length;g+=1)w(p[g]);w(k),h=!1},d(v){v&&(b(e),b(t),b(n)),d&&d.d(),Be(p,v),k&&k.d()}}}function Oo(l,e){return l>0?"error":l==0&&e?"surface":l==0&&!e?"success":""}function Po(l,e,t){let{file:n}=e,{sortedErrors:r}=e,i=[mt.Dataset,mt.File,mt.FileReader,mt.Datastructure,mt.Value,mt.PrimaryKey],s=[],a,o=0;return We(async()=>{let f=!1;for(let c=0;c<i.length;c++){const u=i[c],h=mt[u],d=r.filter(D=>D.type===u),m=Oo(d.length,f);let p={name:h,type:u,errors:d,style:m};t(3,o+=d.length),t(1,s=[...s,p]),d.length>0&&(f=!0,t(2,a=p))}}),l.$$set=f=>{"file"in f&&t(0,n=f.file),"sortedErrors"in f&&t(4,r=f.sortedErrors)},l.$$.update=()=>{l.$$.dirty&16,l.$$.dirty&2,l.$$.dirty&4},[n,s,a,o,r]}class Uo extends ee{constructor(e){super(),te(this,e,Po,Bo,ne,{file:0,sortedErrors:4})}}const gt=async(l,e,t)=>{try{const n=l+"?id="+e+"&version="+t;return(await $e.get(n)).data}catch(n){console.error(n);const r="the area of "+{id:e}+" cannot be loaded.";throw new Error(r)}};function jo(l){let e,t='<div class="h-full w-full"><div class="space-y-4"><div class="placeholder"></div> <div class="grid grid-cols-3 gap-8"><div class="placeholder"></div> <div class="placeholder"></div> <div class="placeholder"></div></div> <div class="grid grid-cols-4 gap-4"><div class="placeholder"></div> <div class="placeholder"></div> <div class="placeholder"></div> <div class="placeholder"></div></div> <div class="grid grid-cols-3 gap-4"><div class="placeholder"></div> <div class="placeholder"></div> <div class="placeholder"></div></div></div></div>';return{c(){e=F("div"),e.innerHTML=t,this.h()},l(n){e=N(n,"DIV",{class:!0,"data-svelte-h":!0}),ge(e)!=="svelte-2033tn"&&(e.innerHTML=t),this.h()},h(){E(e,"class","grow space-y-2")},m(n,r){T(n,e,r)},p:$,i:$,o:$,d(n){n&&b(e)}}}class xt extends ee{constructor(e){super(),te(this,e,null,jo,ne,{})}}function Yl(l,e,t){const n=l.slice();return n[15]=e[t],n[16]=e,n[17]=t,n}function qo(l){let e,t;return e=new Pt({props:{error:l[18]}}),{c(){L(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,r){B(e,n,r),t=!0},p:$,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Ko(l){let e,t,n=l[0]&&l[0].fileResults&&Wl(l);return{c(){n&&n.c(),e=J()},l(r){n&&n.l(r),e=J()},m(r,i){n&&n.m(r,i),T(r,e,i),t=!0},p(r,i){r[0]&&r[0].fileResults?n?(n.p(r,i),i&1&&_(n,1)):(n=Wl(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(W(),w(n,1,1,()=>{n=null}),X())},i(r){t||(_(n),t=!0)},o(r){w(n),t=!1},d(r){r&&b(e),n&&n.d(r)}}}function Wl(l){let e,t,n=fe(l[0].fileResults),r=[];for(let s=0;s<n.length;s+=1)r[s]=Xl(Yl(l,n,s));const i=s=>w(r[s],1,1,()=>{r[s]=null});return{c(){for(let s=0;s<r.length;s+=1)r[s].c();e=J()},l(s){for(let a=0;a<r.length;a+=1)r[a].l(s);e=J()},m(s,a){for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(s,a);T(s,e,a),t=!0},p(s,a){if(a&1){n=fe(s[0].fileResults);let o;for(o=0;o<n.length;o+=1){const f=Yl(s,n,o);r[o]?(r[o].p(f,a),_(r[o],1)):(r[o]=Xl(f),r[o].c(),_(r[o],1),r[o].m(e.parentNode,e))}for(W(),o=n.length;o<r.length;o+=1)i(o);X()}},i(s){if(!t){for(let a=0;a<n.length;a+=1)_(r[a]);t=!0}},o(s){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)w(r[a]);t=!1},d(s){s&&b(e),Be(r,s)}}}function Xl(l){let e,t,n,r;function i(o){l[8](o,l[15])}function s(o){l[9](o,l[15])}let a={};return l[15].sortedErrors!==void 0&&(a.sortedErrors=l[15].sortedErrors),l[15].file!==void 0&&(a.file=l[15].file),e=new Uo({props:a}),be.push(()=>Ie(e,"sortedErrors",i)),be.push(()=>Ie(e,"file",s)),{c(){L(e.$$.fragment)},l(o){R(e.$$.fragment,o)},m(o,f){B(e,o,f),r=!0},p(o,f){l=o;const c={};!t&&f&1&&(t=!0,c.sortedErrors=l[15].sortedErrors,Ce(()=>t=!1)),!n&&f&1&&(n=!0,c.file=l[15].file,Ce(()=>n=!1)),e.$set(c)},i(o){r||(_(e.$$.fragment,o),r=!0)},o(o){w(e.$$.fragment,o),r=!1},d(o){O(e,o)}}}function Go(l){let e,t;return e=new xt({}),{c(){L(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,r){B(e,n,r),t=!0},p:$,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Yo(l){let e,t,n={ctx:l,current:null,token:null,hasCatch:!0,pending:Go,then:Ko,catch:qo,value:14,error:18,blocks:[,,,]};return Ct(l[1]("await"),n),{c(){e=J(),n.block.c()},l(r){e=J(),n.block.l(r)},m(r,i){T(r,e,i),n.block.m(r,n.anchor=i),n.mount=()=>e.parentNode,n.anchor=e,t=!0},p(r,[i]){l=r,Ot(n,l,i)},i(r){t||(_(n.block),t=!0)},o(r){for(let i=0;i<3;i+=1){const s=n.blocks[i];w(s)}t=!1},d(r){r&&b(e),n.block.d(r),n.token=null,n=null}}}function Wo(l,e,t){let n,r,i,s;lt(l,Xt,k=>t(10,n=k)),lt(l,St,k=>t(11,r=k)),lt(l,ht,k=>t(12,i=k)),lt(l,Vt,k=>t(13,s=k));let{id:a=0}=e,{version:o=1}=e,{status:f=0}=e,{displayName:c=""}=e,{start:u=""}=e,{description:h=""}=e,d;We(async()=>{Vt.subscribe(k=>{k>0&&(console.log(" ~ file: Validation.svelte:37 ~ onMount ~ latestFileUploadDate:",s),m())}),ht.subscribe(k=>{k>0&&(console.log(" ~ file: Validation.svelte:41 ~ onMount ~ latestDataDescriptionDate:",i),m())}),St.subscribe(k=>{k>0&&(console.log(" ~ file: Validation.svelte:45 ~ onMount ~ latestFileReaderDate:",r),m())}),Xt.subscribe(k=>{k>0&&(console.log(" ~ file: Validation.svelte:49 ~ onMount ~ latestSubmitDate:",n),m())})});async function m(k){console.log("validation start"),t(0,d=null),t(0,d=await gt(u,a,o)),console.log("validation end",d==null?void 0:d.isValid),Hn.set(Date.now())}function p(k,v){l.$$.not_equal(v.sortedErrors,k)&&(v.sortedErrors=k,t(0,d))}function D(k,v){l.$$.not_equal(v.file,k)&&(v.file=k,t(0,d))}return l.$$set=k=>{"id"in k&&t(2,a=k.id),"version"in k&&t(3,o=k.version),"status"in k&&t(4,f=k.status),"displayName"in k&&t(5,c=k.displayName),"start"in k&&t(6,u=k.start),"description"in k&&t(7,h=k.description)},l.$$.update=()=>{l.$$.dirty&1},[d,m,a,o,f,c,u,h,p,D]}class Xo extends ee{constructor(e){super(),te(this,e,Wo,Yo,ne,{id:2,version:3,status:4,displayName:5,start:6,description:7})}}function Jl(l){let e,t,n,r,i,s,a,o,f,c,u,h,d,m,p;n=new vs({props:{type:l[2],size:"x-large"}});const D=[Qo,Jo],k=[];function v(C,I){return C[3]?0:1}f=v(l),c=k[f]=D[f](l);const g=[$o,Zo],y=[];function A(C,I){return C[4]?0:1}return d=A(l),m=y[d]=g[d](l),{c(){e=F("div"),t=F("div"),L(n.$$.fragment),r=U(),i=F("div"),s=le(l[1]),o=U(),c.c(),u=U(),h=F("div"),m.c(),this.h()},l(C){e=N(C,"DIV",{class:!0});var I=M(e);t=N(I,"DIV",{class:!0});var H=M(t);R(n.$$.fragment,H),H.forEach(b),r=j(I),i=N(I,"DIV",{class:!0});var z=M(i);s=re(z,l[1]),z.forEach(b),o=j(I),c.l(I),u=j(I),h=N(I,"DIV",{class:!0});var S=M(h);m.l(S),S.forEach(b),I.forEach(b),this.h()},h(){E(t,"class","self-center flex-none"),E(i,"class",a=l[5]+" self-center grow"),E(h,"class","text-right"),E(e,"class","flex gap-5")},m(C,I){T(C,e,I),V(e,t),B(n,t,null),V(e,r),V(e,i),V(i,s),V(e,o),k[f].m(e,null),V(e,u),V(e,h),y[d].m(h,null),p=!0},p(C,I){const H={};I&4&&(H.type=C[2]),n.$set(H),(!p||I&2)&&ue(s,C[1]),(!p||I&32&&a!==(a=C[5]+" self-center grow"))&&E(i,"class",a);let z=f;f=v(C),f===z?k[f].p(C,I):(W(),w(k[z],1,1,()=>{k[z]=null}),X(),c=k[f],c?c.p(C,I):(c=k[f]=D[f](C),c.c()),_(c,1),c.m(e,u));let S=d;d=A(C),d===S?y[d].p(C,I):(W(),w(y[S],1,1,()=>{y[S]=null}),X(),m=y[d],m?m.p(C,I):(m=y[d]=g[d](C),m.c()),_(m,1),m.m(h,null))},i(C){p||(_(n.$$.fragment,C),_(c),_(m),p=!0)},o(C){w(n.$$.fragment,C),w(c),w(m),p=!1},d(C){C&&b(e),O(n),k[f].d(),y[d].d()}}}function Jo(l){let e;return{c(){e=F("div")},l(t){e=N(t,"DIV",{}),M(e).forEach(b)},m(t,n){T(t,e,n)},p:$,i:$,o:$,d(t){t&&b(e)}}}function Qo(l){let e,t,n,r,i;function s(o){l[12](o)}let a={};return l[0]!==void 0&&(a.value=l[0]),t=new Pi({props:a}),be.push(()=>Ie(t,"value",s)),t.$on("change",l[7]),{c(){e=F("div"),L(t.$$.fragment),this.h()},l(o){e=N(o,"DIV",{class:!0});var f=M(e);R(t.$$.fragment,f),f.forEach(b),this.h()},h(){E(e,"class",r=l[5]+" self-center grow")},m(o,f){T(o,e,f),B(t,e,null),i=!0},p(o,f){const c={};!n&&f&1&&(n=!0,c.value=o[0],Ce(()=>n=!1)),t.$set(c),(!i||f&32&&r!==(r=o[5]+" self-center grow"))&&E(e,"class",r)},i(o){i||(_(t.$$.fragment,o),i=!0)},o(o){w(t.$$.fragment,o),i=!1},d(o){o&&b(e),O(t)}}}function Zo(l){let e,t,n,r,i;return t=new me({props:{icon:Kr}}),{c(){e=F("button"),L(t.$$.fragment),this.h()},l(s){e=N(s,"BUTTON",{class:!0});var a=M(e);R(t.$$.fragment,a),a.forEach(b),this.h()},h(){E(e,"class","btn")},m(s,a){T(s,e,a),B(t,e,null),n=!0,r||(i=Y(e,"click",l[13]),r=!0)},p:$,i(s){n||(_(t.$$.fragment,s),n=!0)},o(s){w(t.$$.fragment,s),n=!1},d(s){s&&b(e),O(t),r=!1,i()}}}function $o(l){let e,t;return e=new _t({props:{textCss:"text-surface-500"}}),{c(){L(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,r){B(e,n,r),t=!0},p:$,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function xo(l){let e,t,n=l[2]&&Jl(l);return{c(){n&&n.c(),e=J()},l(r){n&&n.l(r),e=J()},m(r,i){n&&n.m(r,i),T(r,e,i),t=!0},p(r,[i]){r[2]?n?(n.p(r,i),i&4&&_(n,1)):(n=Jl(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(W(),w(n,1,1,()=>{n=null}),X())},i(r){t||(_(n),t=!0)},o(r){w(n),t=!1},d(r){r&&b(e),n&&n.d(r)}}}function ea(l,e,t){let{id:n}=e,{file:r}=e,{type:i}=e,{description:s}=e,{withDescription:a}=e;const o=Ye();let{save:f}=e,{remove:c}=e,{generateAble:u=!1}=e,h=!1,d="col-span-7";We(async()=>{t(5,d=a?"col-span-4":"col-span-7")});async function m(v){if(t(4,h=!0),await fo(c,n,r)==!0){let y=r+" removed.";o("removed",{text:y})}console.log("remove loading"),t(4,h=!1)}async function p(){if(await ao(f,n,r,s)){let g="Description of "+r+" is updated.";o("saved",{text:g})}}function D(v){s=v,t(0,s)}const k=v=>m();return l.$$set=v=>{"id"in v&&t(8,n=v.id),"file"in v&&t(1,r=v.file),"type"in v&&t(2,i=v.type),"description"in v&&t(0,s=v.description),"withDescription"in v&&t(3,a=v.withDescription),"save"in v&&t(9,f=v.save),"remove"in v&&t(10,c=v.remove),"generateAble"in v&&t(11,u=v.generateAble)},[s,r,i,a,h,d,m,p,n,f,c,u,D,k]}class ta extends ee{constructor(e){super(),te(this,e,ea,xo,ne,{id:8,file:1,type:2,description:0,withDescription:3,save:9,remove:10,generateAble:11})}}function Ql(l,e,t){const n=l.slice();return n[13]=e[t],n[15]=t,n}function na(l){let e,t;return e=new _t({props:{textCss:"text-surface-800",label:"loading files list"}}),{c(){L(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,r){B(e,n,r),t=!0},p:$,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function la(l){let e,t,n=fe(l[0]),r=[];for(let s=0;s<n.length;s+=1)r[s]=Zl(Ql(l,n,s));const i=s=>w(r[s],1,1,()=>{r[s]=null});return{c(){e=F("div");for(let s=0;s<r.length;s+=1)r[s].c();this.h()},l(s){e=N(s,"DIV",{class:!0});var a=M(e);for(let o=0;o<r.length;o+=1)r[o].l(a);a.forEach(b),this.h()},h(){E(e,"class","grid gap-2 divide-y-2 p-3 max-h-[180px] overflow-auto")},m(s,a){T(s,e,a);for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(e,null);t=!0},p(s,a){if(a&127){n=fe(s[0]);let o;for(o=0;o<n.length;o+=1){const f=Ql(s,n,o);r[o]?(r[o].p(f,a),_(r[o],1)):(r[o]=Zl(f),r[o].c(),_(r[o],1),r[o].m(e,null))}for(W(),o=n.length;o<r.length;o+=1)i(o);X()}},i(s){if(!t){for(let a=0;a<n.length;a+=1)_(r[a]);t=!0}},o(s){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)w(r[a]);t=!1},d(s){s&&b(e),Be(r,s)}}}function Zl(l){let e,t;const n=[{id:l[1]},{file:l[13].name},l[13],{save:l[2]},{remove:l[3]},{withDescription:l[4]}];function r(...s){return l[9](l[15],...s)}let i={};for(let s=0;s<n.length;s+=1)i=Ne(i,n[s]);return e=new ta({props:i}),e.$on("removed",r),e.$on("saved",l[6]),{c(){L(e.$$.fragment)},l(s){R(e.$$.fragment,s)},m(s,a){B(e,s,a),t=!0},p(s,a){l=s;const o=a&31?Ke(n,[a&2&&{id:l[1]},a&1&&{file:l[13].name},a&1&&Ge(l[13]),a&4&&{save:l[2]},a&8&&{remove:l[3]},a&16&&{withDescription:l[4]}]):{};e.$set(o)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){w(e.$$.fragment,s),t=!1},d(s){O(e,s)}}}function ra(l){let e,t,n,r;const i=[la,na],s=[];function a(o,f){return o[0]?0:1}return e=a(l),t=s[e]=i[e](l),{c(){t.c(),n=J()},l(o){t.l(o),n=J()},m(o,f){s[e].m(o,f),T(o,n,f),r=!0},p(o,[f]){let c=e;e=a(o),e===c?s[e].p(o,f):(W(),w(s[c],1,1,()=>{s[c]=null}),X(),t=s[e],t?t.p(o,f):(t=s[e]=i[e](o),t.c()),_(t,1),t.m(n.parentNode,n))},i(o){r||(_(t),r=!0)},o(o){w(t),r=!1},d(o){o&&b(n),s[e].d(o)}}}function ia(l,e,t){let{id:n}=e,{files:r}=e,{save:i}=e,{remove:s}=e,{descriptionType:a}=e,o;const f=Ye();let c;We(async()=>{t(8,c=Date.now()),d(a)});async function u(p,D){r.splice(D,1),t(0,r=[...r]),f("warning",{text:p.detail.text})}async function h(p){f("success",{text:p.detail.text})}function d(p){p==0&&t(4,o=!1),p==1&&t(4,o=!0),p==2&&t(4,o=!0)}const m=(p,D)=>u(D,p);return l.$$set=p=>{"id"in p&&t(1,n=p.id),"files"in p&&t(0,r=p.files),"save"in p&&t(2,i=p.save),"remove"in p&&t(3,s=p.remove),"descriptionType"in p&&t(7,a=p.descriptionType)},l.$$.update=()=>{l.$$.dirty&256},[r,n,i,s,o,u,h,a,c,m]}class $r extends ee{constructor(e){super(),te(this,e,ia,ra,ne,{id:1,files:0,save:2,remove:3,descriptionType:7})}}const sa=async(l,e,t)=>{console.log(l,e,t);try{return(await $e.get("/rpm/DataStructure/load?file="+l+"&&entityId="+e+"&&version="+t)).data}catch(n){throw console.error("ERROR : LOAD",n),n}},dn=parseFloat;function Fn(l,e=";"){let t;if(Array.isArray(l))t=l.filter(n=>n);else{t=[];for(const n in l)l[n]&&t.push(`${n}:${l[n]}`)}return t.join(e)}function oa(l,e,t,n){let r,i;const s="1em";let a,o,f,c="-.125em";const u="visible";return n&&(f="center",i="1.25em"),t&&(r=t),e&&(e=="lg"?(o="1.33333em",a=".75em",c="-.225em"):e=="xs"?o=".75em":e=="sm"?o=".875em":o=e.replace("x","em")),Fn([Fn({float:r,width:i,height:s,"line-height":a,"font-size":o,"text-align":f,"vertical-align":c,"transform-origin":"center",overflow:u}),l])}function aa(l,e,t,n,r,i=1,s="",a=""){let o=1,f=1;return r&&(r=="horizontal"?o=-1:r=="vertical"?f=-1:o=f=-1),Fn([`translate(${dn(e)*i}${s},${dn(t)*i}${s})`,`scale(${o*dn(l)},${f*dn(l)})`,n&&`rotate(${n}${a})`]," ")}function $l(l){let e,t,n,r,i,s,a,o;function f(h,d){return typeof h[10][4]=="string"?ca:fa}let c=f(l),u=c(l);return{c(){e=At("svg"),t=At("g"),n=At("g"),u.c(),this.h()},l(h){e=Mt(h,"svg",{id:!0,class:!0,style:!0,viewBox:!0,"aria-hidden":!0,role:!0,xmlns:!0});var d=M(e);t=Mt(d,"g",{transform:!0,"transform-origin":!0});var m=M(t);n=Mt(m,"g",{transform:!0});var p=M(n);u.l(p),p.forEach(b),m.forEach(b),d.forEach(b),this.h()},h(){E(n,"transform",l[12]),E(t,"transform",r="translate("+l[10][0]/2+" "+l[10][1]/2+")"),E(t,"transform-origin",i=l[10][0]/4+" 0"),E(e,"id",s=l[1]||void 0),E(e,"class",a="svelte-fa "+l[0]+" svelte-chiuqu"),E(e,"style",l[11]),E(e,"viewBox",o="0 0 "+l[10][0]+" "+l[10][1]),E(e,"aria-hidden","true"),E(e,"role","img"),E(e,"xmlns","http://www.w3.org/2000/svg"),de(e,"pulse",l[4]),de(e,"spin",l[3])},m(h,d){T(h,e,d),V(e,t),V(t,n),u.m(n,null)},p(h,d){c===(c=f(h))&&u?u.p(h,d):(u.d(1),u=c(h),u&&(u.c(),u.m(n,null))),d&4096&&E(n,"transform",h[12]),d&1024&&r!==(r="translate("+h[10][0]/2+" "+h[10][1]/2+")")&&E(t,"transform",r),d&1024&&i!==(i=h[10][0]/4+" 0")&&E(t,"transform-origin",i),d&2&&s!==(s=h[1]||void 0)&&E(e,"id",s),d&1&&a!==(a="svelte-fa "+h[0]+" svelte-chiuqu")&&E(e,"class",a),d&2048&&E(e,"style",h[11]),d&1024&&o!==(o="0 0 "+h[10][0]+" "+h[10][1])&&E(e,"viewBox",o),d&17&&de(e,"pulse",h[4]),d&9&&de(e,"spin",h[3])},d(h){h&&b(e),u.d()}}}function fa(l){let e,t,n,r,i,s,a,o,f,c;return{c(){e=At("path"),s=At("path"),this.h()},l(u){e=Mt(u,"path",{d:!0,fill:!0,"fill-opacity":!0,transform:!0}),M(e).forEach(b),s=Mt(u,"path",{d:!0,fill:!0,"fill-opacity":!0,transform:!0}),M(s).forEach(b),this.h()},h(){E(e,"d",t=l[10][4][0]),E(e,"fill",n=l[6]||l[2]||"currentColor"),E(e,"fill-opacity",r=l[9]!=!1?l[7]:l[8]),E(e,"transform",i="translate("+l[10][0]/-2+" "+l[10][1]/-2+")"),E(s,"d",a=l[10][4][1]),E(s,"fill",o=l[5]||l[2]||"currentColor"),E(s,"fill-opacity",f=l[9]!=!1?l[8]:l[7]),E(s,"transform",c="translate("+l[10][0]/-2+" "+l[10][1]/-2+")")},m(u,h){T(u,e,h),T(u,s,h)},p(u,h){h&1024&&t!==(t=u[10][4][0])&&E(e,"d",t),h&68&&n!==(n=u[6]||u[2]||"currentColor")&&E(e,"fill",n),h&896&&r!==(r=u[9]!=!1?u[7]:u[8])&&E(e,"fill-opacity",r),h&1024&&i!==(i="translate("+u[10][0]/-2+" "+u[10][1]/-2+")")&&E(e,"transform",i),h&1024&&a!==(a=u[10][4][1])&&E(s,"d",a),h&36&&o!==(o=u[5]||u[2]||"currentColor")&&E(s,"fill",o),h&896&&f!==(f=u[9]!=!1?u[8]:u[7])&&E(s,"fill-opacity",f),h&1024&&c!==(c="translate("+u[10][0]/-2+" "+u[10][1]/-2+")")&&E(s,"transform",c)},d(u){u&&(b(e),b(s))}}}function ca(l){let e,t,n,r;return{c(){e=At("path"),this.h()},l(i){e=Mt(i,"path",{d:!0,fill:!0,transform:!0}),M(e).forEach(b),this.h()},h(){E(e,"d",t=l[10][4]),E(e,"fill",n=l[2]||l[5]||"currentColor"),E(e,"transform",r="translate("+l[10][0]/-2+" "+l[10][1]/-2+")")},m(i,s){T(i,e,s)},p(i,s){s&1024&&t!==(t=i[10][4])&&E(e,"d",t),s&36&&n!==(n=i[2]||i[5]||"currentColor")&&E(e,"fill",n),s&1024&&r!==(r="translate("+i[10][0]/-2+" "+i[10][1]/-2+")")&&E(e,"transform",r)},d(i){i&&b(e)}}}function ua(l){let e,t=l[10][4]&&$l(l);return{c(){t&&t.c(),e=J()},l(n){t&&t.l(n),e=J()},m(n,r){t&&t.m(n,r),T(n,e,r)},p(n,[r]){n[10][4]?t?t.p(n,r):(t=$l(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:$,o:$,d(n){n&&b(e),t&&t.d(n)}}}function da(l,e,t){let{class:n=""}=e,{id:r=""}=e,{style:i=""}=e,{icon:s}=e,{size:a=""}=e,{color:o=""}=e,{fw:f=!1}=e,{pull:c=""}=e,{scale:u=1}=e,{translateX:h=0}=e,{translateY:d=0}=e,{rotate:m=""}=e,{flip:p=!1}=e,{spin:D=!1}=e,{pulse:k=!1}=e,{primaryColor:v=""}=e,{secondaryColor:g=""}=e,{primaryOpacity:y=1}=e,{secondaryOpacity:A=.4}=e,{swapOpacity:C=!1}=e,I,H,z;return l.$$set=S=>{"class"in S&&t(0,n=S.class),"id"in S&&t(1,r=S.id),"style"in S&&t(13,i=S.style),"icon"in S&&t(14,s=S.icon),"size"in S&&t(15,a=S.size),"color"in S&&t(2,o=S.color),"fw"in S&&t(16,f=S.fw),"pull"in S&&t(17,c=S.pull),"scale"in S&&t(18,u=S.scale),"translateX"in S&&t(19,h=S.translateX),"translateY"in S&&t(20,d=S.translateY),"rotate"in S&&t(21,m=S.rotate),"flip"in S&&t(22,p=S.flip),"spin"in S&&t(3,D=S.spin),"pulse"in S&&t(4,k=S.pulse),"primaryColor"in S&&t(5,v=S.primaryColor),"secondaryColor"in S&&t(6,g=S.secondaryColor),"primaryOpacity"in S&&t(7,y=S.primaryOpacity),"secondaryOpacity"in S&&t(8,A=S.secondaryOpacity),"swapOpacity"in S&&t(9,C=S.swapOpacity)},l.$$.update=()=>{l.$$.dirty&16384&&t(10,I=s&&s.icon||[0,0,"",[],""]),l.$$.dirty&237568&&t(11,H=oa(i,a,c,f)),l.$$.dirty&8126464&&t(12,z=aa(u,h,d,m,p,512))},[n,r,o,D,k,v,g,y,A,C,I,H,z,i,s,a,f,c,u,h,d,m,p]}class Jt extends ee{constructor(e){super(),te(this,e,da,ua,ne,{class:0,id:1,style:13,icon:14,size:15,color:2,fw:16,pull:17,scale:18,translateX:19,translateY:20,rotate:21,flip:22,spin:3,pulse:4,primaryColor:5,secondaryColor:6,primaryOpacity:7,secondaryOpacity:8,swapOpacity:9})}}var Qt;(function(l){l.start="start",l.end="end",l.center="center"})(Qt||(Qt={}));var xl;(function(l){l.full="full",l.center="center"})(xl||(xl={}));var er;(function(l){l[l.point=0]="point",l[l.comma=1]="comma"})(er||(er={}));var tr;(function(l){l[l.columnwise=0]="columnwise",l[l.rowwise=1]="rowwise"})(tr||(tr={}));var nr;(function(l){l[l.tab=9]="tab",l[l.comma=44]="comma",l[l.semicolon=59]="semicolon",l[l.space=32]="space"})(nr||(nr={}));var lr;(function(l){l[l.quotes=0]="quotes",l[l.doubleQuotes=1]="doubleQuotes"})(lr||(lr={}));var rr;(function(l){l[l.success=0]="success",l[l.warning=1]="warning",l[l.error=2]="error",l[l.surface=3]="surface"})(rr||(rr={}));var ir;(function(l){l.e="e",l.ne="ne",l.gt="gt",l.lt="lt",l.gte="gte",l.lte="lte",l.c="c",l.nc="nc",l.sw="sw",l.ew="ew",l.o="o",l.sf="sf",l.a="a",l.u="u",l.b="b",l.no="no"})(ir||(ir={}));function ma(l){let e,t,n='<span class="!absolute !-m-px !h-px !w-px !overflow-hidden !whitespace-nowrap !border-0 !p-0 ![clip:rect(0,0,0,0)]">Loading...</span>',r,i,s,a;return{c(){e=F("div"),t=F("div"),t.innerHTML=n,r=U(),i=F("span"),s=le(l[1]),this.h()},l(o){e=N(o,"DIV",{class:!0});var f=M(e);t=N(f,"DIV",{class:!0,role:!0,"data-svelte-h":!0}),ge(t)!=="svelte-1i55yv2"&&(t.innerHTML=n),r=j(f),i=N(f,"SPAN",{});var c=M(i);s=re(c,l[1]),c.forEach(b),f.forEach(b),this.h()},h(){E(t,"class","inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-current border-r-transparent align-[-0.125em] motion-reduce:animate-[spin_1.5s_linear_infinite]"),E(t,"role","status"),E(e,"class",a="flex justify-"+l[2]+" items-"+l[2]+" h-full w-full gap-5 pt-2 "+l[0])},m(o,f){T(o,e,f),V(e,t),V(e,r),V(e,i),V(i,s)},p(o,[f]){f&2&&ue(s,o[1]),f&5&&a!==(a="flex justify-"+o[2]+" items-"+o[2]+" h-full w-full gap-5 pt-2 "+o[0])&&E(e,"class",a)},i:$,o:$,d(o){o&&b(e)}}}function ha(l,e,t){let{textCss:n="text-surface-600"}=e,{label:r=""}=e,{position:i=Qt.center}=e;return l.$$set=s=>{"textCss"in s&&t(0,n=s.textCss),"label"in s&&t(1,r=s.label),"position"in s&&t(2,i=s.position)},[n,r,i]}class xr extends ee{constructor(e){super(),te(this,e,ha,ma,ne,{textCss:0,label:1,position:2})}}let ei="window.location.origin",ti="",ni="";const ga=xe(""),_a=xe(""),ba=xe("");ga.subscribe(l=>{ei=l});_a.subscribe(l=>{ti=l});ba.subscribe(l=>{ni=l});console.log("setup axios");const en=(l,e,t)=>{const n=hi.create({baseURL:ei}),r={authorization:"Basic "+btoa(ti+":"+ni)};return n({method:l,url:e,data:t,headers:r}).then(i=>Promise.resolve(i)).catch(i=>Promise.reject(i))},pa=(l,e="")=>en("get",l,e),va=(l,e)=>en("delete",l,e),ka=(l,e)=>en("post",l,e),wa=(l,e)=>en("put",l,e),Da=(l,e)=>en("patch",l,e),li={get:pa,delete:va,post:ka,put:wa,patch:Da};class mn{constructor(){Wn(this,"items");this.items=[]}}function Ea(){const{subscribe:l,set:e,update:t}=xe(),n=[];let r;return e({itemId:void 0,helpItems:n}),{subscribe:l,set:e,update:t,setHelpItemList:i=>{ye.set({itemId:void 0,helpItems:i})},setItemId:i=>{ye.subscribe(s=>{s=s===void 0?{itemId:void 0,helpItems:n}:s,s.helpItems=s.helpItems===void 0?n:s.helpItems,r={itemId:i,helpItems:s.helpItems}}),t(s=>r)},resetItemId:()=>{ye.subscribe(i=>{i=i===void 0?{itemId:void 0,helpItems:n}:i,i.helpItems=i.helpItems===void 0?n:i.helpItems,r={itemId:void 0,helpItems:i.helpItems}}),t(i=>r)},show:i=>{ye.setItemId(i)},showHelpItem:i=>{i.id=i.id===void 0?"default":i.id,ye.set({itemId:i.id,helpItems:[i]})},hide:()=>{ye.resetItemId()},toggle:i=>{ye.subscribe(s=>{s=s===void 0?{itemId:void 0,helpItems:n}:s,s.helpItems=s.helpItems===void 0?n:s.helpItems,r={itemId:i,helpItems:s.helpItems}}),t(s=>r)},reset:()=>{ye.set({itemId:void 0,helpItems:n})},clear:()=>{ye.reset()}}}const ye=Ea();function ya(){const{subscribe:l,set:e,update:t}=xe();return e(new mn),{subscribe:l,set:e,update:t,addItem:n=>{let r;Cn.subscribe(i=>{i=i===void 0?new mn:i,i.items.find(s=>s.label===n.label)||(i.items=[...i.items,n]),r=i}),t(i=>r)},updateItem:n=>{let r;Cn.subscribe(i=>{i=i===void 0?new mn:i;let s=i.items.find(a=>a.link===n.link);if(console.log(i.items,s),s){const a=i.items.indexOf(s);i.items[a]=n,s=n}r=i}),t(i=>r)},clean:()=>{Cn.set(new mn)}}}const Cn=ya();function sr(l,e,t){const n=l.slice();return n[8]=e[t],n}function or(l){let e,t="*";return{c(){e=F("span"),e.textContent=t,this.h()},l(n){e=N(n,"SPAN",{class:!0,"data-svelte-h":!0}),ge(e)!=="svelte-1fr6djj"&&(e.textContent=t),this.h()},h(){E(e,"class","text-sm text-red-600")},m(n,r){T(n,e,r)},d(n){n&&b(e)}}}function ar(l){let e,t,n=fe(l[3]),r=[];for(let i=0;i<n.length;i+=1)r[i]=fr(sr(l,n,i));return{c(){e=F("span"),t=F("ul");for(let i=0;i<r.length;i+=1)r[i].c();this.h()},l(i){e=N(i,"SPAN",{class:!0});var s=M(e);t=N(s,"UL",{});var a=M(t);for(let o=0;o<r.length;o+=1)r[o].l(a);a.forEach(b),s.forEach(b),this.h()},h(){E(e,"class","text-sm text-error-600")},m(i,s){T(i,e,s),V(e,t);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(t,null)},p(i,s){if(s&8){n=fe(i[3]);let a;for(a=0;a<n.length;a+=1){const o=sr(i,n,a);r[a]?r[a].p(o,s):(r[a]=fr(o),r[a].c(),r[a].m(t,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=n.length}},d(i){i&&b(e),Be(r,i)}}}function fr(l){let e,t=l[8]+"",n;return{c(){e=F("li"),n=le(t)},l(r){e=N(r,"LI",{});var i=M(e);n=re(i,t),i.forEach(b)},m(r,i){T(r,e,i),V(e,n)},p(r,i){i&8&&t!==(t=r[8]+"")&&ue(n,t)},d(r){r&&b(e)}}}function Ia(l){let e,t,n,r,i,s,a,o,f,c,u,h=l[2]&&or();const d=l[7].default,m=zt(d,l,l[6],null);let p=l[3]&&ar(l);return{c(){e=F("div"),t=F("label"),n=F("span"),r=le(l[1]),i=U(),h&&h.c(),s=U(),m&&m.c(),a=U(),p&&p.c(),this.h()},l(D){e=N(D,"DIV",{id:!0});var k=M(e);t=N(k,"LABEL",{class:!0});var v=M(t);n=N(v,"SPAN",{});var g=M(n);r=re(g,l[1]),i=j(g),h&&h.l(g),g.forEach(b),s=j(v),m&&m.l(v),a=j(v),p&&p.l(v),v.forEach(b),k.forEach(b),this.h()},h(){E(t,"class","label"),E(e,"id",o=l[0]+"-container")},m(D,k){T(D,e,k),V(e,t),V(t,n),V(n,r),V(n,i),h&&h.m(n,null),V(t,s),m&&m.m(t,null),V(t,a),p&&p.m(t,null),f=!0,c||(u=[Y(e,"mouseover",l[4]),Y(e,"focus",l[4]),Y(e,"mouseout",cr),Y(e,"blur",cr)],c=!0)},p(D,[k]){(!f||k&2)&&ue(r,D[1]),D[2]?h||(h=or(),h.c(),h.m(n,null)):h&&(h.d(1),h=null),m&&m.p&&(!f||k&64)&&Lt(m,d,D,D[6],f?Bt(d,D[6],k,null):Rt(D[6]),null),D[3]?p?p.p(D,k):(p=ar(D),p.c(),p.m(t,null)):p&&(p.d(1),p=null),(!f||k&1&&o!==(o=D[0]+"-container"))&&E(e,"id",o)},i(D){f||(_(m,D),f=!0)},o(D){w(m,D),f=!1},d(D){D&&b(e),h&&h.d(),m&&m.d(D),p&&p.d(),c=!1,ot(u)}}}function cr(){}function Ca(l,e,t){let{$$slots:n={},$$scope:r}=e,{id:i=""}=e,{label:s=""}=e,{required:a}=e,{feedback:o}=e,{help:f=!1}=e;function c(){f&&ye.show(i)}return l.$$set=u=>{"id"in u&&t(0,i=u.id),"label"in u&&t(1,s=u.label),"required"in u&&t(2,a=u.required),"feedback"in u&&t(3,o=u.feedback),"help"in u&&t(5,f=u.help),"$$scope"in u&&t(6,r=u.$$scope)},[i,s,a,o,c,f,r,n]}class ri extends ee{constructor(e){super(),te(this,e,Ca,Ia,ne,{id:0,label:1,required:2,feedback:3,help:5})}}function ur(l,e,t){const n=l.slice();return n[16]=e[t],n}function dr(l){let e,t=l[16].text+"",n,r;return{c(){e=F("option"),n=le(t),this.h()},l(i){e=N(i,"OPTION",{});var s=M(e);n=re(s,t),s.forEach(b),this.h()},h(){e.__value=r=l[16].id,Wt(e,e.__value)},m(i,s){T(i,e,s),V(e,n)},p(i,s){s&2&&t!==(t=i[16].text+"")&&ue(n,t),s&2&&r!==(r=i[16].id)&&(e.__value=r,Wt(e,e.__value))},d(i){i&&b(e)}}}function Va(l){let e,t,n="-- Please select --",r,i,s=fe(l[1]),a=[];for(let o=0;o<s.length;o+=1)a[o]=dr(ur(l,s,o));return{c(){e=F("select"),t=F("option"),t.textContent=n;for(let o=0;o<a.length;o+=1)a[o].c();this.h()},l(o){e=N(o,"SELECT",{id:!0,class:!0});var f=M(e);t=N(f,"OPTION",{"data-svelte-h":!0}),ge(t)!=="svelte-1s4hyfh"&&(t.textContent=n);for(let c=0;c<a.length;c+=1)a[c].l(f);f.forEach(b),this.h()},h(){t.__value=null,Wt(t,t.__value),E(e,"id",l[0]),E(e,"class","select variant-form-material"),l[8]===void 0&&_n(()=>l[13].call(e)),de(e,"input-success",l[3]),de(e,"input-error",l[4])},m(o,f){T(o,e,f),V(e,t);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(e,null);Zn(e,l[8],!0),r||(i=[Y(e,"change",l[13]),Y(e,"change",l[11]),Y(e,"select",l[12])],r=!0)},p(o,f){if(f&2){s=fe(o[1]);let c;for(c=0;c<s.length;c+=1){const u=ur(o,s,c);a[c]?a[c].p(u,f):(a[c]=dr(u),a[c].c(),a[c].m(e,null))}for(;c<a.length;c+=1)a[c].d(1);a.length=s.length}f&1&&E(e,"id",o[0]),f&258&&Zn(e,o[8]),f&8&&de(e,"input-success",o[3]),f&16&&de(e,"input-error",o[4])},d(o){o&&b(e),Be(a,o),r=!1,ot(i)}}}function Sa(l){let e,t;return e=new ri({props:{id:l[0],label:l[2],feedback:l[5],required:l[6],help:l[7],$$slots:{default:[Va]},$$scope:{ctx:l}}}),{c(){L(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,r){B(e,n,r),t=!0},p(n,[r]){const i={};r&1&&(i.id=n[0]),r&4&&(i.label=n[2]),r&32&&(i.feedback=n[5]),r&64&&(i.required=n[6]),r&128&&(i.help=n[7]),r&524571&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Fa(l,e,t){let n,{id:r}=e,{source:i}=e,{target:s}=e,{title:a}=e,{valid:o=!1}=e,{invalid:f=!1}=e,{feedback:c=[""]}=e,{required:u=!1}=e,{complexTarget:h=!1}=e,{help:d=!1}=e;function m(g){g!=null&&(h?t(8,n=g.id):t(8,n=g))}function p(g){h?t(9,s=i.find(y=>y.id===g)):t(9,s=g)}function D(g){Ae.call(this,l,g)}function k(g){Ae.call(this,l,g)}function v(){n=Di(this),t(8,n),t(1,i)}return l.$$set=g=>{"id"in g&&t(0,r=g.id),"source"in g&&t(1,i=g.source),"target"in g&&t(9,s=g.target),"title"in g&&t(2,a=g.title),"valid"in g&&t(3,o=g.valid),"invalid"in g&&t(4,f=g.invalid),"feedback"in g&&t(5,c=g.feedback),"required"in g&&t(6,u=g.required),"complexTarget"in g&&t(10,h=g.complexTarget),"help"in g&&t(7,d=g.help)},l.$$.update=()=>{l.$$.dirty&512&&m(s),l.$$.dirty&256&&p(n)},t(8,n=null),[r,i,a,o,f,c,u,d,n,s,h,D,k,v]}class hn extends ee{constructor(e){super(),te(this,e,Fa,Sa,ne,{id:0,source:1,target:9,title:2,valid:3,invalid:4,feedback:5,required:6,complexTarget:10,help:7})}}function Na(l){let e,t,n;return{c(){e=F("input"),this.h()},l(r){e=N(r,"INPUT",{id:!0,class:!0,type:!0,placeholder:!0}),this.h()},h(){E(e,"id",l[1]),E(e,"class","input variant-form-material"),E(e,"type","text"),E(e,"placeholder",l[7]),e.disabled=l[9],de(e,"input-success",l[3]),de(e,"input-error",l[4])},m(r,i){T(r,e,i),Wt(e,l[0]),t||(n=[Y(e,"input",l[12]),Y(e,"input",l[10]),Y(e,"change",l[11])],t=!0)},p(r,i){i&2&&E(e,"id",r[1]),i&128&&E(e,"placeholder",r[7]),i&512&&(e.disabled=r[9]),i&1&&e.value!==r[0]&&Wt(e,r[0]),i&8&&de(e,"input-success",r[3]),i&16&&de(e,"input-error",r[4])},d(r){r&&b(e),t=!1,ot(n)}}}function Ta(l){let e,t;return e=new ri({props:{id:l[1],label:l[2],feedback:l[6],required:l[5],help:l[8],$$slots:{default:[Na]},$$scope:{ctx:l}}}),{c(){L(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,r){B(e,n,r),t=!0},p(n,[r]){const i={};r&2&&(i.id=n[1]),r&4&&(i.label=n[2]),r&64&&(i.feedback=n[6]),r&32&&(i.required=n[5]),r&256&&(i.help=n[8]),r&8859&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Ha(l,e,t){let{id:n=""}=e,{label:r=""}=e,{value:i=""}=e,{valid:s=!1}=e,{invalid:a=!1}=e,{required:o=!1}=e,{feedback:f=[""]}=e,{placeholder:c=""}=e,{help:u=!1}=e,{disabled:h=!1}=e;function d(D){Ae.call(this,l,D)}function m(D){Ae.call(this,l,D)}function p(){i=this.value,t(0,i)}return l.$$set=D=>{"id"in D&&t(1,n=D.id),"label"in D&&t(2,r=D.label),"value"in D&&t(0,i=D.value),"valid"in D&&t(3,s=D.valid),"invalid"in D&&t(4,a=D.invalid),"required"in D&&t(5,o=D.required),"feedback"in D&&t(6,f=D.feedback),"placeholder"in D&&t(7,c=D.placeholder),"help"in D&&t(8,u=D.help),"disabled"in D&&t(9,h=D.disabled)},[i,n,r,s,a,o,f,c,u,h,d,m,p]}class mr extends ee{constructor(e){super(),te(this,e,Ha,Ta,ne,{id:1,label:2,value:0,valid:3,invalid:4,required:5,feedback:6,placeholder:7,help:8,disabled:9})}}Gr(void 0);Gr(void 0);function hr(l){let e,t,n,r,i;return t=new Jt({props:{icon:Ni}}),{c(){e=F("button"),L(t.$$.fragment),this.h()},l(s){e=N(s,"BUTTON",{id:!0,title:!0,class:!0,type:!0});var a=M(e);R(t.$$.fragment,a),a.forEach(b),this.h()},h(){E(e,"id","add-missing-value"),E(e,"title","add"),E(e,"class","add"),E(e,"type","button")},m(s,a){T(s,e,a),B(t,e,null),n=!0,r||(i=[Y(e,"mouseover",l[10]),Y(e,"click",l[4])],r=!0)},p:$,i(s){n||(_(t.$$.fragment,s),n=!0)},o(s){w(t.$$.fragment,s),n=!1},d(s){s&&b(e),O(t),r=!1,ot(i)}}}function Aa(l){let e,t,n,r,i,s,a,o,f,c,u,h,d,m;function p(y){l[5](y)}let D={id:"missing-value-name",placeholder:"Missing Value",help:!0};l[0]!==void 0&&(D.value=l[0]),t=new mr({props:D}),be.push(()=>Ie(t,"value",p)),t.$on("change",l[6]);function k(y){l[7](y)}let v={id:"missing-value-description",placeholder:"Description",help:!0};l[1]!==void 0&&(v.value=l[1]),i=new mr({props:v}),be.push(()=>Ie(i,"value",k)),i.$on("change",l[8]),c=new Jt({props:{icon:es}});let g=l[2]&&hr(l);return{c(){e=F("div"),L(t.$$.fragment),r=U(),L(i.$$.fragment),a=U(),o=F("div"),f=F("button"),L(c.$$.fragment),u=U(),g&&g.c(),this.h()},l(y){e=N(y,"DIV",{class:!0});var A=M(e);R(t.$$.fragment,A),r=j(A),R(i.$$.fragment,A),a=j(A),o=N(A,"DIV",{class:!0});var C=M(o);f=N(C,"BUTTON",{id:!0,title:!0,type:!0});var I=M(f);R(c.$$.fragment,I),I.forEach(b),u=j(C),g&&g.l(C),C.forEach(b),A.forEach(b),this.h()},h(){E(f,"id","delete-missing-value"),E(f,"title","delete"),E(f,"type","button"),E(o,"class","self-center text-xl mt-5"),E(e,"class","flex space-x-3 content-center")},m(y,A){T(y,e,A),B(t,e,null),V(e,r),B(i,e,null),V(e,a),V(e,o),V(o,f),B(c,f,null),V(o,u),g&&g.m(o,null),h=!0,d||(m=[Y(f,"mouseover",l[9]),Y(f,"click",l[3])],d=!0)},p(y,[A]){const C={};!n&&A&1&&(n=!0,C.value=y[0],Ce(()=>n=!1)),t.$set(C);const I={};!s&&A&2&&(s=!0,I.value=y[1],Ce(()=>s=!1)),i.$set(I),y[2]?g?(g.p(y,A),A&4&&_(g,1)):(g=hr(y),g.c(),_(g,1),g.m(o,null)):g&&(W(),w(g,1,1,()=>{g=null}),X())},i(y){h||(_(t.$$.fragment,y),_(i.$$.fragment,y),_(c.$$.fragment,y),_(g),h=!0)},o(y){w(t.$$.fragment,y),w(i.$$.fragment,y),w(c.$$.fragment,y),w(g),h=!1},d(y){y&&b(e),O(t),O(i),O(c),g&&g.d(),d=!1,ot(m)}}}function Ma(l,e,t){let{displayName:n=""}=e,{description:r=""}=e,{last:i=!0}=e;const s=Ye();function a(){s("remove")}function o(){s("add")}function f(p){n=p,t(0,n)}function c(p){Ae.call(this,l,p)}function u(p){r=p,t(1,r)}function h(p){Ae.call(this,l,p)}const d=()=>ye.show("delete-missing-value"),m=()=>ye.show("add-missing-value");return l.$$set=p=>{"displayName"in p&&t(0,n=p.displayName),"description"in p&&t(1,r=p.description),"last"in p&&t(2,i=p.last)},[n,r,i,a,o,f,c,u,h,d,m]}class za extends ee{constructor(e){super(),te(this,e,Ma,Aa,ne,{displayName:0,description:1,last:2})}}function gr(l,e,t){const n=l.slice();return n[7]=e[t],n[8]=e,n[9]=t,n}function _r(l){let e,t,n=fe(l[0]),r=[];for(let s=0;s<n.length;s+=1)r[s]=br(gr(l,n,s));const i=s=>w(r[s],1,1,()=>{r[s]=null});return{c(){for(let s=0;s<r.length;s+=1)r[s].c();e=J()},l(s){for(let a=0;a<r.length;a+=1)r[a].l(s);e=J()},m(s,a){for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(s,a);T(s,e,a),t=!0},p(s,a){if(a&7){n=fe(s[0]);let o;for(o=0;o<n.length;o+=1){const f=gr(s,n,o);r[o]?(r[o].p(f,a),_(r[o],1)):(r[o]=br(f),r[o].c(),_(r[o],1),r[o].m(e.parentNode,e))}for(W(),o=n.length;o<r.length;o+=1)i(o);X()}},i(s){if(!t){for(let a=0;a<n.length;a+=1)_(r[a]);t=!0}},o(s){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)w(r[a]);t=!1},d(s){s&&b(e),Be(r,s)}}}function br(l){let e,t,n,r;function i(f){l[4](f,l[7])}function s(f){l[5](f,l[7])}function a(){return l[6](l[9])}let o={last:l[0].length-1===l[9]};return l[7].displayName!==void 0&&(o.displayName=l[7].displayName),l[7].description!==void 0&&(o.description=l[7].description),e=new za({props:o}),be.push(()=>Ie(e,"displayName",i)),be.push(()=>Ie(e,"description",s)),e.$on("add",l[2]),e.$on("remove",a),{c(){L(e.$$.fragment)},l(f){R(e.$$.fragment,f)},m(f,c){B(e,f,c),r=!0},p(f,c){l=f;const u={};c&1&&(u.last=l[0].length-1===l[9]),!t&&c&1&&(t=!0,u.displayName=l[7].displayName,Ce(()=>t=!1)),!n&&c&1&&(n=!0,u.description=l[7].description,Ce(()=>n=!1)),e.$set(u)},i(f){r||(_(e.$$.fragment,f),r=!0)},o(f){w(e.$$.fragment,f),r=!1},d(f){O(e,f)}}}function La(l){let e,t="<b>Missing Values</b>",n,r,i,s,a,o=l[0]&&_r(l);return{c(){e=F("label"),e.innerHTML=t,n=U(),r=F("div"),o&&o.c(),this.h()},l(f){e=N(f,"LABEL",{id:!0,"data-svelte-h":!0}),ge(e)!=="svelte-5q4koq"&&(e.innerHTML=t),n=j(f),r=N(f,"DIV",{class:!0});var c=M(r);o&&o.l(c),c.forEach(b),this.h()},h(){E(e,"id","missingvalues"),E(r,"class","missing-values-container svelte-1ua3ce9")},m(f,c){T(f,e,c),T(f,n,c),T(f,r,c),o&&o.m(r,null),i=!0,s||(a=Y(e,"mouseover",l[3]),s=!0)},p(f,[c]){f[0]?o?(o.p(f,c),c&1&&_(o,1)):(o=_r(f),o.c(),_(o,1),o.m(r,null)):o&&(W(),w(o,1,1,()=>{o=null}),X())},i(f){i||(_(o),i=!0)},o(f){w(o),i=!1},d(f){f&&(b(e),b(n),b(r)),o&&o.d(),s=!1,a()}}}function Ra(l,e,t){let{list:n=[]}=e;We(()=>{console.log(" ~ file: MissingValues.svelte:6 ~ list:",n),n.length===0&&i()});function r(c){t(0,n=[...n.filter((u,h)=>c!==h)]),n.length===0&&i()}function i(){console.log("list",n);let c={id:0,displayName:"",description:""};t(0,n=[...n,c]),console.log("list",n)}const s=()=>ye.show("missingvalues");function a(c,u){l.$$.not_equal(u.displayName,c)&&(u.displayName=c,t(0,n))}function o(c,u){l.$$.not_equal(u.description,c)&&(u.description=c,t(0,n))}const f=c=>r(c);return l.$$set=c=>{"list"in c&&t(0,n=c.list)},[n,r,i,s,a,o,f]}class Ba extends ee{constructor(e){super(),te(this,e,Ra,La,ne,{list:0})}}const Oa=async(l,e,t,n)=>{console.log(l,e,n);try{return(await li.get("/rpm/DataStructure/load?file="+l+"&&encoding="+t+"&&entityId="+e+"&&version="+n)).data}catch(r){console.error(r)}},Pa=async l=>{try{return(await li.post("/rpm/DataStructure/store",l)).data}catch(e){console.error(e)}};function Ua(l){let e,t='<h4 class="h4">Controls</h4> <hr class="divide-x-8"/> <dl class="list-dl gap-0"><div><span class="badge bg-primary-500"></span> <span class="flex-auto"><dt class="font-bold">Selection</dt> <dd>left mouse button</dd></span> </div><div><span class="badge bg-primary-500"></span> <span class="flex-auto"><dt class="font-bold">Drag</dt> <dd>left mouse button down and drag</dd></span> </div><div><span class="badge bg-primary-500"></span> <span class="flex-auto"><dt class="font-bold">Deselect</dt> <dd>right mouse button click</dd></span> </div><div><span class="badge bg-primary-500"></span> <span class="flex-auto"><dt class="font-bold">Select Row</dt> <dd>double click left mouse button or click arrow</dd></span> </div><div><span class="badge bg-primary-500"></span> <span class="flex-auto"><dt class="font-bold">Deselect Row</dt> <dd>right mouse button click on arrow</dd></span></div></dl>';return{c(){e=F("div"),e.innerHTML=t,this.h()},l(n){e=N(n,"DIV",{class:!0,"data-svelte-h":!0}),ge(e)!=="svelte-1p56ohu"&&(e.innerHTML=t),this.h()},h(){E(e,"class","col-span-1 card p-5 text-sm")},m(n,r){T(n,e,r)},p:$,i:$,o:$,d(n){n&&b(e)}}}class ja extends ee{constructor(e){super(),te(this,e,null,Ua,ne,{})}}function pr(l,e,t){const n=l.slice();return n[56]=e[t],n[58]=t,n}function vr(l,e,t){const n=l.slice();return n[59]=e[t],n[61]=t,n}function kr(l,e,t){const n=l.slice();return n[62]=e[t],n}function qa(l){let e,t,n,r,i,s,a,o,f,c,u,h,d,m,p,D,k,v,g,y="Variable",A,C,I="Unit",H,z,S="Description",G,ie,se="Missing Values",Ee,he,Oe="Data",ze,pe,ve,Me,ce,Ve,rt,Pe,Ue,je,it,Je,P,ke,q,qe,Le,et,bt,Xe,Te,tt,nt,tn="Total:",K,x=l[0].total+"",Z,we,Se,De,qt="Found:",Ft,at=l[0].total-l[0].skipped+"",nn,wn,pt,Nt,An="Skipped:",Dn,Kt=l[0].skipped+"",ln,En,vt,Mn="<i>you see only the first 10 rows of the data</i>",yn,kt,Tt,ft,In,zn;function si(Q){l[19](Q)}let Ln={id:"delimeter",title:"Delimeter",source:l[0].delimeters,complexTarget:!1,help:!0};l[0].delimeter!==void 0&&(Ln.target=l[0].delimeter),s=new hn({props:Ln}),be.push(()=>Ie(s,"target",si)),s.$on("change",l[15]);function oi(Q){l[20](Q)}let Rn={id:"decimal",title:"Decimal",source:l[0].decimals,complexTarget:!1,help:!0};l[0].decimal!==void 0&&(Rn.target=l[0].decimal),f=new hn({props:Rn}),be.push(()=>Ie(f,"target",oi));function ai(Q){l[21](Q)}let Bn={id:"textMarker",title:"TextMarker",source:l[0].textMarkers,complexTarget:!1,help:!0};l[0].textMarker!==void 0&&(Bn.target=l[0].textMarker),h=new hn({props:Bn}),be.push(()=>Ie(h,"target",ai));function fi(Q){l[22](Q)}let On={id:"encoding",title:"Encoding",source:l[0].encodings,complexTarget:!1,help:!0};l[0].fileEncoding!==void 0&&(On.target=l[0].fileEncoding),p=new hn({props:On}),be.push(()=>Ie(p,"target",fi)),p.$on("change",function(){st(l[17](l[0].fileEncoding))&&l[17](l[0].fileEncoding).apply(this,arguments)}),ve=new Jt({props:{icon:Ti}});function ci(Q){l[34](Q)}let Pn={};l[0].missingValues!==void 0&&(Pn.list=l[0].missingValues),Ve=new Ba({props:Pn}),be.push(()=>Ie(Ve,"list",ci));let Ht=fe(l[2]),He=[];for(let Q=0;Q<Ht.length;Q+=1)He[Q]=wr(kr(l,Ht,Q));ke=new Jt({props:{icon:Hi}}),et=new ja({});let wt=fe(l[0].preview),_e=[];for(let Q=0;Q<wt.length;Q+=1)_e[Q]=Er(pr(l,wt,Q));const ui=Q=>w(_e[Q],1,1,()=>{_e[Q]=null});return{c(){e=F("form"),t=F("div"),n=F("div"),r=F("div"),i=F("div"),L(s.$$.fragment),o=U(),L(f.$$.fragment),u=U(),L(h.$$.fragment),m=U(),L(p.$$.fragment),k=U(),v=F("div"),g=F("button"),g.textContent=y,A=U(),C=F("button"),C.textContent=I,H=U(),z=F("button"),z.textContent=S,G=U(),ie=F("button"),ie.textContent=se,Ee=U(),he=F("button"),he.textContent=Oe,ze=U(),pe=F("button"),L(ve.$$.fragment),Me=U(),ce=F("div"),L(Ve.$$.fragment),Pe=U(),Ue=F("div"),je=F("div");for(let Q=0;Q<He.length;Q+=1)He[Q].c();it=U(),Je=F("div"),P=F("button"),L(ke.$$.fragment),qe=U(),Le=F("div"),L(et.$$.fragment),bt=U(),Xe=F("div"),Te=F("div"),tt=F("label"),nt=F("b"),nt.textContent=tn,K=U(),Z=le(x),we=U(),Se=F("label"),De=F("b"),De.textContent=qt,Ft=U(),nn=le(at),wn=U(),pt=F("label"),Nt=F("b"),Nt.textContent=An,Dn=U(),ln=le(Kt),En=U(),vt=F("label"),vt.innerHTML=Mn,yn=U(),kt=F("table"),Tt=F("tbody");for(let Q=0;Q<_e.length;Q+=1)_e[Q].c();this.h()},l(Q){e=N(Q,"FORM",{});var ae=M(e);t=N(ae,"DIV",{id:!0,class:!0});var Fe=M(t);n=N(Fe,"DIV",{class:!0});var ct=M(n);r=N(ct,"DIV",{id:!0,class:!0});var Qe=M(r);i=N(Qe,"DIV",{id:!0,class:!0});var Ze=M(i);R(s.$$.fragment,Ze),o=j(Ze),R(f.$$.fragment,Ze),u=j(Ze),R(h.$$.fragment,Ze),m=j(Ze),R(p.$$.fragment,Ze),Ze.forEach(b),k=j(Qe),v=N(Qe,"DIV",{id:!0,class:!0});var Re=M(v);g=N(Re,"BUTTON",{class:!0,id:!0,type:!0,"data-svelte-h":!0}),ge(g)!=="svelte-1vcmr03"&&(g.textContent=y),A=j(Re),C=N(Re,"BUTTON",{class:!0,type:!0,id:!0,"data-svelte-h":!0}),ge(C)!=="svelte-1uhcbun"&&(C.textContent=I),H=j(Re),z=N(Re,"BUTTON",{class:!0,type:!0,id:!0,"data-svelte-h":!0}),ge(z)!=="svelte-1cfm3l4"&&(z.textContent=S),G=j(Re),ie=N(Re,"BUTTON",{class:!0,type:!0,color:!0,id:!0,"data-svelte-h":!0}),ge(ie)!=="svelte-1v4zuqe"&&(ie.textContent=se),Ee=j(Re),he=N(Re,"BUTTON",{class:!0,type:!0,id:!0,"data-svelte-h":!0}),ge(he)!=="svelte-pjfsfy"&&(he.textContent=Oe),ze=j(Re),pe=N(Re,"BUTTON",{title:!0,id:!0,class:!0,type:!0});var oe=M(pe);R(ve.$$.fragment,oe),oe.forEach(b),Re.forEach(b),Me=j(Qe),ce=N(Qe,"DIV",{id:!0,class:!0});var ut=M(ce);R(Ve.$$.fragment,ut),ut.forEach(b),Pe=j(Qe),Ue=N(Qe,"DIV",{class:!0});var rn=M(Ue);je=N(rn,"DIV",{id:!0,class:!0});var Un=M(je);for(let Dt=0;Dt<He.length;Dt+=1)He[Dt].l(Un);Un.forEach(b),it=j(rn),Je=N(rn,"DIV",{class:!0});var jn=M(Je);P=N(jn,"BUTTON",{title:!0,class:!0});var qn=M(P);R(ke.$$.fragment,qn),qn.forEach(b),jn.forEach(b),rn.forEach(b),Qe.forEach(b),qe=j(ct),Le=N(ct,"DIV",{class:!0});var Kn=M(Le);R(et.$$.fragment,Kn),Kn.forEach(b),ct.forEach(b),bt=j(Fe),Xe=N(Fe,"DIV",{id:!0,class:!0});var sn=M(Xe);Te=N(sn,"DIV",{id:!0,class:!0});var dt=M(Te);tt=N(dt,"LABEL",{});var on=M(tt);nt=N(on,"B",{"data-svelte-h":!0}),ge(nt)!=="svelte-sykk0o"&&(nt.textContent=tn),K=j(on),Z=re(on,x),on.forEach(b),we=j(dt),Se=N(dt,"LABEL",{});var an=M(Se);De=N(an,"B",{"data-svelte-h":!0}),ge(De)!=="svelte-5ox7e6"&&(De.textContent=qt),Ft=j(an),nn=re(an,at),an.forEach(b),wn=j(dt),pt=N(dt,"LABEL",{});var fn=M(pt);Nt=N(fn,"B",{"data-svelte-h":!0}),ge(Nt)!=="svelte-1pbimz2"&&(Nt.textContent=An),Dn=j(fn),ln=re(fn,Kt),fn.forEach(b),En=j(dt),vt=N(dt,"LABEL",{class:!0,"data-svelte-h":!0}),ge(vt)!=="svelte-klacyg"&&(vt.innerHTML=Mn),dt.forEach(b),yn=j(sn),kt=N(sn,"TABLE",{class:!0});var Gn=M(kt);Tt=N(Gn,"TBODY",{});var Yn=M(Tt);for(let Dt=0;Dt<_e.length;Dt+=1)_e[Dt].l(Yn);Yn.forEach(b),Gn.forEach(b),sn.forEach(b),Fe.forEach(b),ae.forEach(b),this.h()},h(){E(i,"id","reader selections"),E(i,"class","flex flex-none gap-2"),E(g,"class","btn variant-filled-error"),E(g,"id","selectVar"),E(g,"type","button"),E(C,"class","btn variant-filled-success"),E(C,"type","button"),E(C,"id","selectUnit"),E(z,"class","btn variant-filled-warning"),E(z,"type","button"),E(z,"id","selectDescription"),E(ie,"class","btn variant-filled-secondary"),E(ie,"type","button"),E(ie,"color","info"),E(ie,"id","selectMissingValues"),E(he,"class","btn variant-filled-primary"),E(he,"type","button"),E(he,"id","selectData"),E(pe,"title","reset selection"),E(pe,"id","resetSelection"),E(pe,"class","btn variant-filled-warning text-lg"),E(pe,"type","button"),E(v,"id","markers"),E(v,"class","py-5 flex gap-1"),E(ce,"id","missingvalues"),E(ce,"class","grow"),E(je,"id","errors"),E(je,"class","m-2 text-sm grow text-right"),E(P,"title","save"),E(P,"class","btn variant-filled-primary text-lg"),P.disabled=q=!l[5],E(Je,"class","text-right"),E(Ue,"class","flex"),E(r,"id","edit"),E(r,"class","flex flex-col grow gap-2"),E(Le,"class","controls"),E(n,"class","flex gap-5"),E(vt,"class","grow text-right"),E(Te,"id","data infos"),E(Te,"class","flex flex-auto gap-5 pb-2"),E(kt,"class","table table-compact"),E(Xe,"id","preview data"),E(Xe,"class","flex-col py-5"),E(t,"id","structure-suggestion-container"),E(t,"class","flex-col gap-3")},m(Q,ae){T(Q,e,ae),V(e,t),V(t,n),V(n,r),V(r,i),B(s,i,null),V(i,o),B(f,i,null),V(i,u),B(h,i,null),V(i,m),B(p,i,null),V(r,k),V(r,v),V(v,g),V(v,A),V(v,C),V(v,H),V(v,z),V(v,G),V(v,ie),V(v,Ee),V(v,he),V(v,ze),V(v,pe),B(ve,pe,null),V(r,Me),V(r,ce),B(Ve,ce,null),V(r,Pe),V(r,Ue),V(Ue,je);for(let Fe=0;Fe<He.length;Fe+=1)He[Fe]&&He[Fe].m(je,null);V(Ue,it),V(Ue,Je),V(Je,P),B(ke,P,null),V(n,qe),V(n,Le),B(et,Le,null),V(t,bt),V(t,Xe),V(Xe,Te),V(Te,tt),V(tt,nt),V(tt,K),V(tt,Z),V(Te,we),V(Te,Se),V(Se,De),V(Se,Ft),V(Se,nn),V(Te,wn),V(Te,pt),V(pt,Nt),V(pt,Dn),V(pt,ln),V(Te,En),V(Te,vt),V(Xe,yn),V(Xe,kt),V(kt,Tt);for(let Fe=0;Fe<_e.length;Fe+=1)_e[Fe]&&_e[Fe].m(Tt,null);ft=!0,In||(zn=[Y(g,"click",l[23]),Y(g,"mouseover",l[24]),Y(C,"mouseover",l[25]),Y(C,"click",l[26]),Y(z,"mouseover",l[27]),Y(z,"click",l[28]),Y(ie,"mouseover",l[29]),Y(ie,"click",l[30]),Y(he,"mouseover",l[31]),Y(he,"click",l[32]),Y(pe,"mouseover",l[33]),Y(pe,"click",l[12]),Y(kt,"contextmenu",Xa),Y(t,"mousedown",l[7]),Y(t,"mouseup",l[8]),Y(e,"submit",Pr(l[14]))],In=!0)},p(Q,ae){l=Q;const Fe={};ae[0]&1&&(Fe.source=l[0].delimeters),!a&&ae[0]&1&&(a=!0,Fe.target=l[0].delimeter,Ce(()=>a=!1)),s.$set(Fe);const ct={};ae[0]&1&&(ct.source=l[0].decimals),!c&&ae[0]&1&&(c=!0,ct.target=l[0].decimal,Ce(()=>c=!1)),f.$set(ct);const Qe={};ae[0]&1&&(Qe.source=l[0].textMarkers),!d&&ae[0]&1&&(d=!0,Qe.target=l[0].textMarker,Ce(()=>d=!1)),h.$set(Qe);const Ze={};ae[0]&1&&(Ze.source=l[0].encodings),!D&&ae[0]&1&&(D=!0,Ze.target=l[0].fileEncoding,Ce(()=>D=!1)),p.$set(Ze);const Re={};if(!rt&&ae[0]&1&&(rt=!0,Re.list=l[0].missingValues,Ce(()=>rt=!1)),Ve.$set(Re),ae[0]&4){Ht=fe(l[2]);let oe;for(oe=0;oe<Ht.length;oe+=1){const ut=kr(l,Ht,oe);He[oe]?He[oe].p(ut,ae):(He[oe]=wr(ut),He[oe].c(),He[oe].m(je,null))}for(;oe<He.length;oe+=1)He[oe].d(1);He.length=Ht.length}if((!ft||ae[0]&32&&q!==(q=!l[5]))&&(P.disabled=q),(!ft||ae[0]&1)&&x!==(x=l[0].total+"")&&ue(Z,x),(!ft||ae[0]&1)&&at!==(at=l[0].total-l[0].skipped+"")&&ue(nn,at),(!ft||ae[0]&1)&&Kt!==(Kt=l[0].skipped+"")&&ue(ln,Kt),ae[0]&69195){wt=fe(l[0].preview);let oe;for(oe=0;oe<wt.length;oe+=1){const ut=pr(l,wt,oe);_e[oe]?(_e[oe].p(ut,ae),_(_e[oe],1)):(_e[oe]=Er(ut),_e[oe].c(),_(_e[oe],1),_e[oe].m(Tt,null))}for(W(),oe=wt.length;oe<_e.length;oe+=1)ui(oe);X()}},i(Q){if(!ft){_(s.$$.fragment,Q),_(f.$$.fragment,Q),_(h.$$.fragment,Q),_(p.$$.fragment,Q),_(ve.$$.fragment,Q),_(Ve.$$.fragment,Q),_(ke.$$.fragment,Q),_(et.$$.fragment,Q);for(let ae=0;ae<wt.length;ae+=1)_(_e[ae]);ft=!0}},o(Q){w(s.$$.fragment,Q),w(f.$$.fragment,Q),w(h.$$.fragment,Q),w(p.$$.fragment,Q),w(ve.$$.fragment,Q),w(Ve.$$.fragment,Q),w(ke.$$.fragment,Q),w(et.$$.fragment,Q),_e=_e.filter(Boolean);for(let ae=0;ae<_e.length;ae+=1)w(_e[ae]);ft=!1},d(Q){Q&&b(e),O(s),O(f),O(h),O(p),O(ve),O(Ve),Be(He,Q),O(ke),O(et),Be(_e,Q),In=!1,ot(zn)}}}function Ka(l){let e,t,n,r;const i=[Ya,Ga],s=[];function a(o,f){return!o[0]||o[3].length==0||o[4]==!1?0:1}return e=a(l),t=s[e]=i[e](l),{c(){t.c(),n=J()},l(o){t.l(o),n=J()},m(o,f){s[e].m(o,f),T(o,n,f),r=!0},p(o,f){let c=e;e=a(o),e===c?s[e].p(o,f):(W(),w(s[c],1,1,()=>{s[c]=null}),X(),t=s[e],t?t.p(o,f):(t=s[e]=i[e](o),t.c()),_(t,1),t.m(n.parentNode,n))},i(o){r||(_(t),r=!0)},o(o){w(t),r=!1},d(o){o&&b(n),s[e].d(o)}}}function wr(l){let e,t=l[62]+"",n;return{c(){e=F("label"),n=le(t),this.h()},l(r){e=N(r,"LABEL",{class:!0});var i=M(e);n=re(i,t),i.forEach(b),this.h()},h(){E(e,"class","text-error-500")},m(r,i){T(r,e,i),V(e,n)},p(r,i){i[0]&4&&t!==(t=r[62]+"")&&ue(n,t)},d(r){r&&b(e)}}}function Dr(l){let e,t=(l[59]=l[59].replaceAll(String.fromCharCode(l[0].textMarker),""))+"",n,r,i;function s(...u){return l[35](l[58],l[61],...u)}function a(...u){return l[36](l[58],l[61],...u)}function o(...u){return l[37](l[58],l[61],...u)}function f(...u){return l[38](l[58],l[61],...u)}function c(...u){return l[39](l[58],l[61],...u)}return{c(){e=F("td"),n=le(t),this.h()},l(u){e=N(u,"TD",{class:!0});var h=M(e);n=re(h,t),h.forEach(b),this.h()},h(){var u,h,d,m,p;E(e,"class","hover:cursor-pointer select-none hover:border-surface-400 hover:border-solid hover:border-b-2"),de(e,"variant-soft-error",((u=l[1].find(s))==null?void 0:u.type)===l[6].VARIABLE),de(e,"variant-soft-success",((h=l[1].find(a))==null?void 0:h.type)===l[6].UNIT),de(e,"variant-soft-warning",((d=l[1].find(o))==null?void 0:d.type)===l[6].DESCRIPTION),de(e,"variant-soft-secondary",((m=l[1].find(f))==null?void 0:m.type)===l[6].MISSING_VALUES),de(e,"variant-soft-primary",((p=l[1].find(c))==null?void 0:p.type)===l[6].DATA),de(e,"variant-ghost-surface",l[3][l[58]][l[61]])},m(u,h){T(u,e,h),V(e,n),r||(i=[Y(e,"dblclick",l[11](l[58])),Y(e,"mousedown",l[9](l[58],l[61])),Y(e,"mouseenter",l[10](l[58],l[61]))],r=!0)},p(u,h){var d,m,p,D,k;l=u,h[0]&1&&t!==(t=(l[59]=l[59].replaceAll(String.fromCharCode(l[0].textMarker),""))+"")&&ue(n,t),h[0]&66&&de(e,"variant-soft-error",((d=l[1].find(s))==null?void 0:d.type)===l[6].VARIABLE),h[0]&66&&de(e,"variant-soft-success",((m=l[1].find(a))==null?void 0:m.type)===l[6].UNIT),h[0]&66&&de(e,"variant-soft-warning",((p=l[1].find(o))==null?void 0:p.type)===l[6].DESCRIPTION),h[0]&66&&de(e,"variant-soft-secondary",((D=l[1].find(f))==null?void 0:D.type)===l[6].MISSING_VALUES),h[0]&66&&de(e,"variant-soft-primary",((k=l[1].find(c))==null?void 0:k.type)===l[6].DATA),h[0]&8&&de(e,"variant-ghost-surface",l[3][l[58]][l[61]])},d(u){u&&b(e),r=!1,ot(i)}}}function Er(l){let e,t,n,r,i,s,a,o,f;r=new Jt({props:{icon:Ai,size:"sm"}});let c=fe(l[56].split(String.fromCharCode(l[0].delimeter))),u=[];for(let h=0;h<c.length;h+=1)u[h]=Dr(vr(l,c,h));return{c(){e=F("tr"),t=F("td"),n=F("div"),L(r.$$.fragment),i=U();for(let h=0;h<u.length;h+=1)u[h].c();s=U(),this.h()},l(h){e=N(h,"TR",{});var d=M(e);t=N(d,"TD",{class:!0});var m=M(t);n=N(m,"DIV",{class:!0});var p=M(n);R(r.$$.fragment,p),p.forEach(b),m.forEach(b),i=j(d);for(let D=0;D<u.length;D+=1)u[D].l(d);s=j(d),d.forEach(b),this.h()},h(){E(n,"class","pt-1"),E(t,"class","w-8 hover:cursor-pointer select-none text-sm hover:border-surface-400 hover:border-solid hover:border-b-2")},m(h,d){T(h,e,d),V(e,t),V(t,n),B(r,n,null),V(e,i);for(let m=0;m<u.length;m+=1)u[m]&&u[m].m(e,null);V(e,s),a=!0,o||(f=Y(t,"mousedown",l[16](l[58])),o=!0)},p(h,d){if(l=h,d[0]&3659){c=fe(l[56].split(String.fromCharCode(l[0].delimeter)));let m;for(m=0;m<c.length;m+=1){const p=vr(l,c,m);u[m]?u[m].p(p,d):(u[m]=Dr(p),u[m].c(),u[m].m(e,s))}for(;m<u.length;m+=1)u[m].d(1);u.length=c.length}},i(h){a||(_(r.$$.fragment,h),a=!0)},o(h){w(r.$$.fragment,h),a=!1},d(h){h&&b(e),O(r),Be(u,h),o=!1,f()}}}function Ga(l){let e,t,n;return t=new xr({props:{position:Qt.center,label:"Generate Structure..."}}),{c(){e=F("div"),L(t.$$.fragment),this.h()},l(r){e=N(r,"DIV",{class:!0});var i=M(e);R(t.$$.fragment,i),i.forEach(b),this.h()},h(){E(e,"class","h-full w-full text-surface-700")},m(r,i){T(r,e,i),B(t,e,null),n=!0},p:$,i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){w(t.$$.fragment,r),n=!1},d(r){r&&b(e),O(t)}}}function Ya(l){let e,t,n;return t=new xr({props:{position:Qt.center,label:"Loading Structure Suggestion based on: "+l[0].file}}),{c(){e=F("div"),L(t.$$.fragment),this.h()},l(r){e=N(r,"DIV",{class:!0});var i=M(e);R(t.$$.fragment,i),i.forEach(b),this.h()},h(){E(e,"class","h-full w-full text-surface-700")},m(r,i){T(r,e,i),B(t,e,null),n=!0},p(r,i){const s={};i[0]&1&&(s.label="Loading Structure Suggestion based on: "+r[0].file),t.$set(s)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){w(t.$$.fragment,r),n=!1},d(r){r&&b(e),O(t)}}}function Wa(l){let e,t,n,r;const i=[Ka,qa],s=[];function a(o,f){return!o[0]||o[3].length==0||o[4]==!1?0:1}return e=a(l),t=s[e]=i[e](l),{c(){t.c(),n=J()},l(o){t.l(o),n=J()},m(o,f){s[e].m(o,f),T(o,n,f),r=!0},p(o,f){let c=e;e=a(o),e===c?s[e].p(o,f):(W(),w(s[c],1,1,()=>{s[c]=null}),X(),t=s[e],t?t.p(o,f):(t=s[e]=i[e](o),t.c()),_(t,1),t.m(n.parentNode,n))},i(o){r||(_(t),r=!0)},o(o){w(t),r=!1},d(o){o&&b(n),s[e].d(o)}}}const Xa=l=>l.preventDefault();function Ja(l,e,t){let{model:n}=e,{init:r=!0}=e,i=!1,s=[],a=[],o=0,f=0,c=!0,u=0,h=[];const d={VARIABLE:"variable",DESCRIPTION:"description",UNIT:"unit",MISSING_VALUES:"missing-values",DATA:"data"};let m=!1;const p=Ye();We(async()=>{console.log("start selection suggestion"),console.log("load selection",n.entityId,n.file),D(n.preview,String.fromCharCode(n.delimeter)),k(n.markers,r),n.delimeter,he()});function D(K,x){console.log("set table infos"),o=K[0].split(x).length,f=K.length,t(3,s=new Array(f).fill(!1));for(var Z=0;Z<s.length;Z++)t(3,s[Z]=new Array(o).fill(!1),s);console.log("state",s)}function k(K,x=!1){for(var Z=0;Z<K.length;Z++){let we=K[Z];console.log("marker",we),x?Ee(we.type,we.row-1,we.cells):Ee(we.type,we.row,we.cells)}}function v(K){i=!0}function g(K){i=!1}const y=(K,x)=>Z=>{console.log(Z.type),(Z.which===3||Z.button===2)&&console.log("Right mouse button at "+Z.clientX+"x"+Z.clientY),K!=u&&S(),(i||Z.type==="mousedown")&&(u=K,(Z.which===1||Z.button===0)&&I(x),(Z.which===3||Z.button===2)&&H(x))},A=(K,x)=>Z=>{(i||Z.type==="mousedown")&&((Z.which===1||Z.button===0)&&I(x),(Z.which===3||Z.button===2)&&H(x))},C=K=>x=>{console.log("dblclick",x.type,i),(i||x.type==="dblclick")&&z(u)},I=K=>{t(3,s[u][K]=!0,s)},H=K=>{if(t(3,s[u][K]=!1,s),console.log("deselect"),a.length>0){console.log("selection l:",a.length);for(let x=0;x<a.length;x++){const Z=a[x];Z&&(Z.cells[K]=!1,Ee(Z.type,Z.row,Z.cells))}}ie(),he()},z=K=>{console.log("set true");for(var x=0;x<o;x++)console.log("select row",o),t(3,s[K][x]=!0,s)};function S(){t(3,s=new Array(f).fill(!1));for(var K=0;K<s.length;K++)t(3,s[K]=new Array(o).fill(!1),s)}function G(){t(1,a=[]),t(5,m=!1)}function ie(){t(1,a=a.filter(K=>K.cells.find(x=>x===!0)))}function se(K){let x=s[u];a.length>0&&(x=a[0].cells),Ee(K,u,x),he()}function Ee(K,x,Z){let we={type:K,row:x,cells:Z},Se=a.find(De=>De.row==we.row);Se&&t(1,a=a.filter(De=>De.row!==we.row)),Se=a.find(De=>De.type==we.type),Se&&t(1,a=a.filter(De=>De.type!==we.type)),t(1,a=[...a,we])}function he(){var we;t(2,h=[]);let K=a.find(Se=>Se.type==d.VARIABLE),x=a.find(Se=>Se.type==d.DATA);if(a.length>0){K||h.push("the variables still need to be marked"),x||h.push("the data still need to be marked");let Se=0;for(let De=0;De<a.length;De++){const qt=a[De];console.log(De,qt);let Ft=(we=qt.cells.filter(at=>at==!0))==null?void 0:we.length;if(De>0&&Ft!=Se){h.push("selection mismatch, the rows must have the same number of marked cells  ");break}Se=Ft}t(5,m=h.length==0)}else t(5,m=!1),t(2,h=[])}async function Oe(){if(t(4,c=!0),t(0,n.markers=a,n),n.entityId>0){console.log("save selection",n);let K=await Pa(n);console.log(K),K!=!1&&(console.log("selection",K),p("saved",n),t(4,c=!1))}else p("saved",n),t(4,c=!1)}function ze(){D(n.preview,String.fromCharCode(n.delimeter))}const pe=K=>x=>{console.log(K,x.which,x.button),(x.which===1||x.button===0)&&(S(),console.log(K),z(K),u=K),(x.which===3||x.button===2)&&S()};async function ve(K){const x=K;console.log(" ~ e.detail:",K);const Z=await Oa(n.file,n.entityId,x,0);t(0,n.preview=Z.preview,n)}function Me(K){l.$$.not_equal(n.delimeter,K)&&(n.delimeter=K,t(0,n))}function ce(K){l.$$.not_equal(n.decimal,K)&&(n.decimal=K,t(0,n))}function Ve(K){l.$$.not_equal(n.textMarker,K)&&(n.textMarker=K,t(0,n))}function rt(K){l.$$.not_equal(n.fileEncoding,K)&&(n.fileEncoding=K,t(0,n))}const Pe=()=>se(d.VARIABLE),Ue=()=>ye.show("selectVar"),je=()=>ye.show("selectUnit"),it=()=>se(d.UNIT),Je=()=>ye.show("selectDescription"),P=()=>se(d.DESCRIPTION),ke=()=>ye.show("selectMissingValues"),q=()=>se(d.MISSING_VALUES),qe=()=>ye.show("selectData"),Le=()=>se(d.DATA),et=()=>ye.show("resetSelection");function bt(K){l.$$.not_equal(n.missingValues,K)&&(n.missingValues=K,t(0,n))}const Xe=(K,x,Z)=>Z.row===K&&Z.cells[x]===!0,Te=(K,x,Z)=>Z.row===K&&Z.cells[x]===!0,tt=(K,x,Z)=>Z.row===K&&Z.cells[x]===!0,nt=(K,x,Z)=>Z.row===K&&Z.cells[x]===!0,tn=(K,x,Z)=>Z.row===K&&Z.cells[x]===!0;return l.$$set=K=>{"model"in K&&t(0,n=K.model),"init"in K&&t(18,r=K.init)},l.$$.update=()=>{l.$$.dirty[0]&1,l.$$.dirty[0]&2,l.$$.dirty[0]&4},[n,a,h,s,c,m,d,v,g,y,A,C,G,se,Oe,ze,pe,ve,r,Me,ce,Ve,rt,Pe,Ue,je,it,Je,P,ke,q,qe,Le,et,bt,Xe,Te,tt,nt,tn]}class Qa extends ee{constructor(e){super(),te(this,e,Ja,Wa,ne,{model:0,init:18},null,[-1,-1,-1])}}function Za(l){let e,t,n,r='<h2 class="h2">File reader informations</h2>',i,s,a,o,f,c,u,h,d;return o=new me({props:{icon:kn}}),c=new Qa({props:{model:l[0]}}),c.$on("saved",l[1]),c.$on("error",l[2]),{c(){e=F("div"),t=F("div"),n=F("div"),n.innerHTML=r,i=U(),s=F("div"),a=F("button"),L(o.$$.fragment),f=U(),L(c.$$.fragment),this.h()},l(m){e=N(m,"DIV",{class:!0});var p=M(e);t=N(p,"DIV",{class:!0});var D=M(t);n=N(D,"DIV",{class:!0,"data-svelte-h":!0}),ge(n)!=="svelte-t0ccga"&&(n.innerHTML=r),i=j(D),s=N(D,"DIV",{class:!0});var k=M(s);a=N(k,"BUTTON",{class:!0});var v=M(a);R(o.$$.fragment,v),v.forEach(b),k.forEach(b),D.forEach(b),f=j(p),R(c.$$.fragment,p),p.forEach(b),this.h()},h(){E(n,"class","grow"),E(a,"class","chip variant-filled-warning"),E(s,"class","text-right flex-none w-15"),E(t,"class","flex"),E(e,"class","p-5 space-y-5")},m(m,p){T(m,e,p),V(e,t),V(t,n),V(t,i),V(t,s),V(s,a),B(o,a,null),V(e,f),B(c,e,null),u=!0,h||(d=Y(a,"click",l[1]),h=!0)},p(m,p){const D={};p&1&&(D.model=m[0]),c.$set(D)},i(m){u||(_(o.$$.fragment,m),_(c.$$.fragment,m),u=!0)},o(m){w(o.$$.fragment,m),w(c.$$.fragment,m),u=!1},d(m){m&&b(e),O(o),O(c),h=!1,d()}}}function $a(l){let e,t;return e=new $i({props:{position:"right",width:"10",$$slots:{default:[Za]},$$scope:{ctx:l}}}),e.$on("backdrop",l[1]),e.$on("touchend",l[1]),{c(){L(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,r){B(e,n,r),t=!0},p(n,[r]){const i={};r&129&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function xa(l,e,t){let n;lt(l,St,c=>t(3,n=c));let{model:r}=e;const i=Yr(),s=Ye();function a(){console.log("open",r);const c={id:"example-2",meta:{foo:"bar",fizz:"buzz",age:40}};i.open(c)}function o(){console.log("close selection",n),St.set(Date.now()),i.close(),s("close"),console.log("close selection after update",n)}const f=()=>alert("error");return l.$$set=c=>{"model"in c&&t(0,r=c.model)},l.$$.update=()=>{l.$$.dirty&1&&a()},[r,o,f]}class ef extends ee{constructor(e){super(),te(this,e,xa,$a,ne,{model:0})}}function tf(l){let e,t,n;return t=new me({props:{icon:kn}}),{c(){e=F("span"),L(t.$$.fragment),this.h()},l(r){e=N(r,"SPAN",{class:!0});var i=M(e);R(t.$$.fragment,i),i.forEach(b),this.h()},h(){E(e,"class","chip variant-ghost-error")},m(r,i){T(r,e,i),B(t,e,null),n=!0},p:$,i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){w(t.$$.fragment,r),n=!1},d(r){r&&b(e),O(t)}}}function nf(l){let e;return{c(){e=le(l[0])},l(t){e=re(t,l[0])},m(t,n){T(t,e,n)},p(t,n){n&1&&ue(e,t[0])},i:$,o:$,d(t){t&&b(e)}}}function lf(l){let e,t,n,r;const i=[nf,tf],s=[];function a(o,f){return o[0]?0:1}return t=a(l),n=s[t]=i[t](l),{c(){e=F("b"),n.c()},l(o){e=N(o,"B",{});var f=M(e);n.l(f),f.forEach(b)},m(o,f){T(o,e,f),s[t].m(e,null),r=!0},p(o,[f]){let c=t;t=a(o),t===c?s[t].p(o,f):(W(),w(s[c],1,1,()=>{s[c]=null}),X(),n=s[t],n?n.p(o,f):(n=s[t]=i[t](o),n.c()),_(n,1),n.m(e,null))},i(o){r||(_(n),r=!0)},o(o){w(n),r=!1},d(o){o&&b(e),s[t].d()}}}function rf(l,e,t){let{value:n}=e;return l.$$set=r=>{"value"in r&&t(0,n=r.value)},[n]}class Et extends ee{constructor(e){super(),te(this,e,rf,lf,ne,{value:0})}}function sf(l){var C,I,H;let e,t,n="Separator | Decimal | Text Marker :",r,i,s,a,o,f,c,u,h="Variables | Data | Unit | Description :",d,m,p,D,k,v,g,y,A;return i=new Et({props:{value:l[0]?String.fromCharCode(l[0]):null}}),a=new Et({props:{value:l[2]?String.fromCharCode(l[2]):null}}),f=new Et({props:{value:l[1]?String.fromCharCode(l[1]):null}}),m=new Et({props:{value:l[3]}}),D=new Et({props:{value:(C=l[4])==null?void 0:C.toString()}}),v=new Et({props:{value:(I=l[5])==null?void 0:I.toString()}}),y=new Et({props:{value:(H=l[6])==null?void 0:H.toString()}}),{c(){e=F("div"),t=F("b"),t.textContent=n,r=U(),L(i.$$.fragment),s=le(`
	/
	`),L(a.$$.fragment),o=le(`
	/
	`),L(f.$$.fragment),c=U(),u=F("b"),u.textContent=h,d=U(),L(m.$$.fragment),p=le(`
	/
	`),L(D.$$.fragment),k=le(`
	/
	`),L(v.$$.fragment),g=le(`
	/
	`),L(y.$$.fragment),this.h()},l(z){e=N(z,"DIV",{class:!0});var S=M(e);t=N(S,"B",{"data-svelte-h":!0}),ge(t)!=="svelte-9kzxnd"&&(t.textContent=n),r=j(S),R(i.$$.fragment,S),s=re(S,`
	/
	`),R(a.$$.fragment,S),o=re(S,`
	/
	`),R(f.$$.fragment,S),c=j(S),u=N(S,"B",{"data-svelte-h":!0}),ge(u)!=="svelte-1xn7d3"&&(u.textContent=h),d=j(S),R(m.$$.fragment,S),p=re(S,`
	/
	`),R(D.$$.fragment,S),k=re(S,`
	/
	`),R(v.$$.fragment,S),g=re(S,`
	/
	`),R(y.$$.fragment,S),S.forEach(b),this.h()},h(){E(e,"class","flex gap-5")},m(z,S){T(z,e,S),V(e,t),V(e,r),B(i,e,null),V(e,s),B(a,e,null),V(e,o),B(f,e,null),V(e,c),V(e,u),V(e,d),B(m,e,null),V(e,p),B(D,e,null),V(e,k),B(v,e,null),V(e,g),B(y,e,null),A=!0},p(z,[S]){var pe,ve,Me;const G={};S&1&&(G.value=z[0]?String.fromCharCode(z[0]):null),i.$set(G);const ie={};S&4&&(ie.value=z[2]?String.fromCharCode(z[2]):null),a.$set(ie);const se={};S&2&&(se.value=z[1]?String.fromCharCode(z[1]):null),f.$set(se);const Ee={};S&8&&(Ee.value=z[3]),m.$set(Ee);const he={};S&16&&(he.value=(pe=z[4])==null?void 0:pe.toString()),D.$set(he);const Oe={};S&32&&(Oe.value=(ve=z[5])==null?void 0:ve.toString()),v.$set(Oe);const ze={};S&64&&(ze.value=(Me=z[6])==null?void 0:Me.toString()),y.$set(ze)},i(z){A||(_(i.$$.fragment,z),_(a.$$.fragment,z),_(f.$$.fragment,z),_(m.$$.fragment,z),_(D.$$.fragment,z),_(v.$$.fragment,z),_(y.$$.fragment,z),A=!0)},o(z){w(i.$$.fragment,z),w(a.$$.fragment,z),w(f.$$.fragment,z),w(m.$$.fragment,z),w(D.$$.fragment,z),w(v.$$.fragment,z),w(y.$$.fragment,z),A=!1},d(z){z&&b(e),O(i),O(a),O(f),O(m),O(D),O(v),O(y)}}}function of(l,e,t){let{seperator:n}=e,{textMarker:r}=e,{decimal:i}=e,{orientation:s}=e,{offset:a}=e,{variables:o}=e,{data:f}=e,{unit:c}=e,{description:u}=e,{dateformat:h}=e;return l.$$set=d=>{"seperator"in d&&t(0,n=d.seperator),"textMarker"in d&&t(1,r=d.textMarker),"decimal"in d&&t(2,i=d.decimal),"orientation"in d&&t(7,s=d.orientation),"offset"in d&&t(8,a=d.offset),"variables"in d&&t(3,o=d.variables),"data"in d&&t(4,f=d.data),"unit"in d&&t(5,c=d.unit),"description"in d&&t(6,u=d.description),"dateformat"in d&&t(9,h=d.dateformat)},[n,r,i,o,f,c,u,s,a,h]}class af extends ee{constructor(e){super(),te(this,e,of,sf,ne,{seperator:0,textMarker:1,decimal:2,orientation:7,offset:8,variables:3,data:4,unit:5,description:6,dateformat:9})}}function yr(l){let e,t,n;return t=new me({props:{icon:Nn}}),{c(){e=F("span"),L(t.$$.fragment),this.h()},l(r){e=N(r,"SPAN",{class:!0});var i=M(e);R(t.$$.fragment,i),i.forEach(b),this.h()},h(){E(e,"class","variant-filled-surface text-"+l[6]+"-500")},m(r,i){T(r,e,i),B(t,e,null),n=!0},p:$,i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){w(t.$$.fragment,r),n=!1},d(r){r&&b(e),O(t)}}}function ff(l){let e,t,n=l[1]&&yr(l);return{c(){n&&n.c(),e=J()},l(r){n&&n.l(r),e=J()},m(r,i){n&&n.m(r,i),T(r,e,i),t=!0},p(r,i){r[1]?n?(n.p(r,i),i&2&&_(n,1)):(n=yr(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(W(),w(n,1,1,()=>{n=null}),X())},i(r){t||(_(n),t=!0)},o(r){w(n),t=!1},d(r){r&&b(e),n&&n.d(r)}}}function cf(l){let e;return{c(){e=le("File Reader Information")},l(t){e=re(t,"File Reader Information")},m(t,n){T(t,e,n)},d(t){t&&b(e)}}}function Ir(l){let e,t;return e=new ef({props:{model:l[2]}}),e.$on("close",l[8]),{c(){L(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,r){B(e,n,r),t=!0},p(n,r){const i={};r&4&&(i.model=n[2]),e.$set(i)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function uf(l){let e,t,n,r,i,s,a;const o=[l[1]];let f={};for(let d=0;d<o.length;d+=1)f=Ne(f,o[d]);e=new af({props:f});function c(d){l[11](d)}let u={id:"fileselection",title:"",source:l[3],isMulti:!1,complexTarget:!0,loading:l[4],placeholder:"please select a file to set/update the file reader information"};l[0]!==void 0&&(u.target=l[0]),n=new Ur({props:u}),be.push(()=>Ie(n,"target",c)),n.$on("change",l[7]);let h=l[2]&&Ir(l);return{c(){L(e.$$.fragment),t=U(),L(n.$$.fragment),i=U(),h&&h.c(),s=J()},l(d){R(e.$$.fragment,d),t=j(d),R(n.$$.fragment,d),i=j(d),h&&h.l(d),s=J()},m(d,m){B(e,d,m),T(d,t,m),B(n,d,m),T(d,i,m),h&&h.m(d,m),T(d,s,m),a=!0},p(d,m){const p=m&2?Ke(o,[Ge(d[1])]):{};e.$set(p);const D={};m&8&&(D.source=d[3]),m&16&&(D.loading=d[4]),!r&&m&1&&(r=!0,D.target=d[0],Ce(()=>r=!1)),n.$set(D),d[2]?h?(h.p(d,m),m&4&&_(h,1)):(h=Ir(d),h.c(),_(h,1),h.m(s.parentNode,s)):h&&(W(),w(h,1,1,()=>{h=null}),X())},i(d){a||(_(e.$$.fragment,d),_(n.$$.fragment,d),_(h),a=!0)},o(d){w(e.$$.fragment,d),w(n.$$.fragment,d),w(h),a=!1},d(d){d&&(b(t),b(i),b(s)),O(e,d),O(n,d),h&&h.d(d)}}}function df(l){let e,t;return e=new qr({props:{open:l[5],$$slots:{content:[uf],lead:[cf],summary:[ff]},$$scope:{ctx:l}}}),{c(){L(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,r){B(e,n,r),t=!0},p(n,r){const i={};r&32&&(i.open=n[5]),r&8223&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function mf(l){let e,t,n;return t=new jr({props:{$$slots:{default:[df]},$$scope:{ctx:l}}}),{c(){e=F("div"),L(t.$$.fragment),this.h()},l(r){e=N(r,"DIV",{class:!0});var i=M(e);R(t.$$.fragment,i),i.forEach(b),this.h()},h(){E(e,"class","card shadow-sm border-"+l[6]+"-600 border-solid border")},m(r,i){T(r,e,i),B(t,e,null),n=!0},p(r,[i]){const s={};i&8255&&(s.$$scope={dirty:i,ctx:r}),t.$set(s)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){w(t.$$.fragment,r),n=!1},d(r){r&&b(e),O(t)}}}function hf(l,e,t){let{id:n}=e,{readableFiles:r=[]}=e,{asciiFileReaderInfo:i}=e,{target:s=void 0}=e,a,o=[],f=!1,c=!1,u=i?"success":"warning";async function h(D){if(console.log("file reader select file",D.detail.value),D.detail.value){t(5,c=!0);try{t(2,a=await sa(D.detail.value,n,0)),t(0,s=void 0)}catch{gi.showNotification({notificationType:_i.error,message:"This file has not a proper structure, please try a other one."})}}}function d(D){t(4,f=!0),t(3,o=D.map(k=>k.name)),t(0,s=void 0),t(4,f=!1)}function m(){t(5,c=!1),t(2,a=null)}function p(D){s=D,t(0,s)}return l.$$set=D=>{"id"in D&&t(9,n=D.id),"readableFiles"in D&&t(10,r=D.readableFiles),"asciiFileReaderInfo"in D&&t(1,i=D.asciiFileReaderInfo),"target"in D&&t(0,s=D.target)},l.$$.update=()=>{l.$$.dirty&1,l.$$.dirty&4,l.$$.dirty&1032&&d(r)},[s,i,a,o,f,c,u,h,m,n,r,p]}class gf extends ee{constructor(e){super(),te(this,e,hf,mf,ne,{id:9,readableFiles:10,asciiFileReaderInfo:1,target:0})}}function _f(l){let e,t,n='<div class="w-48 h-6 placeholder"></div> <div class="w-32 h-6 placeholder"></div>',r,i,s;return i=new xt({}),{c(){e=F("div"),t=F("div"),t.innerHTML=n,r=U(),L(i.$$.fragment),this.h()},l(a){e=N(a,"DIV",{class:!0});var o=M(e);t=N(o,"DIV",{class:!0,"data-svelte-h":!0}),ge(t)!=="svelte-196czlf"&&(t.innerHTML=n),r=j(o),R(i.$$.fragment,o),o.forEach(b),this.h()},h(){E(t,"class","flex-none w-48 space-y-2"),E(e,"class","flex p-5 m-2 gap-5 animate-pulse")},m(a,o){T(a,e,o),V(e,t),V(e,r),B(i,e,null),s=!0},p:$,i(a){s||(_(i.$$.fragment,a),s=!0)},o(a){w(i.$$.fragment,a),s=!1},d(a){a&&b(e),O(i)}}}class Yt extends ee{constructor(e){super(),te(this,e,null,_f,ne,{})}}function bf(l){let e,t;return e=new Pt({props:{error:l[21]}}),{c(){L(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,r){B(e,n,r),t=!0},p:$,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function pf(l){let e,t,n,r,i,s,a,o;e=new Qr({props:{id:l[0],version:l[1],context:yf,data:l[2].fileUploader,start:l[3],submit:Ef}}),e.$on("submited",l[7]),e.$on("submit",l[13]),e.$on("error",l[14]),e.$on("success",l[15]);let f=l[2].fileUploader.existingFiles&&Cr(l);function c(m){l[16](m)}function u(m){l[17](m)}function h(m){l[18](m)}let d={id:l[0]};return l[4]!==void 0&&(d.target=l[4]),l[2].fileUploader.existingFiles!==void 0&&(d.readableFiles=l[2].fileUploader.existingFiles),l[2].asciiFileReaderInfo!==void 0&&(d.asciiFileReaderInfo=l[2].asciiFileReaderInfo),r=new gf({props:d}),be.push(()=>Ie(r,"target",c)),be.push(()=>Ie(r,"readableFiles",u)),be.push(()=>Ie(r,"asciiFileReaderInfo",h)),{c(){L(e.$$.fragment),t=U(),f&&f.c(),n=U(),L(r.$$.fragment)},l(m){R(e.$$.fragment,m),t=j(m),f&&f.l(m),n=j(m),R(r.$$.fragment,m)},m(m,p){B(e,m,p),T(m,t,p),f&&f.m(m,p),T(m,n,p),B(r,m,p),o=!0},p(m,p){const D={};p&1&&(D.id=m[0]),p&2&&(D.version=m[1]),p&4&&(D.data=m[2].fileUploader),p&8&&(D.start=m[3]),e.$set(D),m[2].fileUploader.existingFiles?f?(f.p(m,p),p&4&&_(f,1)):(f=Cr(m),f.c(),_(f,1),f.m(n.parentNode,n)):f&&(W(),w(f,1,1,()=>{f=null}),X());const k={};p&1&&(k.id=m[0]),!i&&p&16&&(i=!0,k.target=m[4],Ce(()=>i=!1)),!s&&p&4&&(s=!0,k.readableFiles=m[2].fileUploader.existingFiles,Ce(()=>s=!1)),!a&&p&4&&(a=!0,k.asciiFileReaderInfo=m[2].asciiFileReaderInfo,Ce(()=>a=!1)),r.$set(k)},i(m){o||(_(e.$$.fragment,m),_(f),_(r.$$.fragment,m),o=!0)},o(m){w(e.$$.fragment,m),w(f),w(r.$$.fragment,m),o=!1},d(m){m&&(b(t),b(n)),O(e,m),f&&f.d(m),O(r,m)}}}function Cr(l){let e,t;return e=new $r({props:{id:l[0],files:l[2].fileUploader.existingFiles,descriptionType:l[2].fileUploader.descriptionType,save:wf,remove:Df}}),e.$on("success",l[8]),e.$on("warning",l[9]),{c(){L(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,r){B(e,n,r),t=!0},p(n,r){const i={};r&1&&(i.id=n[0]),r&4&&(i.files=n[2].fileUploader.existingFiles),r&4&&(i.descriptionType=n[2].fileUploader.descriptionType),e.$set(i)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function vf(l){let e,t;return e=new xt({}),{c(){L(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,r){B(e,n,r),t=!0},p:$,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function kf(l){let e,t,n={ctx:l,current:null,token:null,hasCatch:!0,pending:vf,then:pf,catch:bf,value:20,error:21,blocks:[,,,]};return Ct(l[6](),n),{c(){e=F("div"),n.block.c(),this.h()},l(r){e=N(r,"DIV",{class:!0});var i=M(e);n.block.l(i),i.forEach(b),this.h()},h(){E(e,"class","space-y-2")},m(r,i){T(r,e,i),n.block.m(e,n.anchor=null),n.mount=()=>e,n.anchor=null,t=!0},p(r,[i]){l=r,Ot(n,l,i)},i(r){t||(_(n.block),t=!0)},o(r){for(let i=0;i<3;i+=1){const s=n.blocks[i];w(s)}t=!1},d(r){r&&b(e),n.block.d(),n.token=null,n=null}}}let wf="/dcm/fileupload/saveFileDescription",Df="/dcm/fileupload/removefile",Ef="/dcm/fileupload/upload",yf="fileupload";function If(l,e,t){let n,r,i;lt(l,Xt,I=>t(11,r=I)),lt(l,St,I=>t(12,i=I));let{id:s=0}=e,{version:a=1}=e,{hook:o}=e,f="",c,u="";We(async()=>{d()});const h=Ye();async function d(){t(2,c=await gt(o.start,s,a)),t(3,f=o.start),t(5,n=!1),h("dateChanged",{lastModification:c.lastModification})}async function m(){Vt.set(Date.now()),d()}function p(I){console.log("success"),m(),h("success",{text:I.detail.text})}function D(I){console.log("warning"),m(),h("warning",{text:I.detail.text}),t(4,u="")}const k=()=>t(5,n=!0);function v(I){Ae.call(this,l,I)}function g(I){Ae.call(this,l,I)}function y(I){u=I,t(4,u)}function A(I){l.$$.not_equal(c.fileUploader.existingFiles,I)&&(c.fileUploader.existingFiles=I,t(2,c))}function C(I){l.$$.not_equal(c.asciiFileReaderInfo,I)&&(c.asciiFileReaderInfo=I,t(2,c))}return l.$$set=I=>{"id"in I&&t(0,s=I.id),"version"in I&&t(1,a=I.version),"hook"in I&&t(10,o=I.hook)},l.$$.update=()=>{l.$$.dirty&4096&&d(),l.$$.dirty&2048&&d(),l.$$.dirty&4},t(5,n=!1),[s,a,c,f,u,n,d,m,p,D,o,r,i,k,v,g,y,A,C]}class Cf extends ee{constructor(e){super(),te(this,e,If,kf,ne,{id:0,version:1,hook:10})}}const Vf=async l=>{try{return(await $e.get("/dcm/datadescription/availableStructues?id="+l)).data}catch(e){console.error(e)}},Sf=async(l,e)=>{try{return(await $e.put("/dcm/datadescription/set",{id:l,structureId:e})).data}catch(t){console.error(t)}},Ff=async l=>{try{return(await $e.delete("/dcm/datadescription/remove",{id:l})).data}catch(e){throw console.error(e),e}};function Vr(l){let e,t,n,r;function i(a){l[8](a)}let s={id:"SelectDataStructure",title:"Generate based on an uploaded file, select an existing one, or create a new",itemId:"id",itemLabel:"text",itemGroup:"group",complexSource:!0,complexTarget:!0,isMulti:!1,loading:l[1]};return l[0]!==void 0&&(s.source=l[0]),t=new Ur({props:s}),be.push(()=>Ie(t,"source",i)),t.$on("change",l[3]),{c(){e=F("div"),L(t.$$.fragment),this.h()},l(a){e=N(a,"DIV",{class:!0});var o=M(e);R(t.$$.fragment,o),o.forEach(b),this.h()},h(){E(e,"class","flex")},m(a,o){T(a,e,o),B(t,e,null),r=!0},p(a,o){const f={};o&2&&(f.loading=a[1]),!n&&o&1&&(n=!0,f.source=a[0],Ce(()=>n=!1)),t.$set(f)},i(a){r||(_(t.$$.fragment,a),r=!0)},o(a){w(t.$$.fragment,a),r=!1},d(a){a&&b(e),O(t)}}}function Nf(l){let e,t,n=l[0]&&l[2]&&Vr(l);return{c(){n&&n.c(),e=J()},l(r){n&&n.l(r),e=J()},m(r,i){n&&n.m(r,i),T(r,e,i),t=!0},p(r,[i]){r[0]&&r[2]?n?(n.p(r,i),i&5&&_(n,1)):(n=Vr(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(W(),w(n,1,1,()=>{n=null}),X())},i(r){t||(_(n),t=!0)},o(r){w(n),t=!1},d(r){r&&b(e),n&&n.d(r)}}}function Tf(l,e,t){const n=Ye();function r(k,v){pn("/rpm/datastructure/create?entityId="+v+"&file="+k)}function i(){pn("/rpm/datastructure/create?")}let{id:s}=e,{version:a}=e,{hook:o}=e,{model:f}=e,c,u,h=[];We(async()=>{d(),p(f.readableFiles,h),Vt.subscribe(k=>{k>0&&d()}),ht.subscribe(k=>{k>0&&d()})});async function d(){t(1,u=!0),console.log("reload generated data descritoon generate"),t(2,h=await Vf(s)),t(4,f=await gt(o.start,s,a)),p(f.readableFiles,h),t(1,u=!1)}async function m(k){let v=k.detail;v.group==="options"?i():v.group==="file"?(t(1,u=!0),r(k.detail.text,f.id)):v.group==="structure"&&(console.log("select a structure",s,v.id),t(1,u=!0),await Sf(f.id,v.id),n("selected"))}function p(k,v){t(0,c=[]),f.isRestricted==!1&&c.push({id:0,text:"create new",group:"options"}),k&&f.isRestricted==!1&&k.forEach(g=>c.push({id:g.name,text:g.name,group:"file"})),v&&t(0,c=[...c,...v])}function D(k){c=k,t(0,c)}return l.$$set=k=>{"id"in k&&t(5,s=k.id),"version"in k&&t(6,a=k.version),"hook"in k&&t(7,o=k.hook),"model"in k&&t(4,f=k.model)},l.$$.update=()=>{l.$$.dirty&16,l.$$.dirty&1,l.$$.dirty&2,l.$$.dirty&4},[c,u,h,m,f,s,a,o,D]}class Hf extends ee{constructor(e){super(),te(this,e,Tf,Nf,ne,{id:5,version:6,hook:7,model:4})}}function Sr(l){let e,t;return{c(){e=F("p"),t=le(l[2])},l(n){e=N(n,"P",{});var r=M(e);t=re(r,l[2]),r.forEach(b)},m(n,r){T(n,e,r),V(e,t)},p(n,r){r&4&&ue(t,n[2])},d(n){n&&b(e)}}}function Fr(l){let e,t,n;return t=new _t({props:{textCss:"text-surface-500"}}),{c(){e=F("div"),L(t.$$.fragment)},l(r){e=N(r,"DIV",{});var i=M(e);R(t.$$.fragment,i),i.forEach(b)},m(r,i){T(r,e,i),B(t,e,null),n=!0},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){w(t.$$.fragment,r),n=!1},d(r){r&&b(e),O(t)}}}function Nr(l){let e,t,n,r,i;return t=new me({props:{icon:zi}}),{c(){e=F("button"),L(t.$$.fragment),this.h()},l(s){e=N(s,"BUTTON",{title:!0,class:!0});var a=M(e);R(t.$$.fragment,a),a.forEach(b),this.h()},h(){E(e,"title","edit"),E(e,"class","chip variant-filled-secondary")},m(s,a){T(s,e,a),B(t,e,null),n=!0,r||(i=Y(e,"click",l[8]),r=!0)},p:$,i(s){n||(_(t.$$.fragment,s),n=!0)},o(s){w(t.$$.fragment,s),n=!1},d(s){s&&b(e),O(t),r=!1,i()}}}function Tr(l){let e,t,n,r,i;return t=new me({props:{icon:Kr}}),{c(){e=F("button"),L(t.$$.fragment),this.h()},l(s){e=N(s,"BUTTON",{title:!0,class:!0});var a=M(e);R(t.$$.fragment,a),a.forEach(b),this.h()},h(){E(e,"title","remove"),E(e,"class","chip variant-filled-error")},m(s,a){T(s,e,a),B(t,e,null),n=!0,r||(i=Y(e,"click",l[13]),r=!0)},p:$,i(s){n||(_(t.$$.fragment,s),n=!0)},o(s){w(t.$$.fragment,s),n=!1},d(s){s&&b(e),O(t),r=!1,i()}}}function Af(l){let e,t,n,r,i,s,a,o,f,c,u,h,d,m,p,D,k,v,g,y=l[2]&&Sr(l),A=l[5]&&Fr();m=new me({props:{icon:Mi}});let C=l[4]&&Nr(l),I=l[3]===!1&&Tr(l);return{c(){e=F("div"),t=F("div"),n=F("h4"),r=le(l[1]),i=le(" ("),s=le(l[0]),a=le(")"),o=U(),y&&y.c(),f=U(),A&&A.c(),c=U(),u=F("div"),h=F("div"),d=F("button"),L(m.$$.fragment),p=U(),C&&C.c(),D=U(),I&&I.c(),this.h()},l(H){e=N(H,"DIV",{class:!0});var z=M(e);t=N(z,"DIV",{class:!0});var S=M(t);n=N(S,"H4",{class:!0});var G=M(n);r=re(G,l[1]),i=re(G," ("),s=re(G,l[0]),a=re(G,")"),G.forEach(b),o=j(S),y&&y.l(S),f=j(S),A&&A.l(S),S.forEach(b),c=j(z),u=N(z,"DIV",{});var ie=M(u);h=N(ie,"DIV",{class:!0});var se=M(h);d=N(se,"BUTTON",{title:!0,class:!0});var Ee=M(d);R(m.$$.fragment,Ee),Ee.forEach(b),p=j(se),C&&C.l(se),D=j(se),I&&I.l(se),se.forEach(b),ie.forEach(b),z.forEach(b),this.h()},h(){E(n,"class","h4"),E(t,"class","flex-col gap-3 grow"),E(d,"title","download"),E(d,"class","chip variant-filled-secondary"),E(h,"class","flex gap-2 text-end flex-auto"),E(e,"class","show-datadescription-header-container flex")},m(H,z){T(H,e,z),V(e,t),V(t,n),V(n,r),V(n,i),V(n,s),V(n,a),V(t,o),y&&y.m(t,null),V(t,f),A&&A.m(t,null),V(e,c),V(e,u),V(u,h),V(h,d),B(m,d,null),V(h,p),C&&C.m(h,null),V(h,D),I&&I.m(h,null),k=!0,v||(g=Y(d,"click",l[9]),v=!0)},p(H,[z]){(!k||z&2)&&ue(r,H[1]),(!k||z&1)&&ue(s,H[0]),H[2]?y?y.p(H,z):(y=Sr(H),y.c(),y.m(t,f)):y&&(y.d(1),y=null),H[5]?A?z&32&&_(A,1):(A=Fr(),A.c(),_(A,1),A.m(t,null)):A&&(W(),w(A,1,1,()=>{A=null}),X()),H[4]?C?(C.p(H,z),z&16&&_(C,1)):(C=Nr(H),C.c(),_(C,1),C.m(h,D)):C&&(W(),w(C,1,1,()=>{C=null}),X()),H[3]===!1?I?(I.p(H,z),z&8&&_(I,1)):(I=Tr(H),I.c(),_(I,1),I.m(h,null)):I&&(W(),w(I,1,1,()=>{I=null}),X())},i(H){k||(_(A),_(m.$$.fragment,H),_(C),_(I),k=!0)},o(H){w(A),w(m.$$.fragment,H),w(C),w(I),k=!1},d(H){H&&b(e),y&&y.d(),A&&A.d(),O(m),C&&C.d(),I&&I.d(),v=!1,g()}}}function Mf(l,e,t){const n=Wr();let{id:r}=e,{structureId:i}=e,{title:s}=e,{description:a}=e,{fileReaderExist:o}=e,{hasData:f}=e,{enableEdit:c}=e,{readableFiles:u=[]}=e,h=!1;const d=Ye(),m={type:"confirm",title:"Copy",body:"Are you sure you wish to remove the structure?",response:g=>{g===!0&&p()}};async function p(){t(5,h=!0),console.log("remove");try{const g=await Ff(r);if(console.log("remove",g),g==!0)ht.set(Date.now());else{let y=[];y.push("remove failed"),d("error",{messages:y})}}catch{let y=[];y.push("remove failed"),d("error",{messages:y})}t(5,h=!1)}function D(){pn("/rpm/datastructure/edit?structureId="+i)}function k(){pn("/rpm/datastructure/downloadTemplate?id="+i)}const v=()=>n.trigger(m);return l.$$set=g=>{"id"in g&&t(10,r=g.id),"structureId"in g&&t(0,i=g.structureId),"title"in g&&t(1,s=g.title),"description"in g&&t(2,a=g.description),"fileReaderExist"in g&&t(11,o=g.fileReaderExist),"hasData"in g&&t(3,f=g.hasData),"enableEdit"in g&&t(4,c=g.enableEdit),"readableFiles"in g&&t(12,u=g.readableFiles)},[i,s,a,f,c,h,n,m,D,k,r,o,u,v]}class zf extends ee{constructor(e){super(),te(this,e,Mf,Af,ne,{id:10,structureId:0,title:1,description:2,fileReaderExist:11,hasData:3,enableEdit:4,readableFiles:12})}}function Hr(l){let e,t,n;return t=new me({props:{icon:Li}}),{c(){e=F("span"),L(t.$$.fragment),this.h()},l(r){e=N(r,"SPAN",{class:!0});var i=M(e);R(t.$$.fragment,i),i.forEach(b),this.h()},h(){E(e,"class","text-error-500")},m(r,i){T(r,e,i),B(t,e,null),n=!0},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){w(t.$$.fragment,r),n=!1},d(r){r&&b(e),O(t)}}}function Lf(l){let e,t,n,r,i=l[1].original.isKeys&&Hr();return{c(){e=F("div"),t=le(l[0]),n=U(),i&&i.c(),this.h()},l(s){e=N(s,"DIV",{class:!0});var a=M(e);t=re(a,l[0]),n=j(a),i&&i.l(a),a.forEach(b),this.h()},h(){E(e,"class","flex gap-2")},m(s,a){T(s,e,a),V(e,t),V(e,n),i&&i.m(e,null),r=!0},p(s,[a]){(!r||a&1)&&ue(t,s[0]),s[1].original.isKeys?i?a&2&&_(i,1):(i=Hr(),i.c(),_(i,1),i.m(e,null)):i&&(W(),w(i,1,1,()=>{i=null}),X())},i(s){r||(_(i),r=!0)},o(s){w(i),r=!1},d(s){s&&b(e),i&&i.d()}}}function Rf(l,e,t){let{value:n}=e,{row:r}=e;return console.log(r),l.$$set=i=>{"value"in i&&t(0,n=i.value),"row"in i&&t(1,r=i.row)},[n,r]}class Bf extends ee{constructor(e){super(),te(this,e,Rf,Lf,ne,{value:0,row:1})}}function Ar(l){let e,t;return e=new zf({props:{id:l[0],structureId:l[3],title:l[1],description:l[2],fileReaderExist:l[4],readableFiles:l[5],hasData:l[6],enableEdit:l[7]}}),e.$on("error",l[10]),{c(){L(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,r){B(e,n,r),t=!0},p(n,r){const i={};r&1&&(i.id=n[0]),r&8&&(i.structureId=n[3]),r&2&&(i.title=n[1]),r&4&&(i.description=n[2]),r&16&&(i.fileReaderExist=n[4]),r&32&&(i.readableFiles=n[5]),r&64&&(i.hasData=n[6]),r&128&&(i.enableEdit=n[7]),e.$set(i)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Mr(l){let e,t;return e=new Ui({props:{config:l[9]}}),{c(){L(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,r){B(e,n,r),t=!0},p:$,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Of(l){let e,t,n,r=l[5]&&Ar(l),i=l[8]&&Mr(l);return{c(){e=F("div"),r&&r.c(),t=U(),i&&i.c(),this.h()},l(s){e=N(s,"DIV",{class:!0});var a=M(e);r&&r.l(a),t=j(a),i&&i.l(a),a.forEach(b),this.h()},h(){E(e,"class","flex-col space-y-2")},m(s,a){T(s,e,a),r&&r.m(e,null),V(e,t),i&&i.m(e,null),n=!0},p(s,[a]){s[5]?r?(r.p(s,a),a&32&&_(r,1)):(r=Ar(s),r.c(),_(r,1),r.m(e,t)):r&&(W(),w(r,1,1,()=>{r=null}),X()),s[8]?i?(i.p(s,a),a&256&&_(i,1)):(i=Mr(s),i.c(),_(i,1),i.m(e,null)):i&&(W(),w(i,1,1,()=>{i=null}),X())},i(s){n||(_(r),_(i),n=!0)},o(s){w(r),w(i),n=!1},d(s){s&&b(e),r&&r.d(),i&&i.d()}}}function Pf(l,e,t){let{id:n}=e,{title:r}=e,{description:i}=e,{structureId:s}=e,{fileReaderExist:a}=e,{readableFiles:o}=e,{hasData:f}=e,{enableEdit:c}=e,{variables:u=[]}=e;const h=xe([]);h.set(u),console.log(" ~ variables:",u);const d={id:"variables",data:h,height:225,columns:{id:{fixedWidth:100},name:{instructions:{renderComponent:Bf}},isKeys:{exclude:!0,disableFiltering:!0}}};function m(p){Ae.call(this,l,p)}return l.$$set=p=>{"id"in p&&t(0,n=p.id),"title"in p&&t(1,r=p.title),"description"in p&&t(2,i=p.description),"structureId"in p&&t(3,s=p.structureId),"fileReaderExist"in p&&t(4,a=p.fileReaderExist),"readableFiles"in p&&t(5,o=p.readableFiles),"hasData"in p&&t(6,f=p.hasData),"enableEdit"in p&&t(7,c=p.enableEdit),"variables"in p&&t(8,u=p.variables)},[n,r,i,s,a,o,f,c,u,d,m]}class Uf extends ee{constructor(e){super(),te(this,e,Pf,Of,ne,{id:0,title:1,description:2,structureId:3,fileReaderExist:4,readableFiles:5,hasData:6,enableEdit:7,variables:8})}}function jf(l){let e,t;return e=new Pt({props:{error:l[12]}}),{c(){L(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,r){B(e,n,r),t=!0},p(n,r){const i={};r&7&&(i.error=n[12]),e.$set(i)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function qf(l){let e,t,n,r;const i=[Yf,Gf,Kf],s=[];function a(o,f){return o[3]&&o[3].structureId>0?0:o[3]&&o[3].allFilesReadable==!0?1:2}return e=a(l),t=s[e]=i[e](l),{c(){t.c(),n=J()},l(o){t.l(o),n=J()},m(o,f){s[e].m(o,f),T(o,n,f),r=!0},p(o,f){let c=e;e=a(o),e===c?s[e].p(o,f):(W(),w(s[c],1,1,()=>{s[c]=null}),X(),t=s[e],t?t.p(o,f):(t=s[e]=i[e](o),t.c()),_(t,1),t.m(n.parentNode,n))},i(o){r||(_(t),r=!0)},o(o){w(t),r=!1},d(o){o&&b(n),s[e].d(o)}}}function Kf(l){let e,t="not available";return{c(){e=F("span"),e.textContent=t},l(n){e=N(n,"SPAN",{"data-svelte-h":!0}),ge(e)!=="svelte-3ydvy4"&&(e.textContent=t)},m(n,r){T(n,e,r)},p:$,i:$,o:$,d(n){n&&b(e)}}}function Gf(l){let e,t;return e=new Hf({props:{id:l[0],version:l[1],model:l[3],hook:l[2]}}),e.$on("selected",l[5]),{c(){L(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,r){B(e,n,r),t=!0},p(n,r){const i={};r&1&&(i.id=n[0]),r&2&&(i.version=n[1]),r&8&&(i.model=n[3]),r&4&&(i.hook=n[2]),e.$set(i)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Yf(l){let e,t;const n=[l[3]];let r={};for(let i=0;i<n.length;i+=1)r=Ne(r,n[i]);return e=new Uf({props:r}),e.$on("error",l[4]),{c(){L(e.$$.fragment)},l(i){R(e.$$.fragment,i)},m(i,s){B(e,i,s),t=!0},p(i,s){const a=s&8?Ke(n,[Ge(i[3])]):{};e.$set(a)},i(i){t||(_(e.$$.fragment,i),t=!0)},o(i){w(e.$$.fragment,i),t=!1},d(i){O(e,i)}}}function Wf(l){let e,t;return e=new xt({}),{c(){L(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,r){B(e,n,r),t=!0},p:$,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Xf(l){let e,t,n,r={ctx:l,current:null,token:null,hasCatch:!0,pending:Wf,then:qf,catch:jf,value:11,error:12,blocks:[,,,]};return Ct(t=gt(l[2].start,l[0],l[1]),r),{c(){e=J(),r.block.c()},l(i){e=J(),r.block.l(i)},m(i,s){T(i,e,s),r.block.m(i,r.anchor=s),r.mount=()=>e.parentNode,r.anchor=e,n=!0},p(i,[s]){l=i,r.ctx=l,s&7&&t!==(t=gt(l[2].start,l[0],l[1]))&&Ct(t,r)||Ot(r,l,s)},i(i){n||(_(r.block),n=!0)},o(i){for(let s=0;s<3;s+=1){const a=r.blocks[s];w(a)}n=!1},d(i){i&&b(e),r.block.d(i),r.token=null,r=null}}}function Jf(l,e,t){let{id:n=0}=e,{version:r=1}=e,{hook:i}=e,s;const a=Ye();We(async()=>{o(),Vt.subscribe(d=>{d>0&&c()}),ht.subscribe(d=>{d>0&&f()})});async function o(){t(3,s=await gt(i.start,n,r)),a("dateChanged",{lastModification:s.lastModification})}async function f(){o()}async function c(){s&&s.structureId==0&&o()}function u(d){Ae.call(this,l,d)}const h=()=>ht.set(Date.now());return l.$$set=d=>{"id"in d&&t(0,n=d.id),"version"in d&&t(1,r=d.version),"hook"in d&&t(2,i=d.hook)},l.$$.update=()=>{l.$$.dirty&8},[n,r,i,s,u,h]}class Qf extends ee{constructor(e){super(),te(this,e,Jf,Xf,ne,{id:0,version:1,hook:2})}}function Zf(l){let e,t;return e=new Pt({props:{error:l[18]}}),{c(){L(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,r){B(e,n,r),t=!0},p:$,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function $f(l){let e,t,n,r,i,s,a,o,f=l[1]&&zr();return{c(){e=F("div"),t=F("button"),n=le("Submit"),i=U(),f&&f.c(),this.h()},l(c){e=N(c,"DIV",{class:!0});var u=M(e);t=N(u,"BUTTON",{type:!0,class:!0});var h=M(t);n=re(h,"Submit"),h.forEach(b),i=j(u),f&&f.l(u),u.forEach(b),this.h()},h(){E(t,"type","button"),E(t,"class","btn variant-filled-primary"),t.disabled=r=!l[0]||l[1],E(e,"class","flex gap-3 items-center")},m(c,u){T(c,e,u),V(e,t),V(t,n),V(e,i),f&&f.m(e,null),s=!0,a||(o=Y(t,"click",l[12]),a=!0)},p(c,u){(!s||u&3&&r!==(r=!c[0]||c[1]))&&(t.disabled=r),c[1]?f?u&2&&_(f,1):(f=zr(),f.c(),_(f,1),f.m(e,null)):f&&(W(),w(f,1,1,()=>{f=null}),X())},i(c){s||(_(f),s=!0)},o(c){w(f),s=!1},d(c){c&&b(e),f&&f.d(),a=!1,o()}}}function zr(l){let e,t,n;return t=new _t({}),{c(){e=F("div"),L(t.$$.fragment),this.h()},l(r){e=N(r,"DIV",{class:!0});var i=M(e);R(t.$$.fragment,i),i.forEach(b),this.h()},h(){E(e,"class","flex-none")},m(r,i){T(r,e,i),B(t,e,null),n=!0},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){w(t.$$.fragment,r),n=!1},d(r){r&&b(e),O(t)}}}function xf(l){let e,t;return e=new xt({}),{c(){L(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,r){B(e,n,r),t=!0},p:$,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function ec(l){let e,t,n={ctx:l,current:null,token:null,hasCatch:!0,pending:xf,then:$f,catch:Zf,value:17,error:18,blocks:[,,,]};return Ct(l[3](),n),{c(){e=J(),n.block.c()},l(r){e=J(),n.block.l(r)},m(r,i){T(r,e,i),n.block.m(r,n.anchor=i),n.mount=()=>e.parentNode,n.anchor=e,t=!0},p(r,[i]){l=r,Ot(n,l,i)},i(r){t||(_(n.block),t=!0)},o(r){for(let i=0;i<3;i+=1){const s=n.blocks[i];w(s)}t=!1},d(r){r&&b(e),n.block.d(r),n.token=null,n=null}}}function tc(l,e,t){const n=Wr();let{id:r=0}=e,{version:i=1}=e,{status:s=0}=e,{displayName:a=""}=e,{start:o=""}=e,{description:f=""}=e;const c=Ye();let u,h=!1,d=!1;We(async()=>{Vt.subscribe(y=>{y>0&&m()}),ht.subscribe(y=>{y>0&&m()}),St.subscribe(y=>{y>0&&m()}),Hn.subscribe(y=>{y>0&&m()})});async function m(){return console.log("reload submit",o,r,i),t(0,h=!1),t(11,u=await gt(o,r,i)),t(0,h=v()),console.log("reload submit"),u}const p={type:"confirm",title:"Submit",body:"Are you sure you wish to the data?",response:y=>{y===!0&&(k(),n.trigger(D),c("success",{text:"The import of your data has been started."}))}},D={type:"alert",title:"The import of your data has been started.",body:"The editing of your dataset will be disabled until completion.  You will be informed via email once completed. Please check the result and your provided metadata.",buttonTextCancel:"ok"};async function k(){t(1,d=!0);const y=await oo(r);y.success?(y.asyncUpload&&c("success",{text:y.asyncUploadMessage}),Xt.set(Date.now()),t(1,d=!1)):c("error",{messages:y.errors.map(A=>A.issue)})}function v(){return!!(u.hasStructrue==!1&&u.files.length>0||u.hasStructrue==!0&&u.files.length>0&&u.allFilesReadable&&u.isDataValid)}const g=()=>n.trigger(p);return l.$$set=y=>{"id"in y&&t(5,r=y.id),"version"in y&&t(6,i=y.version),"status"in y&&t(7,s=y.status),"displayName"in y&&t(8,a=y.displayName),"start"in y&&t(9,o=y.start),"description"in y&&t(10,f=y.description)},l.$$.update=()=>{l.$$.dirty&2048,l.$$.dirty&1},[h,d,n,m,p,r,i,s,a,o,f,u,g]}class nc extends ee{constructor(e){super(),te(this,e,tc,ec,ne,{id:5,version:6,status:7,displayName:8,start:9,description:10})}}function lc(l){let e,t,n,r,i,s,a;return r=new me({props:{icon:Ri}}),{c(){e=F("div"),t=F("div"),n=F("button"),L(r.$$.fragment),this.h()},l(o){e=N(o,"DIV",{class:!0});var f=M(e);t=N(f,"DIV",{class:!0});var c=M(t);n=N(c,"BUTTON",{class:!0});var u=M(n);R(r.$$.fragment,u),u.forEach(b),c.forEach(b),f.forEach(b),this.h()},h(){E(n,"class","chip variant-filled-secondary flex-none"),E(t,"class","flex gap-3 justify-left"),E(e,"class","flex-col space-y-1")},m(o,f){T(o,e,f),V(e,t),V(t,n),B(r,n,null),i=!0,s||(a=Y(n,"click",l[0]),s=!0)},p:$,i(o){i||(_(r.$$.fragment,o),i=!0)},o(o){w(r.$$.fragment,o),i=!1},d(o){o&&b(e),O(r),s=!1,a()}}}function rc(l,e,t){let{id:n}=e,{version:r}=e,{status:i}=e,{start:s}=e,a=bi+s+"?id="+n+"&version="+r;function o(){var f;(f=window.open(a,"_blank"))==null||f.focus()}return l.$$set=f=>{"id"in f&&t(1,n=f.id),"version"in f&&t(2,r=f.version),"status"in f&&t(3,i=f.status),"start"in f&&t(4,s=f.start)},[o,n,r,i,s]}class ic extends ee{constructor(e){super(),te(this,e,rc,lc,ne,{id:1,version:2,status:3,start:4})}}function sc(l){let e,t;return e=new _t({}),{c(){L(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,r){B(e,n,r),t=!0},p:$,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function oc(l){let e,t,n,r,i,s,a,o,f,c,u;const h=[l[3]];let d={$$slots:{view:[ac]},$$scope:{ctx:l}};for(let C=0;C<h.length;C+=1)d=Ne(d,h[C]);t=new yt({props:d});const m=[l[4]];let p={$$slots:{default:[fc,({dateHandler:C})=>({21:C}),({dateHandler:C})=>C?2097152:0]},$$scope:{ctx:l}};for(let C=0;C<m.length;C+=1)p=Ne(p,m[C]);r=new yt({props:p});const D=[l[5]];let k={$$slots:{default:[cc,({errorHandler:C,successHandler:I,warningHandler:H,dateHandler:z})=>({18:C,19:I,20:H,21:z}),({errorHandler:C,successHandler:I,warningHandler:H,dateHandler:z})=>(C?262144:0)|(I?524288:0)|(H?1048576:0)|(z?2097152:0)]},$$scope:{ctx:l}};for(let C=0;C<D.length;C+=1)k=Ne(k,D[C]);s=new yt({props:k});const v=[l[6]];let g={$$slots:{default:[uc]},$$scope:{ctx:l}};for(let C=0;C<v.length;C+=1)g=Ne(g,v[C]);o=new yt({props:g});const y=[l[7]];let A={$$slots:{default:[dc,({errorHandler:C,successHandler:I,warningHandler:H})=>({18:C,19:I,20:H}),({errorHandler:C,successHandler:I,warningHandler:H})=>(C?262144:0)|(I?524288:0)|(H?1048576:0)]},$$scope:{ctx:l}};for(let C=0;C<y.length;C+=1)A=Ne(A,y[C]);return c=new yt({props:A}),{c(){e=F("div"),L(t.$$.fragment),n=U(),L(r.$$.fragment),i=U(),L(s.$$.fragment),a=U(),L(o.$$.fragment),f=U(),L(c.$$.fragment),this.h()},l(C){e=N(C,"DIV",{class:!0});var I=M(e);R(t.$$.fragment,I),n=j(I),R(r.$$.fragment,I),i=j(I),R(s.$$.fragment,I),a=j(I),R(o.$$.fragment,I),f=j(I),R(c.$$.fragment,I),I.forEach(b),this.h()},h(){E(e,"class","grid divide-y")},m(C,I){T(C,e,I),B(t,e,null),V(e,n),B(r,e,null),V(e,i),B(s,e,null),V(e,a),B(o,e,null),V(e,f),B(c,e,null),u=!0},p(C,I){const H=I&8?Ke(h,[Ge(C[3])]):{};I&4194315&&(H.$$scope={dirty:I,ctx:C}),t.$set(H);const z=I&16?Ke(m,[Ge(C[4])]):{};I&6291475&&(z.$$scope={dirty:I,ctx:C}),r.$set(z);const S=I&32?Ke(D,[Ge(C[5])]):{};I&8126499&&(S.$$scope={dirty:I,ctx:C}),s.$set(S);const G=I&64?Ke(v,[Ge(C[6])]):{};I&4194371&&(G.$$scope={dirty:I,ctx:C}),o.$set(G);const ie=I&128?Ke(y,[Ge(C[7])]):{};I&6029443&&(ie.$$scope={dirty:I,ctx:C}),c.$set(ie)},i(C){u||(_(t.$$.fragment,C),_(r.$$.fragment,C),_(s.$$.fragment,C),_(o.$$.fragment,C),_(c.$$.fragment,C),u=!0)},o(C){w(t.$$.fragment,C),w(r.$$.fragment,C),w(s.$$.fragment,C),w(o.$$.fragment,C),w(c.$$.fragment,C),u=!1},d(C){C&&b(e),O(t),O(r),O(s),O(o),O(c)}}}function ac(l){let e,t,n;const r=[{id:l[0]},{version:l[1]},l[3]];let i={};for(let s=0;s<r.length;s+=1)i=Ne(i,r[s]);return t=new ic({props:i}),{c(){e=F("div"),L(t.$$.fragment),this.h()},l(s){e=N(s,"DIV",{slot:!0});var a=M(e);R(t.$$.fragment,a),a.forEach(b),this.h()},h(){E(e,"slot","view")},m(s,a){T(s,e,a),B(t,e,null),n=!0},p(s,a){const o=a&11?Ke(r,[a&1&&{id:s[0]},a&2&&{version:s[1]},a&8&&Ge(s[3])]):{};t.$set(o)},i(s){n||(_(t.$$.fragment,s),n=!0)},o(s){w(t.$$.fragment,s),n=!1},d(s){s&&b(e),O(t)}}}function fc(l){let e,t,n;function r(...i){return l[9](l[21],...i)}return t=new Qf({props:{id:l[0],version:l[1],hook:l[4]}}),t.$on("error",l[8]),t.$on("dateChanged",r),{c(){e=F("div"),L(t.$$.fragment)},l(i){e=N(i,"DIV",{});var s=M(e);R(t.$$.fragment,s),s.forEach(b)},m(i,s){T(i,e,s),B(t,e,null),n=!0},p(i,s){l=i;const a={};s&1&&(a.id=l[0]),s&2&&(a.version=l[1]),s&16&&(a.hook=l[4]),t.$set(a)},i(i){n||(_(t.$$.fragment,i),n=!0)},o(i){w(t.$$.fragment,i),n=!1},d(i){i&&b(e),O(t)}}}function cc(l){let e,t,n;function r(...o){return l[10](l[18],...o)}function i(...o){return l[11](l[19],...o)}function s(...o){return l[12](l[20],...o)}function a(...o){return l[13](l[21],...o)}return t=new Cf({props:{id:l[0],version:l[1],hook:l[5]}}),t.$on("error",r),t.$on("success",i),t.$on("warning",s),t.$on("dateChanged",a),{c(){e=F("div"),L(t.$$.fragment)},l(o){e=N(o,"DIV",{});var f=M(e);R(t.$$.fragment,f),f.forEach(b)},m(o,f){T(o,e,f),B(t,e,null),n=!0},p(o,f){l=o;const c={};f&1&&(c.id=l[0]),f&2&&(c.version=l[1]),f&32&&(c.hook=l[5]),t.$set(c)},i(o){n||(_(t.$$.fragment,o),n=!0)},o(o){w(t.$$.fragment,o),n=!1},d(o){o&&b(e),O(t)}}}function uc(l){let e,t,n;const r=[{id:l[0]},{version:l[1]},l[6]];let i={};for(let s=0;s<r.length;s+=1)i=Ne(i,r[s]);return t=new Xo({props:i}),{c(){e=F("div"),L(t.$$.fragment)},l(s){e=N(s,"DIV",{});var a=M(e);R(t.$$.fragment,a),a.forEach(b)},m(s,a){T(s,e,a),B(t,e,null),n=!0},p(s,a){const o=a&67?Ke(r,[a&1&&{id:s[0]},a&2&&{version:s[1]},a&64&&Ge(s[6])]):{};t.$set(o)},i(s){n||(_(t.$$.fragment,s),n=!0)},o(s){w(t.$$.fragment,s),n=!1},d(s){s&&b(e),O(t)}}}function dc(l){let e,t,n;const r=[{id:l[0]},{version:l[1]},l[7]];function i(...f){return l[14](l[18],...f)}function s(...f){return l[15](l[19],...f)}function a(...f){return l[16](l[20],...f)}let o={};for(let f=0;f<r.length;f+=1)o=Ne(o,r[f]);return t=new nc({props:o}),t.$on("error",i),t.$on("success",s),t.$on("warning",a),{c(){e=F("div"),L(t.$$.fragment)},l(f){e=N(f,"DIV",{});var c=M(e);R(t.$$.fragment,c),c.forEach(b)},m(f,c){T(f,e,c),B(t,e,null),n=!0},p(f,c){l=f;const u=c&131?Ke(r,[c&1&&{id:l[0]},c&2&&{version:l[1]},c&128&&Ge(l[7])]):{};t.$set(u)},i(f){n||(_(t.$$.fragment,f),n=!0)},o(f){w(t.$$.fragment,f),n=!1},d(f){f&&b(e),O(t)}}}function mc(l){let e,t,n,r;const i=[oc,sc],s=[];function a(o,f){return o[2]?0:1}return e=a(l),t=s[e]=i[e](l),{c(){t.c(),n=J()},l(o){t.l(o),n=J()},m(o,f){s[e].m(o,f),T(o,n,f),r=!0},p(o,[f]){let c=e;e=a(o),e===c?s[e].p(o,f):(W(),w(s[c],1,1,()=>{s[c]=null}),X(),t=s[e],t?t.p(o,f):(t=s[e]=i[e](o),t.c()),_(t,1),t.m(n.parentNode,n))},i(o){r||(_(t),r=!0)},o(o){w(t),r=!1},d(o){o&&b(n),s[e].d(o)}}}function hc(l){console.log("error event in data")}function gc(l,e,t){let{id:n}=e,{version:r}=e,{hooks:i}=e,s,a,o,f,c;function u(A){A.forEach(C=>{C.name=="metadata"&&t(3,s=C),C.name=="fileupload"&&t(5,o=C),C.name=="validation"&&t(6,f=C),C.name=="datadescription"&&t(4,a=C),C.name=="submit"&&t(7,c=C)})}const h=A=>hc(),d=(A,C)=>A(C),m=(A,C)=>A(C),p=(A,C)=>A(C),D=(A,C)=>A(C),k=(A,C)=>A(C),v=(A,C)=>A(C),g=(A,C)=>A(C),y=(A,C)=>A(C);return l.$$set=A=>{"id"in A&&t(0,n=A.id),"version"in A&&t(1,r=A.version),"hooks"in A&&t(2,i=A.hooks)},l.$$.update=()=>{l.$$.dirty&4&&u(i)},[n,r,i,s,a,o,f,c,h,d,m,p,D,k,v,g,y]}class _c extends ee{constructor(e){super(),te(this,e,gc,mc,ne,{id:0,version:1,hooks:2})}}function bc(l){let e,t;return e=new Pt({props:{error:l[17]}}),{c(){L(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,r){B(e,n,r),t=!0},p:$,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function pc(l){let e,t,n,r,i,s=l[2].lastModification&&Lr(l);t=new Qr({props:{id:l[0],version:l[1],context:yc,data:l[2].fileUploader,start:l[3],submit:Ec}}),t.$on("submited",l[5]),t.$on("submit",l[7]),t.$on("error",l[8]),t.$on("success",l[9]);let a=l[2].fileUploader.existingFiles&&Rr(l);return{c(){s&&s.c(),e=U(),L(t.$$.fragment),n=U(),a&&a.c(),r=J()},l(o){s&&s.l(o),e=j(o),R(t.$$.fragment,o),n=j(o),a&&a.l(o),r=J()},m(o,f){s&&s.m(o,f),T(o,e,f),B(t,o,f),T(o,n,f),a&&a.m(o,f),T(o,r,f),i=!0},p(o,f){o[2].lastModification?s?(s.p(o,f),f&4&&_(s,1)):(s=Lr(o),s.c(),_(s,1),s.m(e.parentNode,e)):s&&(W(),w(s,1,1,()=>{s=null}),X());const c={};f&1&&(c.id=o[0]),f&2&&(c.version=o[1]),f&4&&(c.data=o[2].fileUploader),f&8&&(c.start=o[3]),t.$set(c),o[2].fileUploader.existingFiles?a?(a.p(o,f),f&4&&_(a,1)):(a=Rr(o),a.c(),_(a,1),a.m(r.parentNode,r)):a&&(W(),w(a,1,1,()=>{a=null}),X())},i(o){i||(_(s),_(t.$$.fragment,o),_(a),i=!0)},o(o){w(s),w(t.$$.fragment,o),w(a),i=!1},d(o){o&&(b(e),b(n),b(r)),s&&s.d(o),O(t,o),a&&a.d(o)}}}function Lr(l){let e,t;return e=new Zr({props:{milliseconds:new Date(l[2].lastModification)}}),{c(){L(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,r){B(e,n,r),t=!0},p(n,r){const i={};r&4&&(i.milliseconds=new Date(n[2].lastModification)),e.$set(i)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Rr(l){let e,t;return e=new $r({props:{id:l[0],files:l[2].fileUploader.existingFiles,descriptionType:l[2].fileUploader.descriptionType,save:wc,remove:Dc}}),e.$on("success",l[10]),{c(){L(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,r){B(e,n,r),t=!0},p(n,r){const i={};r&1&&(i.id=n[0]),r&4&&(i.files=n[2].fileUploader.existingFiles),r&4&&(i.descriptionType=n[2].fileUploader.descriptionType),e.$set(i)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function vc(l){let e,t,n;return t=new _t({props:{label:"loading File Uploader"}}),{c(){e=F("div"),L(t.$$.fragment),this.h()},l(r){e=N(r,"DIV",{class:!0});var i=M(e);R(t.$$.fragment,i),i.forEach(b),this.h()},h(){E(e,"class","text-surface-800")},m(r,i){T(r,e,i),B(t,e,null),n=!0},p:$,i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){w(t.$$.fragment,r),n=!1},d(r){r&&b(e),O(t)}}}function kc(l){let e,t,n={ctx:l,current:null,token:null,hasCatch:!0,pending:vc,then:pc,catch:bc,value:16,error:17,blocks:[,,,]};return Ct(l[5](),n),{c(){e=J(),n.block.c()},l(r){e=J(),n.block.l(r)},m(r,i){T(r,e,i),n.block.m(r,n.anchor=i),n.mount=()=>e.parentNode,n.anchor=e,t=!0},p(r,[i]){l=r,Ot(n,l,i)},i(r){t||(_(n.block),t=!0)},o(r){for(let i=0;i<3;i+=1){const s=n.blocks[i];w(s)}t=!1},d(r){r&&b(e),n.block.d(r),n.token=null,n=null}}}let wc="/dcm/attachmentupload/saveFileDescription",Dc="/dcm/attachmentupload/removefile",Ec="/dcm/attachmentupload/upload",yc="attachment";function Ic(l,e,t){let n,{id:r=0}=e,{version:i=1}=e,{hook:s}=e,a="",o;We(async()=>{f()}),Ye();async function f(){t(2,o=await gt(s.start,r,i)),t(3,a=s.start),t(4,n=!1)}const c=()=>t(4,n=!0);function u(m){Ae.call(this,l,m)}function h(m){Ae.call(this,l,m)}function d(m){Ae.call(this,l,m)}return l.$$set=m=>{"id"in m&&t(0,r=m.id),"version"in m&&t(1,i=m.version),"hook"in m&&t(6,s=m.hook)},l.$$.update=()=>{l.$$.dirty&4},t(4,n=!1),[r,i,o,a,n,f,s,c,u,h,d]}class Cc extends ee{constructor(e){super(),te(this,e,Ic,kc,ne,{id:0,version:1,hook:6})}}function Br(l,e,t){const n=l.slice();return n[8]=e[t],n}function Vc(l){let e,t;return e=new _t({}),{c(){L(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,r){B(e,n,r),t=!0},p:$,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Sc(l){let e,t,n,r;const i=[l[2],{color:Zt}];let s={$$slots:{default:[Fc,({errorHandler:c,successHandler:u})=>({11:c,12:u}),({errorHandler:c,successHandler:u})=>(c?2048:0)|(u?4096:0)]},$$scope:{ctx:l}};for(let c=0;c<i.length;c+=1)s=Ne(s,i[c]);e=new yt({props:s});let a=fe(l[3]),o=[];for(let c=0;c<a.length;c+=1)o[c]=Or(Br(l,a,c));const f=c=>w(o[c],1,1,()=>{o[c]=null});return{c(){L(e.$$.fragment),t=U();for(let c=0;c<o.length;c+=1)o[c].c();n=J()},l(c){R(e.$$.fragment,c),t=j(c);for(let u=0;u<o.length;u+=1)o[u].l(c);n=J()},m(c,u){B(e,c,u),T(c,t,u);for(let h=0;h<o.length;h+=1)o[h]&&o[h].m(c,u);T(c,n,u),r=!0},p(c,u){const h=u&4?Ke(i,[u&4&&Ge(c[2]),u&0&&{color:Zt}]):{};if(u&14343&&(h.$$scope={dirty:u,ctx:c}),e.$set(h),u&11){a=fe(c[3]);let d;for(d=0;d<a.length;d+=1){const m=Br(c,a,d);o[d]?(o[d].p(m,u),_(o[d],1)):(o[d]=Or(m),o[d].c(),_(o[d],1),o[d].m(n.parentNode,n))}for(W(),d=a.length;d<o.length;d+=1)f(d);X()}},i(c){if(!r){_(e.$$.fragment,c);for(let u=0;u<a.length;u+=1)_(o[u]);r=!0}},o(c){w(e.$$.fragment,c),o=o.filter(Boolean);for(let u=0;u<o.length;u+=1)w(o[u]);r=!1},d(c){c&&(b(t),b(n)),O(e,c),Be(o,c)}}}function Fc(l){let e,t,n;function r(...s){return l[5](l[11],...s)}function i(...s){return l[6](l[12],...s)}return t=new Cc({props:{id:l[0],version:l[1],hook:l[2]}}),t.$on("error",r),t.$on("success",i),{c(){e=F("div"),L(t.$$.fragment)},l(s){e=N(s,"DIV",{});var a=M(e);R(t.$$.fragment,a),a.forEach(b)},m(s,a){T(s,e,a),B(t,e,null),n=!0},p(s,a){l=s;const o={};a&1&&(o.id=l[0]),a&2&&(o.version=l[1]),a&4&&(o.hook=l[2]),t.$set(o)},i(s){n||(_(t.$$.fragment,s),n=!0)},o(s){w(t.$$.fragment,s),n=!1},d(s){s&&b(e),O(t)}}}function Nc(l){let e,t,n,r;const i=[{id:l[0]},{version:l[1]},l[8]];let s={};for(let a=0;a<i.length;a+=1)s=Ne(s,i[a]);return t=new vo({props:s}),{c(){e=F("div"),L(t.$$.fragment),n=U()},l(a){e=N(a,"DIV",{});var o=M(e);R(t.$$.fragment,o),o.forEach(b),n=j(a)},m(a,o){T(a,e,o),B(t,e,null),T(a,n,o),r=!0},p(a,o){const f=o&11?Ke(i,[o&1&&{id:a[0]},o&2&&{version:a[1]},o&8&&Ge(a[8])]):{};t.$set(f)},i(a){r||(_(t.$$.fragment,a),r=!0)},o(a){w(t.$$.fragment,a),r=!1},d(a){a&&(b(e),b(n)),O(t)}}}function Or(l){let e,t;const n=[l[8],{color:Zt}];let r={$$slots:{default:[Nc]},$$scope:{ctx:l}};for(let i=0;i<n.length;i+=1)r=Ne(r,n[i]);return e=new yt({props:r}),{c(){L(e.$$.fragment)},l(i){R(e.$$.fragment,i)},m(i,s){B(e,i,s),t=!0},p(i,s){const a=s&8?Ke(n,[s&8&&Ge(i[8]),s&0&&{color:Zt}]):{};s&8203&&(a.$$scope={dirty:s,ctx:i}),e.$set(a)},i(i){t||(_(e.$$.fragment,i),t=!0)},o(i){w(e.$$.fragment,i),t=!1},d(i){O(e,i)}}}function Tc(l){let e,t,n,r;const i=[Sc,Vc],s=[];function a(o,f){return o[3]?0:1}return t=a(l),n=s[t]=i[t](l),{c(){e=F("div"),n.c(),this.h()},l(o){e=N(o,"DIV",{class:!0});var f=M(e);n.l(f),f.forEach(b),this.h()},h(){E(e,"class",Zt)},m(o,f){T(o,e,f),s[t].m(e,null),r=!0},p(o,[f]){let c=t;t=a(o),t===c?s[t].p(o,f):(W(),w(s[c],1,1,()=>{s[c]=null}),X(),n=s[t],n?n.p(o,f):(n=s[t]=i[t](o),n.c()),_(n,1),n.m(e,null))},i(o){r||(_(n),r=!0)},o(o){w(n),r=!1},d(o){o&&b(e),s[t].d()}}}let Zt="bg-surface-200";function Hc(l,e,t){let n,{id:r}=e,{version:i}=e,{hooks:s=[]}=e,a;function o(u){console.log("h",u),u.forEach(h=>{h.name=="attachments"?t(2,a=h):n.push(h)})}const f=(u,h)=>u(h),c=(u,h)=>u(h);return l.$$set=u=>{"id"in u&&t(0,r=u.id),"version"in u&&t(1,i=u.version),"hooks"in u&&t(4,s=u.hooks)},l.$$.update=()=>{l.$$.dirty&16&&o(s)},t(3,n=[]),[r,i,a,n,s,f,c]}class Ac extends ee{constructor(e){super(),te(this,e,Hc,Tc,ne,{id:0,version:1,hooks:4})}}function Mc(l){let e,t,n,r,i,s,a,o,f,c,u,h,d,m,p,D,k,v;return e=new Yt({}),i=new Yt({}),f=new Yt({}),d=new Yt({}),k=new Yt({}),{c(){L(e.$$.fragment),t=U(),n=F("hr"),r=U(),L(i.$$.fragment),s=U(),a=F("hr"),o=U(),L(f.$$.fragment),c=U(),u=F("hr"),h=U(),L(d.$$.fragment),m=U(),p=F("hr"),D=U(),L(k.$$.fragment)},l(g){R(e.$$.fragment,g),t=j(g),n=N(g,"HR",{}),r=j(g),R(i.$$.fragment,g),s=j(g),a=N(g,"HR",{}),o=j(g),R(f.$$.fragment,g),c=j(g),u=N(g,"HR",{}),h=j(g),R(d.$$.fragment,g),m=j(g),p=N(g,"HR",{}),D=j(g),R(k.$$.fragment,g)},m(g,y){B(e,g,y),T(g,t,y),T(g,n,y),T(g,r,y),B(i,g,y),T(g,s,y),T(g,a,y),T(g,o,y),B(f,g,y),T(g,c,y),T(g,u,y),T(g,h,y),B(d,g,y),T(g,m,y),T(g,p,y),T(g,D,y),B(k,g,y),v=!0},p:$,i(g){v||(_(e.$$.fragment,g),_(i.$$.fragment,g),_(f.$$.fragment,g),_(d.$$.fragment,g),_(k.$$.fragment,g),v=!0)},o(g){w(e.$$.fragment,g),w(i.$$.fragment,g),w(f.$$.fragment,g),w(d.$$.fragment,g),w(k.$$.fragment,g),v=!1},d(g){g&&(b(t),b(n),b(r),b(s),b(a),b(o),b(c),b(u),b(h),b(m),b(p),b(D)),O(e,g),O(i,g),O(f,g),O(d,g),O(k,g)}}}class ii extends ee{constructor(e){super(),te(this,e,null,Mc,ne,{})}}function zc(l){let e,t;return e=new Pt({props:{error:l[21]}}),{c(){L(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,r){B(e,n,r),t=!0},p:$,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Lc(l){let e,t,n,r;const i=[Bc,Rc],s=[];function a(o,f){return o[4]&&o[4].hooks&&o[5]&&o[6]&&o[1]?0:1}return e=a(l),t=s[e]=i[e](l),{c(){t.c(),n=J()},l(o){t.l(o),n=J()},m(o,f){s[e].m(o,f),T(o,n,f),r=!0},p(o,f){let c=e;e=a(o),e===c?s[e].p(o,f):(W(),w(s[c],1,1,()=>{s[c]=null}),X(),t=s[e],t?t.p(o,f):(t=s[e]=i[e](o),t.c()),_(t,1),t.m(n.parentNode,n))},i(o){r||(_(t),r=!0)},o(o){w(t),r=!1},d(o){o&&b(n),s[e].d(o)}}}function Rc(l){let e,t;return e=new ii({}),{c(){L(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,r){B(e,n,r),t=!0},p:$,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Bc(l){let e,t,n,r,i,s,a,o;function f(d){l[9](d)}let c={id:l[2],version:l[3]};l[5]!==void 0&&(c.hooks=l[5]),e=new _c({props:c}),be.push(()=>Ie(e,"hooks",f));function u(d){l[10](d)}let h={id:l[2],version:l[3]};return l[6]!==void 0&&(h.hooks=l[6]),s=new Ac({props:h}),be.push(()=>Ie(s,"hooks",u)),{c(){L(e.$$.fragment),n=U(),r=F("hr"),i=U(),L(s.$$.fragment),this.h()},l(d){R(e.$$.fragment,d),n=j(d),r=N(d,"HR",{class:!0}),i=j(d),R(s.$$.fragment,d),this.h()},h(){E(r,"class","!border-dashed")},m(d,m){B(e,d,m),T(d,n,m),T(d,r,m),T(d,i,m),B(s,d,m),o=!0},p(d,m){const p={};m&4&&(p.id=d[2]),m&8&&(p.version=d[3]),!t&&m&32&&(t=!0,p.hooks=d[5],Ce(()=>t=!1)),e.$set(p);const D={};m&4&&(D.id=d[2]),m&8&&(D.version=d[3]),!a&&m&64&&(a=!0,D.hooks=d[6],Ce(()=>a=!1)),s.$set(D)},i(d){o||(_(e.$$.fragment,d),_(s.$$.fragment,d),o=!0)},o(d){w(e.$$.fragment,d),w(s.$$.fragment,d),o=!1},d(d){d&&(b(n),b(r),b(i)),O(e,d),O(s,d)}}}function Oc(l){let e,t;return e=new ii({}),{c(){L(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,r){B(e,n,r),t=!0},p:$,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function Pc(l){let e,t,n,r;e=new mo({props:{id:l[2],version:l[3],title:l[0]}});let i={ctx:l,current:null,token:null,hasCatch:!0,pending:Oc,then:Lc,catch:zc,value:20,error:21,blocks:[,,,]};return Ct(l[7](),i),{c(){L(e.$$.fragment),t=U(),n=J(),i.block.c()},l(s){R(e.$$.fragment,s),t=j(s),n=J(),i.block.l(s)},m(s,a){B(e,s,a),T(s,t,a),T(s,n,a),i.block.m(s,i.anchor=a),i.mount=()=>n.parentNode,i.anchor=n,r=!0},p(s,a){l=s;const o={};a&4&&(o.id=l[2]),a&8&&(o.version=l[3]),a&1&&(o.title=l[0]),e.$set(o),Ot(i,l,a)},i(s){r||(_(e.$$.fragment,s),_(i.block),r=!0)},o(s){w(e.$$.fragment,s);for(let a=0;a<3;a+=1){const o=i.blocks[a];w(o)}r=!1},d(s){s&&(b(t),b(n)),O(e,s),i.block.d(s),i.token=null,i=null}}}function Uc(l){let e,t,n,r;return e=new Bi({props:{title:"Edit: ("+l[2]+" | "+l[0]+")",contentLayoutType:pi.full,$$slots:{default:[Pc]},$$scope:{ctx:l}}}),n=new yi({}),{c(){L(e.$$.fragment),t=U(),L(n.$$.fragment)},l(i){R(e.$$.fragment,i),t=j(i),R(n.$$.fragment,i)},m(i,s){B(e,i,s),T(i,t,s),B(n,i,s),r=!0},p(i,[s]){const a={};s&5&&(a.title="Edit: ("+i[2]+" | "+i[0]+")"),s&4194431&&(a.$$scope={dirty:s,ctx:i}),e.$set(a)},i(i){r||(_(e.$$.fragment,i),_(n.$$.fragment,i),r=!0)},o(i){w(e.$$.fragment,i),w(n.$$.fragment,i),r=!1},d(i){i&&b(t),O(e,i),O(n,i)}}}function jc(l){return new Promise(e=>setTimeout(e,l))}function qc(l,e,t){let n;lt(l,Sn,I=>t(15,n=I));let r,i=0,s,a="",o={id:0,versionId:0,version:0,title:"",hooks:[],views:[]},f,c,u,h,d,m,p;Vt.subscribe(I=>{k()}),ht.subscribe(I=>{k()}),St.subscribe(I=>{k()}),Hn.subscribe(I=>{k()}),Xt.subscribe(I=>{k()});async function D(){console.log("LOAD EDIT",Date.now),r=document.getElementById("edit"),t(2,i=Number(r==null?void 0:r.getAttribute("dataset"))),t(3,s=Number(r==null?void 0:r.getAttribute("version"))),t(4,o=await io(i)),c=o.hooks,d=o.views,t(0,a=o.title),t(3,s=o.version),console.log(" ~ file: +page.svelte:89 ~ load ~ hooks:",c),o.hooks&&(y(o.hooks),v(o.hooks),g(d))}async function k(){let I=!1,H=1e3;if(i>0)do{const z=await so(i);t(4,o.hooks=z,o),o.hooks&&(y(o.hooks),o.hooks.filter(S=>S.status==6).length>0?I=!0:I=!1,H<=1e4&&(H=H*2)),await jc(H),console.log("test")}while(I)}function v(I){t(5,u=[]),t(6,h=[]),I.forEach(H=>{H.name=="metadata"||H.name=="fileupload"||H.name=="validation"||H.name=="submit"||H.name=="datadescription"?u.push(H):h.push(H)})}function g(I){I.forEach(H=>{H.name=="messages"?t(8,p=H):m.push(H)})}function y(I){let H={"":0};I!==void 0&&(I.forEach(z=>{H[z.name]=z.status}),Sn.set(H)),t(1,f=n)}function A(I){u=I,t(5,u)}function C(I){h=I,t(6,h)}return l.$$.update=()=>{l.$$.dirty&1,l.$$.dirty&2,l.$$.dirty&256},c=[],t(5,u=[]),t(6,h=[]),d=[],m=[],[a,f,i,s,o,u,h,D,p,A,C]}class ou extends ee{constructor(e){super(),te(this,e,qc,Uc,ne,{})}}export{ou as component,su as universal};
