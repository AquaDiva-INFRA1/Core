import{w as c}from"./index.BdgOChyx.js";import{q as l,r as d}from"./scheduler.D3weHRKQ.js";const f="modalStore";function M(){const i=d(f);if(!i)throw new Error("modalStore is not initialized. Please ensure that `initializeStores()` is invoked in the root layout file of this app!");return i}function S(){const i=g();return l(f,i)}function g(){const{subscribe:i,set:u,update:n}=c([]);return{subscribe:i,set:u,update:n,trigger:r=>n(s=>(s.push(r),s)),close:()=>n(r=>(r.length>0&&r.shift(),r)),clear:()=>u([])}}const p={message:"Missing Toast Message",autohide:!0,timeout:5e3},m="toastStore";function k(){const i=d(m);if(!i)throw new Error("toastStore is not initialized. Please ensure that `initializeStores()` is invoked in the root layout file of this app!");return i}function w(){const i=T();return l(m,i)}function b(){const i=Math.random();return Number(i).toString(32)}function T(){const{subscribe:i,set:u,update:n}=c([]),r=t=>n(e=>{if(e.length>0){const a=e.findIndex(h=>h.id===t),o=e[a];o&&(o.callback&&o.callback({id:t,status:"closed"}),o.timeoutId&&clearTimeout(o.timeoutId),e.splice(a,1))}return e});function s(t){if(t.autohide===!0)return setTimeout(()=>{r(t.id)},t.timeout)}return{subscribe:i,close:r,trigger:t=>{const e=b();return n(a=>{t&&t.callback&&t.callback({id:e,status:"queued"}),t.hideDismiss&&(t.autohide=!0);const o={...p,...t,id:e};return o.timeoutId=s(o),a.push(o),a}),e},freeze:t=>n(e=>(e.length>0&&clearTimeout(e[t].timeoutId),e)),unfreeze:t=>n(e=>(e.length>0&&(e[t].timeoutId=s(e[t])),e)),clear:()=>u([])}}export{w as a,k as b,M as g,S as i};
